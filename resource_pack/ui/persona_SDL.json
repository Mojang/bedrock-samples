{
  "namespace": "persona_sdl",

  /////////////////////////////////////////////////////////////////////////////////////////////////
  // Helpers
  /////////////////////////////////////////////////////////////////////////////////////////////////

  "horizontal_fill_padding": {
    "type": "panel",
    "size": [ "fill", "100%sm" ]
  },

  "horizontal_1_padding": {
    "type": "panel",
    "size": [ 1, "100%" ]
  },

  "horizontal_2_padding": {
    "type": "panel",
    "size": [ 2, "100%" ]
  },

  "horizontal_padding_4px": {
    "type": "panel",
    "size": [ 4, "100%sm" ]
  },

  "horizontal_padding_6px": {
    "type": "panel",
    "size": [ 6, "100%sm" ]
  },

  "vertical_padding_1px": {
    "type": "panel",
    "size": [ "100%", 2 ]
  },

  "vertical_padding_2px": {
    "type": "panel",
    "size": [ "100%", 2 ]
  },

  "sides_padding_panel": {
    "type": "panel",
    "size": [ "5%", 0 ]
  },

  "general_text_field": {
    "type": "label",
    "color": "$generic_button_text_color",
    "font_scale_factor": "$font_scale",
    "$font_type|default": "default",
    "font_type": "$font_type",
    "$font_scale|default": 1.0,
    "$text_anchor|default": "left_middle",
    "anchor_from": "$text_anchor",
    "anchor_to": "$text_anchor"
  },

  "right_icon@persona_common.icon_image": {
    "size": [ 4, 7 ],
    "color": "$dressing_room_dark_button_color",
    "texture": "textures/ui/chevron_right"
  },

  "left_icon@persona_common.icon_image": {
    "size": [ 4, 7 ],
    "color": "$dressing_room_dark_button_color",
    "texture": "textures/ui/chevron_left"
  },

  "lock_icon@persona_common.icon_image": {
    "size": [ 12, 11 ],
    "texture": "textures/ui/icon_lock"
  },

  "realms_icon@persona_common.icon_image": {
    "size": [ 11, 14 ],
    "texture": "textures/ui/realmsIcon"
  },

  "realms_small_icon@persona_common.icon_image": {
    "size": [ 8, 10 ],
    "texture": "textures/ui/realm_icon_small"
  },

  "realms_banner_small@persona_common.icon_image": {
    "size": [ 14, 12 ],
    "texture": "textures/ui/realm_banner_small"
  },

  "mashup_hangar@persona_common.icon_image": {
    "size": [ 8, 8 ],
    "bilinear": true,
    "texture": "textures/ui/glyph_skin_pack"
  },

  "mashup_world@persona_common.icon_image": {
    "size": [ 8, 8 ],
    "bilinear": true,
    "texture": "textures/ui/glyph_world_template"
  },

  "mashup_PaintBrush@persona_common.icon_image": {
    "size": [ 8, 8 ],
    "bilinear": true,
    "texture": "textures/ui/glyph_resource_pack"
  },

  "info_bulb_icon@persona_common.icon_image": {
    "size": [ 7, 9 ],
    "texture": "textures/ui/infobulb"
  },

  "green_checkmark_icon@persona_common.icon_image": {
    "size": [ 9, 7 ],
    "texture": "textures/ui/realms_green_check"
  },

  "common_image": {
    "type": "image",
    "layer": 2,
    "keep_ratio": false,
    "texture": "$image",
    "$image|default": "#texture",
    "$image_binding_name|default": "#none",
    "$image_binding_type|default": "none",

    "bindings": [
      {
        "binding_type": "$image_binding_type",
        "binding_name": "$image_binding_name",
        "binding_name_override": "#texture"
      }
    ]
  },

  "common_icon@common_image": {
    "size": [ 12, 12 ],
    "$icon_image|default": "textures/ui/white_background",
    "$image|default": "$icon_image",
    "$icon_binding_type|default": "none",
    "$image_binding_type": "$icon_binding_type",
    "$icon_binding_name|default": "#none",
    "$image_binding_name": "$icon_binding_name"
  },

  "popup_anim_end": {
    "anim_type": "alpha",
    "easing": "linear",
    "from": 1.0,
    "to": 0.0,
    "duration": "$transition_out_time",
    "destroy_at_end": "toast_message",
    "end_event": "toast_end"
  },

  "popup_anim_wait": {
    "anim_type": "wait",
    "duration": "$display_time",
    "next": "@persona_sdl.popup_anim_end"
  },

  "popup_anim_start": {
    "anim_type": "alpha",
    "easing": "linear",
    "from": 0.0,
    "to": 1.0,
    "duration": "$transition_in_time",
    "next": "@persona_sdl.popup_anim_wait"
  },

  "pick_axe_animation": {
    "anim_type": "flip_book",
    "initial_uv": [ 0, 0 ],
    "frame_count": 91,
    "frame_step": 10,
    "fps": 30,
    "reversible": false,
    "easing": "linear"
  },

  "loading_icon": {
    "type": "image",
    "layer": 1,
    "texture": "textures/ui/mine_chop_dig_animation",
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "size": [ 30, 30 ],
    "uv_size": [ 10, 10 ],
    "uv": "@persona_sdl.pick_axe_animation",
    "color": [ 1, 1, 1, 1 ]
  },

  "view_character_icon@persona_sdl.common_image": {
    "size": [ 14, 14 ],
    "texture": "textures/ui/icon_preview"
  },

  "replay_emote_icon@persona_sdl.common_image": {
    "size": [ 14, 14 ],
    "texture": "textures/ui/book_arrowright_pressed_transparent"
  },

  "info_glyph_icon@persona_sdl.common_image": {
    "size": [ 14, 14 ],
    "texture": "textures/ui/blue_info_glyph"
  },

  "profile_button_image_content": {
    "type": "image",
    "size": "$button_image_content_size",
    "$button_image_content_size|default": [ "100%", "100%" ],
    "layer": 2,
    "alpha": "$alpha",
    "texture": "$profile_button_image",
    "$texture_color|default": "white",
    "color": "$texture_color",
    "variables": [
      {
        "requires": "$locked_state",
        "$alpha": 0.6
      },
      {
        "requires": "(not $locked_state)",
        "$alpha": 1.0
      }
    ]
  },

  "scroll_section@common.scrolling_panel": {
    "size": [ "100%", "100%" ],
    "$scrolling_pane_size": [ "100%", "100%" ],
    "$scrolling_pane_offset": [ 0, 0 ],
    "$scrolling_content_anchor_from": "top_middle",
    "$scrolling_content_anchor_to": "top_middle",
    "$scroll_size": [ 5, "100% - 8px" ],
    "$scroll_bar_left_padding_size": [ 0, 0 ],
    "$scroll_view_port_size": [ "100% - 8px", "100%" ],
    "$show_background": false,
    "$bar_visible": true,
    "$scroll_bar_contained": true
  },

  /////////////////////////////////////////////////////////////////////////////////////////////////
  // Color Picker
  /////////////////////////////////////////////////////////////////////////////////////////////////

  "color_picker_left_cycle@common_buttons.light_content_button": {
    "$button_content": "persona_sdl.left_icon",
    "$pressed_button_name": "button.swap_color_channel_left",
    "$default_state_border_visible": false,
    "$hover_state_border_visible": false,
    "$pressed_state_border_visible": false,
    "$locked_state_border_visible": false,
    "button_mappings": [
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  "color_picker_right_cycle@common_buttons.light_content_button": {
    "$button_content": "persona_sdl.right_icon",
    "$pressed_button_name": "button.swap_color_channel_right",
    "$default_state_border_visible": false,
    "$hover_state_border_visible": false,
    "$pressed_state_border_visible": false,
    "$locked_state_border_visible": false,
    "button_mappings": [
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  "color_grid_icon": {
    "type": "image",
    "size": [ "100%", "100%" ],
    "texture": "textures/ui/white_background",
    "bindings": [
      {
        "binding_name": "#current_panel_color",
        "binding_name_override": "#color",
        "binding_type": "collection",
        "binding_collection_name": "color_collection"
      }
    ],
    "controls": [
      {
        "equipped@persona_sdl.equipped_border": {
          "size": [ "100% + 2px", "100% + 2px" ],
          "bindings": [
            {
              "binding_name": "#color_equipped",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "color_collection"
            }
          ]
        }
      },
      {
        "selected@persona_sdl.selected_border": {
          "size": [ "100% + 2px", "100% + 2px" ],
          "layer": 1,
          "bindings": [
            {
              "binding_name": "#color_selected",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "color_collection"
            }
          ]
        }
      }
    ]
  },

  "color_grid_item@common_buttons.light_content_button": {
    "size": [ "17% - 2px", "100%x" ],
    "layer": 3,
    "tts_name": "#tts_color_name",

    "$border_hover_layer": 10,
    "$light_border_hover_color": "$dressing_room_hover_color", //hover focus border color
    "$hover_button_texture": "textures/ui/button_borderless_light",
    "$focus_border_size": [ "100% - 2px", "100% - 2px" ],
    "$button_content_size": [ "100% - 4px", "100% - 4px" ],
    "$button_pressed_offset": [ 0, 0 ],
    "$button_content": "persona_sdl.color_grid_icon",
    "$pressed_button_name": "button.change_piece_color",
    "$focus_id": "color_grid_item",
    "$button_focus_precedence": 20,
    "$default_state_border_visible": false,
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "color_collection",
        "binding_collection_prefix": "color"
      },
      {
        "binding_name": "#tts_color_name",
        "binding_type": "collection",
        "binding_collection_name": "color_collection"
      }
    ]
  },

  "color_grid": {
    "type": "grid",
    "size": [ "100% - 2px", "100%c + 2px" ],
    "anchor_to": "top_middle",
    "anchor_from": "top_middle",
    "grid_item_template": "persona_sdl.color_grid_item",
    "grid_rescaling_type": "horizontal",
    "grid_dimension_binding": "#color_single_page_size",
    "collection_name": "color_collection",
    "bindings": [
      {
        "binding_name": "#color_single_page_size",
        "binding_name_override": "#maximum_grid_items"
      }
    ]
  },

  "color_picker_content_panel@common.vertical_stack_panel": {
    "size": [ "100%", "100%" ],
    "controls": [
      { "top_pad@persona_sdl.vertical_padding_2px": {} },
      {
        "top_bar@common.horizontal_stack_panel": {
          "size": [ "100%", 20 ],
          "controls": [
            {
              "cycle_left": {
                "type": "panel",
                "size": [ "100%y", "100%" ],
                "controls": [
                  {
                    "button@persona_sdl.color_picker_left_cycle": {
                      "layer": 2,
                      "offset": [ 5, 0 ],
                      "tts_name": "#tts_color_picker_left",
                      "bindings": [
                        {
                          "binding_name": "#tts_color_picker_left"
                        },
                        {
                          "binding_name": "#left_color_cycle_enabled",
                          "binding_name_override": "#enabled"
                        },
                        {
                          "binding_name": "#other_channels",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "left_bumper_panel@common.empty_panel": {
                      "bindings": [
                        {
                          "binding_name": "#other_channels",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "controls": [
                        {
                          "left_bumper@common.gamepad_helper_left_bumper": {
                            "anchor_from": "top_middle",
                            "anchor_to": "top_middle",
                            "offset": [ 0, -20 ],
                            "$hide_description": true,
                            "bindings": [
                              {
                                "binding_name": "#gamepad_helper_visible",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            },
            { "padding_0@persona_sdl.horizontal_2_padding": {} },
            {
              "title": {
                "type": "panel",
                "size": [ "fill", "100%" ],
                "controls": [
                  {
                    "skin_title": {
                      "type": "label",
                      "size": [ "100%", "default" ],
                      "max_size": [ "100%", "100%" ],
                      "text": "#color_picker_title",
                      "text_alignment": "center",
                      "color": "$dressing_room_color_title",
                      "layer": 2,
                      "bindings": [
                        {
                          "binding_name": "#color_picker_title"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            { "padding_1@persona_sdl.horizontal_2_padding": {} },
            {
              "cycle_right": {
                "type": "panel",
                "size": [ "100%y", "100%" ],
                "controls": [
                  {
                    "button@persona_sdl.color_picker_right_cycle": {
                      "layer": 2,
                      "offset": [ -5, 0 ],
                      "tts_name": "#tts_color_picker_right",
                      "bindings": [
                        {
                          "binding_name": "#tts_color_picker_right"
                        },
                        {
                          "binding_name": "#right_color_cycle_enabled",
                          "binding_name_override": "#enabled"
                        },
                        {
                          "binding_name": "#other_channels",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "right_bumper_panel@common.empty_panel": {
                      "bindings": [
                        {
                          "binding_name": "#other_channels",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "controls": [
                        {
                          "right_bumper@common.gamepad_helper_right_bumper": {
                            "anchor_from": "top_middle",
                            "anchor_to": "top_middle",
                            "offset": [ 0, -20 ],
                            "$hide_description": true,
                            "bindings": [
                              {
                                "binding_name": "#gamepad_helper_visible",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      { "middle_pad@persona_sdl.vertical_padding_2px": {} },
      {
        "grid_of_colors@persona_sdl.scroll_section": {
          "size": [ "100%", "fill" ],
          "anchor_to": "top_middle",
          "anchor_from": "top_middle",
          "$scrolling_content": "persona_sdl.color_grid"
        }
      }
    ]
  },

  "color_picker_icon@persona_sdl.common_image": {
    "size": [ 16, 16 ],
    "layer": 2,
    "texture": "textures/ui/color_picker"
  },

  "color_picker_icon_content@common.empty_panel": {
    "size": [ "100%", "100%" ],
    "controls": [
      { "color_picker_icon@persona_sdl.color_picker_icon": {} }
    ]
  },

  "open_color_picker_button@common_buttons.light_content_button": {
    "size": [ 23, 22 ],
    "anchor_to": "bottom_left",
    "anchor_from": "bottom_left",
    "tts_name": "dr.accessibility.color_picker",

    "$button_content": "persona_sdl.color_picker_icon_content",
    "$pressed_button_name": "button.open_color_picker",
    "$default_state_border_visible": true,
    "$hover_state_border_visible": true,
    "$pressed_state_border_visible": true,
    "$locked_state_border_visible": true,
    "$focus_id": "open_color_picker_button",
    "$focus_override_down": "author_button",
    "$focus_override_right": "skin_preview_button",
    "focus_enabled": true,

    "bindings": [
      {
        "binding_name": "#open_color_picker_button_visible",
        "binding_name_override": "#visible"
      },
      {
        "binding_name": "#open_color_picker_button_enabled",
        "binding_name_override": "#enabled"
      },
      {
        "binding_name": "#open_color_picker_button_enabled",
        "binding_name_override": "#focus_enabled"
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////////////////////////
  // Appearance Section Controls
  /////////////////////////////////////////////////////////////////////////////////////////////////
  "appearance_viewer_panel": {
    "type": "input_panel",
    "$appearance_viewer_model_size|default": [ "51%y", "110%" ], // 5x base dimensions [20, 39]
    "size": "$appearance_viewer_model_size",
    "max_size": [ "100%", "100%" ],
    "$model_offset|default": [ 0, "-15%" ],

    "gesture_tracking_button": "button.turn_doll",

    "controls": [
      {
        "appearance_model": {
          "type": "custom",
          "offset": "$model_offset",
          "renderer": "paper_doll_renderer",
          "camera_tilt_degrees": -10,
          "starting_rotation": 30,
          "$skin_model_layer|default": 5,
          "layer": "$skin_model_layer",
          "use_selected_skin": false,
          "use_skin_gui_scale": true,
          "rotation": "gesture_x",
          "animation_reset_name": "screen_animation_reset",
          "anims": [
            "@common.screen_exit_size_animation_push",
            "@common.screen_exit_size_animation_pop",
            "@common.screen_entrance_size_animation_push",
            "@common.screen_entrance_size_animation_pop"
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "$skin_preview",
              "binding_type": "global"
            },
            {
              "binding_type": "view",
              "source_control_name": "$gesture_input_panel_control",
              "source_property_name": "#gesture_delta_source",
              "target_property_name": "#gesture_delta_source"
            },
            {
              "binding_type": "view",
              "source_control_name": "$gesture_input_panel_control",
              "source_property_name": "#gesture_mouse_delta_x",
              "target_property_name": "#gesture_mouse_delta_x"
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#can_paperdoll_rotate",
        "binding_name_override": "#always_handle_controller_direction",
        "binding_condition": "always"
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.turn_doll",
        "mapping_type": "pressed",
        "button_up_right_of_first_refusal": true
      }
    ]
  },

  "info_button@common_buttons.light_content_button": {
    "size": [ 22, 22 ],

    "$focus_id": "info_button",
    "$button_content": "persona_sdl.info_glyph_icon",
    "$button_size_override": [ 22, 22 ],
    "$pressed_button_name": "button.info_popup",

    "bindings": [
      {
        "binding_name": "#restricted_info_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "expand_appearance_preview_button@common_buttons.light_content_button": {
    "size": [ 22, 22 ],
    "anchor_to": "bottom_right",
    "anchor_from": "bottom_right",

    "$expand_appearance_preview_button_event|default": "button.open_expanded_appearance_view",

    "$focus_id": "skin_preview_button",
    "focus_change_left": "open_color_picker_button",
    "$button_content": "persona_sdl.view_character_icon",
    "$button_size_override": [ 22, 22 ],
    "$pressed_button_name": "$expand_appearance_preview_button_event",
    "$default_state_border_visible": true,
    "$hover_state_border_visible": true,
    "$pressed_state_border_visible": true,
    "$locked_state_border_visible": true,
    "tts_name": "dr.accessibility.expand_appearance",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      }
    ]
  },

  "play_emote_icon_button@common_buttons.light_content_button": {
    "size": [ 22, 22 ],
    "anchor_to": "bottom_right",
    "anchor_from": "bottom_right",

    "layer": 92, // Must be usable on top of skin rotation input panel which has layer of 90
    "$button_content": "persona_sdl.replay_emote_icon",
    "$button_size_override": [ 22, 22 ],
    "$pressed_button_name": "button.play_emote_again",
    "$default_state_border_visible": true,
    "$hover_state_border_visible": true,
    "$pressed_state_border_visible": true,
    "$locked_state_border_visible": true,

    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "#is_play_again_button_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "expanded_appearance_button_stack@common.vertical_stack_panel": {
    "size": [ 22, 48 ],
    "anchor_to": "bottom_right",
    "anchor_from": "bottom_right",
    "controls": [
      { "play_emote_icon_button@persona_sdl.play_emote_icon_button": {} },
      { "expand_appearance_preview_button@persona_sdl.expand_appearance_preview_button": {} }
    ]
  },

  "appearance_section": {
    "type": "panel",
    "size": [ "100%", "fill" ],

    "$skin_preview|default": "#preview_skin",
    "$gesture_input_panel_control": "appearance_model",

    "$extra_appearance_section_content|default": "persona_sdl.dressing_room_extra_appearance_section_content",
    "controls": [
      { "$gesture_input_panel_control@persona_sdl.appearance_viewer_panel": {} },
      { "extra_appearance_section_content@$extra_appearance_section_content": {} }
    ]
  },

  "dressing_room_extra_appearance_section_content": {
    "type": "panel",
    "controls": [
      {
        "popup_dialog_factory": {
          "type": "factory",
          "control_ids": {
            "toast_message": "@persona_popups.popup_toast"
          }
        }
      },
      {
        "arrow_panel": {
          "type": "panel",
          "size": [ "100%", 22 ],
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",
          "controls": [
            { "extra_arrow_panel_content@persona_sdl.open_color_picker_button": {} },
            {
              "right_side_button_stack_panel": {
                "type": "stack_panel",
                "size": [ "100%c", "100%" ],
                "orientation": "horizontal",
                "anchor_to": "bottom_right",
                "anchor_from": "bottom_right",
                "controls": [
                  { "info_button@persona_sdl.info_button": {} },
                  { "pad@persona_sdl.horizontal_2_padding": {} },
                  { "preview_appearance@persona_sdl.expand_appearance_preview_button": {} }
                ]
              }
            }
          ]
        }
      },
      {
        "persona_updating@persona_sdl.loading_icon": {
          "anchor_to": "top_right",
          "anchor_from": "top_right",
          "bindings": [
            {
              "binding_name": "#persona_is_updating",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  ////////////////////////////////////////////////////////////////////////////////////////////////
  // Debug Appearance Controls
  ////////////////////////////////////////////////////////////////////////////////////////////////
  "right_side_stack_debug_control@common.vertical_stack_panel": {
    "size": [ "100%", "fill" ],
    "bindings": [
      {
        "binding_name": "#is_using_dressing_room_debugging",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "debug_skin_names@common.horizontal_stack_panel": {
          "size": [ "100%", 1 ],
          "controls": [
            {
              "debug_current_name": {
                "type": "label",
                "size": [ "fill", 15 ],
                "font_type": "smooth",
                "font_scale_factor": 0.75,
                "layer": 15,
                "color": "$right_side_default_text_color",
                "text": "#current_skin_name",
                "bindings": [
                  {
                    "binding_name": "#current_skin_name"
                  }
                ]
              }
            },
            {
              "debug_active_name": {
                "type": "label",
                "size": [ "fill", 15 ],
                "font_type": "smooth",
                "font_scale_factor": 0.75,
                "layer": 15,
                "color": "$right_side_default_text_color",
                "text": "#active_skin_name",
                "bindings": [
                  {
                    "binding_name": "#active_skin_name"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "debug_skins@common.horizontal_stack_panel": {
          "size": [ "100%", 75 ],
          "controls": [
            {
              "dressing_room_right_side_model_current@persona_sdl.appearance_viewer_panel": {
                "size": [ "fill", "100%" ],
                "$skin_offset": [ 0, -10 ],
                "$skin_preview": "#current_skin",
                "$gesture_input_panel_control": "dressing_room_right_side_model_current"
              }
            },
            {
              "dressing_room_right_side_model_active@persona_sdl.appearance_viewer_panel": {
                "size": [ "fill", "100%" ],
                "$skin_offset": [ 0, -10 ],
                "$skin_preview": "#active_skin",
                "$gesture_input_panel_control": "dressing_room_right_side_model_active"
              }
            }
          ]
        }
      },
      {
        "debug_preview_skin_name": {
          "type": "label",
          "size": [ "100%", 20 ],
          "layer": 15,
          "font_type": "smooth",
          "color": "$right_side_default_text_color",
          "text": "#preview_skin_name",
          "bindings": [
            {
              "binding_name": "#preview_skin_name"
            }
          ]
        }
      }
    ]
  },

  "enter_screen_appearance_size_animation@common.screen_entrance_size_animation_immediate": {
    "duration": "$transition_time_pop",
    "play_event": "anim.appearance_enter",
    "end_event": "screen.entrance_end",
    "resettable": true
  },

  /////////////////////////////////////////////////////////////////////////////////////////////////
  // Right Side Dialog Controls
  /////////////////////////////////////////////////////////////////////////////////////////////////

  "dialog_background_object@common_dialogs.flat_solid_background": {
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "dialog_background_object_content": {
          "$dialog_bg_size|default": [ "100% - 2px", "100% - 2px" ],
          "offset": [ 0, 0 ],
          "type": "image",
          "size": "$dialog_bg_size",
          "texture": "textures/ui/White",
          "color": "$dressing_room_dark_bg_color",
          "alpha": "$dressing_room_background_alpha",
          "layer": 2,
          "controls": [
            {
              "dialog_content@$persona_dialog_content": {
                "layer": 4
              }
            }
          ]
        }
      }
    ]
  },

  "right_info_panel_dialog_object@persona_sdl.dialog_background_object": {
    "size": [ "100%", "100% - 2px" ],
    "anchor_to": "top_middle",
    "anchor_from": "top_middle"
  },

  "right_side_dialog_panel": {
    "type": "input_panel",
    "$right_side_dialog_bg_size|default": [ "100% - 2px", "100% - 2px" ],
    "$right_side_dialog_visible_binding|default": "('#is_right_info_' + $info_panel_prefix +'_panel_visible')",
    "$ignore_right_side_dialog_visible_bind|default": false,
    "bindings": [
      {
        "ignored": "$ignore_right_side_dialog_visible_bind",
        "binding_name": "$right_side_dialog_visible_binding",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "right_side_dialog@persona_sdl.dialog_background_object": {
          "size": "$right_side_dialog_size",
          "anchor_to": "top_middle",
          "anchor_from": "top_middle",
          "$dialog_bg_size": "$right_side_dialog_bg_size"
        }
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////////////////////////
  // Persona Height Options
  /////////////////////////////////////////////////////////////////////////////////////////////////

  "persona_size_option_stack": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100% - 6px", "100%c" ],
    "controls": [
      {
        "height_label": {
          "type": "label",
          "font_type": "MinecraftTen",
          "text": "$size_option_stack_title",
          "color": "$dressing_room_size_default_text_color"
        }
      },
      { "pad_0@persona_sdl.vertical_padding_2px": {} },
      { "size_option_stack@$size_option_stack_control": {} }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      }
    ]
  },

  "persona_size_options_row_base": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      { "persona_arm_size_option_stack@persona_sdl.persona_size_option_stack": {} }
    ]
  },

  "persona_height_options_row@persona_sdl.persona_size_options_row_base": {
    "$size_option_stack_title": "dr.body_size_label_text",
    "$size_option_stack_control": "persona_sdl.body_sizes"
  },

  "persona_arm_size_options_row@persona_sdl.persona_size_options_row_base": {
    "$size_option_stack_title": "dr.arm_size_label_text",
    "$size_option_stack_control": "persona_sdl.arm_sizes"
  },

  "arm_sizes@persona_sdl.arm_size_option_grid": {
    "size": [ "100%", 30 ],
    "$size_option_pressed_button_name": "button.change_arm_size",
    "$size_option_image_binding_name": "#arms_image_binding",
    "$size_option_dimension_binding": "#arm_size_dimensions",
    "$selection_border_binding": "#arm_size_selected",
    "$equipped_border_binding": "#arm_size_equipped",
    "$size_option_collection_prefix": "arm_size",
    "$size_option_collection_name": "arm_size_collection"
  },

  "body_sizes@persona_sdl.body_size_option_grid": {
    "size": [ "100%", 50 ],
    "$size_option_pressed_button_name": "button.change_height",
    "$size_option_image_binding_name": "#height_image_binding",
    "$size_option_dimension_binding": "#body_size_dimensions",
    "$selection_border_binding": "#body_size_selected",
    "$equipped_border_binding": "#body_size_equipped",
    "$size_option_collection_prefix": "body_size",
    "$size_option_collection_name": "body_size_collection"
  },

  "arm_size_option_grid@common.horizontal_stack_panel": {
    "collection_name": "$size_option_collection_name",
    "layer": 10,
    "$size_option_panel_size": [ "25% - 3px", "100%" ],
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$size_option_collection_name",
        "binding_collection_prefix": "$size_option_collection_prefix"
      }
    ],
    "controls": [
      {
        "narrow@persona_sdl.size_option_panel": {
          "$tts_size_button_text": "dr.accessibility.arm_size.narrow",
          "$image_size": [ 12.8, 20 ],
          "collection_index": 0
        }
      },
      { "padding_1@persona_sdl.horizontal_padding_4px": {} },
      {
        "wide@persona_sdl.size_option_panel": {
          "$tts_size_button_text": "dr.accessibility.arm_size.wide",
          "$image_size": [ 16, 20 ],
          "collection_index": 1
        }
      }
    ]
  },

  "body_size_option_grid@common.horizontal_stack_panel": {
    "collection_name": "$size_option_collection_name",
    "layer": 10,
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$size_option_collection_name",
        "binding_collection_prefix": "$size_option_collection_prefix"
      }
    ],
    "controls": [
      {
        "smaller@persona_sdl.size_option_panel": {
          "$tts_size_button_text": "dr.accessibility.character_size.smaller",
          "$image_size": [ 18, 28.8 ],
          "collection_index": 0
        }
      },
      { "padding_1@persona_sdl.horizontal_padding_4px": {} },
      {
        "small@persona_sdl.size_option_panel": {
          "$tts_size_button_text": "dr.accessibility.character_size.small",
          "$image_size": [ 18, 32.4 ],
          "collection_index": 1
        }
      },
      { "padding_2@persona_sdl.horizontal_padding_4px": {} },
      {
        "medium@persona_sdl.size_option_panel": {
          "$tts_size_button_text": "dr.accessibility.character_size.medium",
          "$image_size": [ 18, 36 ],
          "collection_index": 2
        }
      },
      { "padding_3@persona_sdl.horizontal_padding_4px": {} },
      {
        "tall@persona_sdl.size_option_panel": {
          "$tts_size_button_text": "dr.accessibility.character_size.tall",
          "$image_size": [ 18, 37.8 ],
          "collection_index": 3
        }
      }
    ]
  },

  "size_option_panel": {
    "type": "panel",
    "$size_option_panel_size|default": [ "fill", "100%" ],
    "size": "$size_option_panel_size",
    "controls": [
      {
        "size_option_button@common.button": {
          "$button_content": "persona_sdl.size_option_content",
          "$pressed_button_name": "$size_option_pressed_button_name",
          "$focus_id": "body_option",
          "$tts_size_button_text|default": "",
          "tts_name": "$tts_size_button_text",
          "controls": [
            { "default@common.empty_panel": {} },
            {
              "hover@persona_sdl.focus_border": {
                "layer": 4
              }
            },
            {
              "pressed@persona_sdl.selected_border": {
                "layer": 3
              }
            },
            {
              "content@$button_content": {
                "layer": 2
              }
            },
            {
              "equipped@persona_sdl.equipped_border": {
                "layer": 10,
                "$enable_border": false,
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$size_option_collection_name",
                    "binding_name": "$equipped_border_binding",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "selected@persona_sdl.selected_border": {
                "layer": 8,
                "$enable_border": false,
                "bindings": [
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$size_option_collection_name",
                    "binding_name": "$selection_border_binding",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ],
          "button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_ok",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "focused"
            },
            {
              "to_button_id": "button.piece_button_hovered",
              "mapping_type": "pressed"
            }
          ],
          "size": [ "100%", "100%" ],
          "bindings": [
            {
              "binding_type": "collection_details",
              "binding_collection_name": "$size_option_collection_name",
              "binding_collection_prefix": "$size_option_collection_prefix"
            },
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            }
          ]
        }
      }
    ]
  },

  "size_option_content": {
    "type": "image",
    "size": [ "100%", "100%" ],
    "texture": "textures/ui/slots_bg",
    "controls": [
      {
        "size_option_image": {
          "type": "image",
          "anchor_to": "bottom_middle",
          "anchor_from": "bottom_middle",
          "size": "$image_size",
          "offset": [ 0, -5 ],
          "bindings": [
            {
              "binding_type": "collection",
              "binding_collection_name": "$size_option_collection_name",
              "binding_name": "$size_option_image_binding_name",
              "binding_name_override": "#texture"
            }
          ]
        }
      }
    ]
  },

  "focus_border": {
    "type": "image",
    "layer": 10,
    "$border_texture|default": "textures/ui/focus_border_selected",
    "texture": "$border_texture"
  },

  "selected_border@persona_sdl.focus_border": {
    "$border_texture": "textures/ui/focus_border_white",
    "color": "$dressing_room_skin_picker_equipped_border_color"
  },

  "equipped_border": {
    "type": "image",
    "$enable_border|default": true,
    "size": [ "100%", "100%" ],
    "layer": 11,
    "texture": "textures/ui/equipped_item_border"
  },

  /////////////////////////////////////////////////////////////////////////////////////////////////
  // Character Selector
  /////////////////////////////////////////////////////////////////////////////////////////////////

  "appearance_preset_side_panel": {
    "type": "panel",
    "size": [ "80%y", "100%sm" ],
    "$is_left_preset_side|default": true,
    "$small_preset_appearance_size": [ "51.2821%y", "80%" ],
    "$large_preset_appearance_size": [ "51.2821%y", "90%" ],
    "$large_preset_appearance_min_size": [ "51.2821%y", 85 ],
    "$small_preset_appearance_min_size": [ "51.2821%y", 75 ],
    "$large_preset_appearance_max_size": [ "51.2821%y", 125 ],
    "$small_preset_appearance_max_size": [ "51.2821%y", 100 ],
    "$large_preset_image_size": [ 50, 105 ],
    "$small_preset_image_size": [ 37, 70 ],
    "$large_preset_image": "textures/ui/profile_new_look",
    "$small_preset_image": "textures/ui/profile_new_look_small",
    "$low_preset_alpha": 0.4,
    "$high_preset_alpha": 0.7,
    "$preset_appearance_front_layer": 6,
    "$preset_appearance_back_layer": 5,
    "controls": [
      {
        "appearance_presets_panel": {
          "type": "panel",

          "$preset_appearance_binding_name": "#appearance_preset_preview",
          "$left_appearance_size": "$small_preset_appearance_size",
          "$right_appearance_size": "$large_preset_appearance_size",

          "$left_appearance_preset_min_size|default": "$small_preset_appearance_min_size",
          "$left_appearance_preset_max_size|default": "$small_preset_appearance_max_size",
          "$left_image_preset_size|default": "$small_preset_image_size",
          "$left_image|default": "$small_preset_image",
          "$left_appearance_preset_layer|default": "$preset_appearance_back_layer",
          "$left_appearance_preset_alpha|default": "$low_preset_alpha",
          "$right_appearance_preset_min_size|default": "$large_preset_appearance_min_size",
          "$right_appearance_preset_max_size|default": "$large_preset_appearance_max_size",
          "$right_image_preset_size|default": "$large_preset_image_size",
          "$right_image|default": "$large_preset_image",
          "$right_appearance_preset_layer|default": "$preset_appearance_front_layer",
          "$right_appearance_preset_alpha|default": "$high_preset_alpha",
          "variables": [
            {
              "requires": "(not $is_left_preset_side)",
              "$left_appearance_size": "$large_preset_appearance_size",
              "$right_appearance_size": "$small_preset_appearance_size",
              "$left_appearance_preset_min_size": "$large_preset_appearance_min_size",
              "$left_appearance_preset_max_size": "$large_preset_appearance_max_size",
              "$left_image_preset_size": "$large_preset_image_size",
              "$left_image": "$large_preset_image",
              "$left_appearance_preset_layer": "$preset_appearance_front_layer",
              "$left_appearance_preset_alpha": "$high_preset_alpha",
              "$right_appearance_preset_min_size": "$small_preset_appearance_min_size",
              "$right_appearance_preset_max_size": "$small_preset_appearance_max_size",
              "$right_image_preset_size": "$small_preset_image_size",
              "$right_image": "$small_preset_image",
              "$right_appearance_preset_layer": "$preset_appearance_back_layer",
              "$right_appearance_preset_alpha": "$low_preset_alpha"
            }
          ],
          "controls": [
            {
              "left_appearance_preset@persona_sdl.persona_appearance_preset_panel": {
                "size": "$left_appearance_size",
                "min_size": "$left_appearance_preset_min_size",
                "max_size": "$left_appearance_preset_max_size",
                "$preset_appearance_layer": "$left_appearance_preset_layer",
                "$preset_appearance_alpha": "$left_appearance_preset_alpha",
                "anchor_to": "left_middle",
                "anchor_from": "left_middle",
                "$preset_image_size": "$left_image_preset_size",
                "$preset_image": "$left_image",
                "variables": [
                  {
                    "requires": "$is_left_preset_side",
                    "$idx": 1
                  },
                  {
                    "requires": "(not $is_left_preset_side)",
                    "$idx": 4
                  }
                ],
                "$preset_appearance_property_bag": {
                  "#preview_idx": "$idx"
                }
              }
            },
            {
              "right_appearance_preset@persona_sdl.persona_appearance_preset_panel": {
                "size": "$right_appearance_size",
                "min_size": "$right_appearance_preset_min_size",
                "max_size": "$right_appearance_preset_max_size",
                "$preset_appearance_layer": "$right_appearance_preset_layer",
                "$preset_appearance_alpha": "$right_appearance_preset_alpha",
                "anchor_to": "right_middle",
                "anchor_from": "right_middle",
                "$preset_image_size": "$right_image_preset_size",
                "$preset_image": "$right_image",
                "variables": [
                  {
                    "requires": "$is_left_preset_side",
                    "$idx": 2
                  },
                  {
                    "requires": "(not $is_left_preset_side)",
                    "$idx": 5
                  }
                ],
                "$preset_appearance_property_bag": {
                  "#preview_idx": "$idx"
                }
              }
            }
          ]
        }
      }
    ]
  },

  "preset_arrow_button@common_buttons.light_content_button": {
    "size": [ "100%", "100%x" ],
    "tts_name": "$arrow_button_tts_name",

    "$focus_id": "$arrow_button_focus_id",
    "$focus_override_left": "$arrow_button_focus_override_left",
    "$focus_override_right": "$arrow_button_focus_override_right",
    "$button_content": "persona_sdl.profile_button_image_content",
    "$texture_color": "$dressing_room_dark_button_color",
    "$button_image_content_size": [ 4, 7 ],
    "$profile_button_image|default": "textures/ui/chevron_left",
    "$pressed_button_name|default": "button.pressedArrowLeft",
    "$enabled_binding_Name|default": "#arrow_left_enabled",
    "$is_arrow_right|default": false,
    "variables": [
      {
        "requires": "$is_arrow_right",
        "$pressed_button_name": "button.pressedArrowRight",
        "$profile_button_image": "textures/ui/chevron_right",
        "$enabled_binding_Name": "#arrow_right_enabled"
      }
    ],
    "bindings": [
      {
        "binding_name": "$enabled_binding_Name",
        "binding_name_override": "#enabled",
        "binding_condition": "always"
      }
    ]
  },

  "preset_arrow_button_panel": {
    "type": "panel",
    "size": [ "100%", "100%x" ],
    "$arrow_button_focus_id|default": "",
    "$arrow_button_focus_override_left|default": "",
    "$arrow_button_focus_override_right|default": "",
    "$arrow_button_tts_name|default": "",
    "controls": [
      {
        "preset_arrow_button@persona_sdl.preset_arrow_button": {}
      }
    ]
  },

  "preset_arrow_button_left_panel": {
    "type": "panel",
    "size": [ 24, "100%sm" ],
    "layer": "$preset_arrow_button_layer",
    "controls": [
      {
        "preset_arrow_button_left@persona_sdl.preset_arrow_button_panel": {
          "$arrow_button_focus_id": "preset_arrow_button_left",
          "$arrow_button_focus_override_right": "preset_arrow_button_right",
          "$arrow_button_tts_name": "dr.accessibility.character_left"
        }
      },
      {
        "left_bumper@common.gamepad_helper_left_bumper": {
          "offset": [ -2, -20 ],
          "bindings": [
            {
              "binding_name": "#gamepad_helper_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "preset_arrow_button_right_panel": {
    "type": "panel",
    "size": [ 24, "100%sm" ],
    "layer": "$preset_arrow_button_layer",
    "controls": [
      {
        "preset_arrow_button_right@persona_sdl.preset_arrow_button_panel": {
          "$is_arrow_right": true,
          "$arrow_button_focus_id": "preset_arrow_button_right",
          "$arrow_button_focus_override_left": "preset_arrow_button_left",
          "$arrow_button_tts_name": "dr.accessibility.character_right"
        }
      },
      {
        "right_bumper@common.gamepad_helper_right_bumper": {
          "offset": [ 2, -20 ],
          "bindings": [
            {
              "binding_name": "#gamepad_helper_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "skin_model_renderer": {
    "type": "custom",
    "size": [ "100%", "100%" ],
    "renderer": "paper_doll_renderer",
    "camera_tilt_degrees": -10,
    "starting_rotation": 30,

    "layer": "$preset_appearance_layer",

    "$preset_appearance_alpha|default": 0.2,
    "alpha": "$preset_appearance_alpha",

    "use_selected_skin": false,
    "use_skin_gui_scale": true,
    "animation_reset_name": "screen_animation_reset",
    "$skin_model_preset_visible_binding_name|default": "#is_preset_visible",
    "anims": [
      "@common.screen_exit_size_animation_push",
      "@common.screen_exit_size_animation_pop",
      "@common.screen_entrance_size_animation_push",
      "@common.screen_entrance_size_animation_pop"
    ],

    "$preset_appearance_property_bag|default": {},
    "property_bag": "$preset_appearance_property_bag",

    "$preset_model_gesture_rotation|default": "",
    "$preset_model_gesteure_bindings|default": [
      {
        "binding_type": "global",
        "binding_name": "$preset_appearance_binding_name",
        "binding_condition": "always"
      },
      {
        "binding_name": "$skin_model_preset_visible_binding_name",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ],
    "variables": [
      {
        "requires": "$is_preset_appearance_using_gestures",
        "$preset_model_gesture_rotation": "gesture_x",
        "$preset_model_gesteure_bindings": [
          {
            "binding_type": "global",
            "binding_name": "$preset_appearance_binding_name",
            "binding_condition": "always"
          },
          {
            "binding_type": "view",
            "source_control_name": "$preset_gesture_source_control_name",
            "source_property_name": "#gesture_delta_source",
            "target_property_name": "#gesture_delta_source"
          },
          {
            "binding_type": "view",
            "source_control_name": "$preset_gesture_source_control_name",
            "source_property_name": "#gesture_mouse_delta_x",
            "target_property_name": "#gesture_mouse_delta_x"
          },
          {
            "binding_name": "$skin_model_preset_visible_binding_name",
            "binding_name_override": "#visible",
            "binding_condition": "always"
          }
        ]
      }
    ],

    "rotation": "$preset_model_gesture_rotation",
    "bindings": "$preset_model_gesteure_bindings"
  },

  "skin_select_button_input": {
    "type": "input_panel",
    "size": [ "100%", "100%" ],
    "offset": [ 0, "22%" ],
    "layer": "$preset_appearance_layer",
    "$preset_appearance_property_bag|default": {},
    "property_bag": "$preset_appearance_property_bag",
    "$select_preset_to_button_id|default": "button.select_appearance",
    "$binding_preset_add_visible_name|default": "#is_preset_add_visible",
    "controls": [
      {
        "create_new_preset_image": {
          "type": "image",
          "size": [ "51.282%y", "78%" ],
          "offset": [ 0, 4 ],
          "$preset_image|default": "textures/misc/missing_texture",
          "texture": "$preset_image",
          "property_bag": "$preset_appearance_property_bag",
          "bindings": [
            {
              "binding_name": "$binding_preset_add_visible_name",
              "binding_name_override": "#visible",
              "binding_condition": "always"
            }
          ]
        }
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$select_preset_to_button_id",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$select_preset_to_button_id",
        "mapping_type": "focused"
      }
    ],
    "bindings": [
      {
        "binding_name": "#enable_edit_appearance",
        "binding_name_override": "#enabled",
        "binding_condition": "always"
      }
    ]
  },

  "retry_button_image_content@common.vertical_stack_panel": {
    "size": [ "100%", "100%" ],
    "anchor_to": "bottom_middle",
    "anchor_from": "bottom_middle",
    "controls": [
      {
        "padding": {
          "type": "panel",
          "size": [ "100%", "10%" ]
        }
      },
      {
        "icon_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "icon": {
                "type": "image",
                "size": [ 20, 20 ],
                "texture": "textures/ui/refresh",
                "anchor_to": "bottom_middle",
                "anchor_from": "bottom_middle"
              }
            }
          ]
        }
      },
      {
        "reload_label": {
          "type": "label",
          "size": [ "100%", "100%" ],
          "text": "Reload",
          "font_type": "MinecraftTen",
          "font_scale_factor": 1.0,
          "text_alignment": "center",
          "color": "$light_button_default_text_color"
        }
      }
    ]
  },

  "skin_retry_button@common_buttons.light_content_button": {
    "size": [ "130%y", "30%" ],
    "offset": [ 0, "14%" ],
    "layer": "$always_show_layer",
    "visible": false,
    "$preset_appearance_property_bag|default": {},
    "$pressed_button_name": "button.retry_appearance_preset",
    "$button_content": "persona_sdl.retry_button_image_content",
    "property_bag": "$preset_appearance_property_bag",
    "$binding_is_retry_visible_name|default": "#is_retry_visible",
    "bindings": [
      {
        "binding_name": "$binding_is_retry_visible_name",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ]
  },

  "skin_appearance_loading_panel@common_store.progress_loading": {
    "offset": [ 0, "14%" ],
    "$hide_failure_text": true,
    "$hide_progress_loading_outline": true,
    "$preset_appearance_property_bag|default": {},
    "property_bag": "$preset_appearance_property_bag",
    "$binding_is_preset_loading_visible_name|default": "#is_preset_loading_visible",
    "bindings": [
      {
        "binding_name": "$binding_is_preset_loading_visible_name",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ]
  },

  "persona_appearance_preset_panel": {
    "type": "panel",
    "offset": [ 0, -22 ],
    "$preset_appearance_layer|default": 5,
    "$is_preset_appearance_using_gestures|default": false,
    "controls": [
      { "skin_renderer@persona_sdl.skin_model_renderer": { "offset": [ 0, 10 ] } },
      { "skin_select@persona_sdl.skin_select_button_input": {} },
      { "skin_retry@persona_sdl.skin_retry_button": {} },
      { "skin_loading@persona_sdl.skin_appearance_loading_panel": {} }
    ]
  },

  "persona_preset_main_panel@persona_sdl.persona_appearance_preset_panel": {
    "$persona_preset_size|default": [ "51.2821%y", 120 ],
    "variables": [
      {
        "requires": "$pocket_edition",
        "$persona_preset_size": [ "51.2821%y", 100 ]
      }
    ],
    "size": "$persona_preset_size",
    "$preset_appearance_binding_name": "#appearance_preset_preview",
    "$is_preset_appearance_using_gestures": true,
    "$preset_gesture_source_control_name": "main_preset_persona",
    "$preset_image": "textures/ui/profile_new_look",
    "$select_preset_to_button_id": "button.edit_appearance_preset",
    "$preset_appearance_property_bag": {
      "#preview_idx": 3
    },
    "bindings": [
      {
        "binding_name": "#center_preset_size",
        "binding_condition": "always"
      }
    ]
  },

  "persona_main_preset_panel": {
    "type": "input_panel",
    "size": [ "100%c", "100%c" ],
    "layer": "$always_show_paper_doll",
    "gesture_tracking_button": "button.turn_doll",
    "always_handle_controller_direction": true,
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.turn_doll",
        "mapping_type": "pressed",
        "button_up_right_of_first_refusal": true
      }
    ],
    "controls": [
      { "preset_panel@persona_sdl.persona_preset_main_panel": {} }
    ]
  },

  "persona_preset_section_panel": {
    "type": "input_panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      { "persona_preset_content@persona_sdl.persona_preset_section_panel_content": {} }
    ]
  },

  "persona_preset_section_panel_content": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%cm" ],
    "focus_container": true,
    "use_last_focus": false,
    "focus_wrap_enabled": false,
    "focus_navigation_mode_right": "stop",
    "focus_navigation_mode_left": "$main_content_focus_container_left",
    "focus_container_custom_left": "$main_content_focus_container_left_custom",
    "$preset_arrow_button_layer": 100,

    "controls": [
      { "left_padding@persona_sdl.horizontal_fill_padding": {} },
      { "presets_left_side@persona_sdl.appearance_preset_side_panel": {} },
      { "presets_right_padding_arrow_right@persona_sdl.horizontal_padding_6px": {} },
      { "arrow_left_panel@persona_sdl.preset_arrow_button_left_panel": {} },
      { "arrow_left_padding_preview@persona_sdl.horizontal_padding_6px": {} },
      { "main_preset_persona@persona_sdl.persona_main_preset_panel": {} },
      { "preview_padding_arrow_right@persona_sdl.horizontal_padding_6px": {} },
      { "arrow_right_panel@persona_sdl.preset_arrow_button_right_panel": {} },
      { "arrow_right_padding_right_presets@persona_sdl.horizontal_padding_6px": {} },
      { "presets_right_side@persona_sdl.appearance_preset_side_panel": { "$is_left_preset_side": false } },
      { "right_padding@persona_sdl.horizontal_fill_padding": {} }
    ]
  },

  "debug_skin_view@common.vertical_stack_panel": {
    "controls": [
      {
        "skin_name": {
          "type": "label",
          "size": [ "100%", 10 ],
          "font_scale_factor": 0.75,
          "layer": 15,
          "font_type": "smooth",
          "color": "$dressing_room_right_side_default_text_color",
          "text": "#selected_skin_name",
          "bindings": [
            {
              "binding_name": "#selected_skin_name"
            }
          ]
        }
      },
      {
        "debug_skin": {
          "type": "panel",
          "size": [ 20, 39 ],
          "controls": [
            {
              "skin_model": {
                "offset": [ 0, -10 ],
                "type": "custom",
                "renderer": "paper_doll_renderer",
                "layer": 5,
                "use_selected_skin": false,
                "use_skin_gui_scale": true,
                "animation_reset_name": "screen_animation_reset",
                "anims": [
                  "@common.screen_exit_size_animation_push",
                  "@common.screen_exit_size_animation_pop",
                  "@common.screen_entrance_size_animation_push",
                  "@common.screen_entrance_size_animation_pop"
                ],
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "#selected_skin"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "profile_screen_debug_view@persona_sdl.debug_skin_view": {
    "bindings": [
      {
        "binding_name": "#is_using_dressing_room_debugging",
        "binding_name_override": "#visible"
      }
    ]
  },

  "title_text@general_text_field": {
    "size": "$title_size",
    "$title_size|default": [ "default", "default" ],
    "text": "$title_text",
    "text_alignment": "center",
    "layer": 2,
    "$title_text|default": "#title_text",
    "$title_text_binding_name|default": "#none",
    "bindings": [
      {
        "binding_name": "$title_text_binding_name",
        "binding_name_override": "#title_text"
      }
    ]
  },

  "icon_title_bar@common.horizontal_stack_panel": {
    "size": [ "100%c", "100%cm" ],
    "$title_font_type|default": "default",
    "controls": [
      { "icon@persona_sdl.common_icon": {} },
      { "padding_1@horizontal_padding_4px": { "size": [ 5, "100%cm" ] } },
      {
        "text_title_panel@persona_sdl.title_text": {
          "$font_type": "$title_font_type"
        }
      }
    ]
  },

  "selected_persona_skin_text_display@persona_sdl.icon_title_bar": {
    "size": [ "100% + 4px", "100%cm + 2px" ],
    "layer": 1,
    "offset": [ 3, 2 ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "$title_font_type": "smooth",
    "$title_size": [ "100% - 30px", 11 ],
    "$title_text_binding_name": "#selected_persona_skin_text",
    "$icon_binding_type": "global",
    "$icon_binding_name": "#selected_persona_skin_icon"
  },

  "selected_persona_skin_background@persona_sdl.common_image": {
    "size": [ 160, 16 ],
    "color": "black",
    "controls": [
      { "title@persona_sdl.selected_persona_skin_text_display": {} }
    ],
    "bindings": [
      {
        "binding_name": "#is_a_profile_selected",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ]
  },

  "selected_persona_skin_label": {
    "type": "panel",
    "size": [ "100%", 16 ],
    "controls": [
      {
        "selected_label_content@common.horizontal_stack_panel": {
          "size": [ "100%", "100%cm" ],
          "controls": [
            { "left_padding@persona_sdl.buttons_sides_padding_panel": {} },
            { "background@persona_sdl.selected_persona_skin_background": {} },
            { "spacing@common.empty_panel": { "size": [ 31, 0 ] } },
            { "right_padding@persona_sdl.buttons_sides_padding_panel": {} }
          ]
        }
      }
    ]
  },

  "buttons_sides_padding_panel": {
    "type": "panel",
    "size": "$sides_padding_size",
    "variables": [
      {
        "requires": "$supports_xbl_achievements",
        "$sides_padding_size": [ "fill", 0 ]
      },
      {
        "requires": "(not $supports_xbl_achievements)",
        "$sides_padding_size": [ "27%", 0 ]
      }
    ]
  },

  "edit_appearance_button@common_buttons.light_text_button": {
    "size": [ 132, 22 ],
    "default_focus_precedence": 2,
    "$pressed_button_name": "button.edit_appearance_preset",
    "$button_font_scale_factor": 1.0,
    "$new_ui_label_offset": [ 0, 3 ],
    "$button_text": "#edit_appearance_text",
    "$button_text_binding_type": "global",
    "$button_binding_condition": "always",
    "$button_text_size": [ "100%", "100%" ],
    "$button_text_max_size": [ "100%", "100%" ],
    "tts_play_on_unchanged_focus_control": true,
    "bindings": [
      {
        "binding_name": "#enable_edit_appearance",
        "binding_name_override": "#enabled",
        "binding_condition": "always"
      }
    ],
    "$focus_id": "edit_appearance_button"
  },

  "edit_appearance_error_button_content": {
    "type": "image",
    "texture": "textures/ui/disabledButton",
    "layer": 9,
    "controls": [
      {
        "marketplace_button_label": {
          "layer": 9,
          "type": "label",
          "text": "store.disabledOnBeta",
          "color": "$light_button_locked_text_color"
        }
      }
    ]
  },

  "edit_appearance_error_button@common_buttons.dynamic_tooltip_notification_panel": {
    "ignored": "(not $store_disabled)",
    "size": [ "100%", "100%" ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_store_error",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.is_hovered",
        "mapping_type": "pressed"
      }
    ],
    "consume_hover_events": false,
    "focus_enabled": true,
    "$tooltip_popup_visible_binding": "#edit_appearance_error_tooltip_visible",
    "$override_tooltip_popup_image": true,
    "$tooltip_popup_override_image_panel": "start.store_error_image",
    "$tool_tip_text_max_size": [ "160px", "default" ],
    "$tooltip_panel_content": "persona_sdl.edit_appearance_error_button_content",
    "bindings": [
      {
        "binding_name": "(not #marketplace_disabled)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "edit_appearance_button_panel": {
    "type": "panel",
    "size": [ 132, 22 ],
    "controls": [
      { "edit_appearance_button@persona_sdl.edit_appearance_button": {} },
      { "edit_appearance_error_button@persona_sdl.edit_appearance_error_button": {} }
    ]
  },

  "delete_appearance_button@common_buttons.light_content_button": {
    "size": [ 28, 22 ],
    "$pressed_button_name": "button.delete_appearance_preset",
    "$button_content": "persona_sdl.profile_button_image_content",
    "$button_image_content_size": [ 13, 14 ],
    "$profile_button_image": "textures/ui/icon_trash",
    "tts_control_header": "profileScreen.delete_button",
    "tts_play_on_unchanged_focus_control": true,
    "$focus_id": "delete_appearance_button",
    "bindings": [
      {
        "binding_name": "#delete_button_enabled",
        "binding_name_override": "#enabled",
        "binding_condition": "always"
      }
    ]
  },

  "differences_information_button@common_buttons.light_content_button": {
    "size": [ 28, 22 ],
    "$pressed_button_name": "button.differences_information_button",
    "$button_content": "persona_sdl.profile_button_image_content",
    "$button_image_content_size": [ 15, 14 ],
    "$profile_button_image": "textures/ui/infobulb",
    "tts_control_header": "profileScreen.differences_information_button",
    "tts_play_on_unchanged_focus_control": true
  },

  "lower_button_section@common.horizontal_stack_panel": {
    "size": [ "100%", 22 ],
    "focus_container": true,
    "focus_wrap_enabled": false,
    "focus_navigation_mode_left": "$main_content_focus_container_left",
    "focus_container_custom_left": "$main_content_focus_container_left_custom",
    "controls": [
      { "left_padding@persona_sdl.buttons_sides_padding_panel": {} },
      { "edit_button@persona_sdl.edit_appearance_button_panel": {} },
      { "delete_button@persona_sdl.delete_appearance_button": {} },
      { "spacing_1@common.empty_panel": { "size": [ 3, "100%" ] } },
      { "differences_info_button@persona_sdl.differences_information_button": {} },
      { "right_padding@persona_sdl.buttons_sides_padding_panel": {} }
    ]
  },

  "lower_button_label_section@common.vertical_stack_panel": {
    "size": [ "100%", "100%c" ],
    "layer": "$always_show_layer",
    "focus_container": true,
    "use_last_focus": false,
    "focus_wrap_enabled": false,
    "focus_navigation_mode_right": "stop",
    "focus_navigation_mode_left": "$main_content_focus_container_left",
    "focus_container_custom_left": "$main_content_focus_container_left_custom",
    "controls": [
      { "persona_label@persona_sdl.selected_persona_skin_label": {} },
      { "lower_button_section@persona_sdl.lower_button_section": {} }
    ]
  },

  "character_selector_content@common.vertical_stack_panel": {
    "size": [ "100%", "100%c" ],
    "controls": [
      { "persona_preset_section@persona_sdl.persona_preset_section_panel": {} },
      { "debug_view@persona_sdl.profile_screen_debug_view": {} },
      { "mid_padding@persona_sdl.vertical_padding_2px": {} },
      { "button_section@persona_sdl.lower_button_label_section": {} }
    ]
  },

  "character_selector": {
    "type": "input_panel",
    "size": [ "100%", "100%c" ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_tab_left", // controller_left_bumper
        "to_button_id": "button.pressedArrowLeft",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_tab_right", // controller_right_bumper
        "to_button_id": "button.pressedArrowRight",
        "mapping_type": "global"
      }
    ],
    "controls": [
      { "character_selector_content@persona_sdl.character_selector_content": {} }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////////////////////////
  // Redirect Button
  /////////////////////////////////////////////////////////////////////////////////////////////////

  "dark_redirect_label_image_button_content": {
    "type": "panel",
    "size": [ "100% - 6px", "100%" ],
    "controls": [
      {
        "stack_content@common.horizontal_stack_panel": {
          "size": [ "100%", "100%" ],
          "controls": [
            {
              "content_label_panel": {
                "type": "panel",
                "size": [ "fill", "100%" ],
                "controls": [
                  {
                    "content_label": {
                      "type": "label",
                      "size": [ "100%", 12 ],
                      "layer": 10,
                      "text": "#section_header",
                      "color": "$text_color",
                      "bindings": [
                        {
                          "binding_type": "$store_factory_binding_type",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_name": "#section_header"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "content_image_panel": {
                "type": "panel",
                "size": [ "100%c", "100%c" ],
                "$content_image_size|default": [ 15, 14 ],
                "controls": [
                  {
                    "content_image@common_store.sdl_texture": {
                      "size": "$content_image_size",
                      "controls": [
                        {
                          "border_image": {
                            "type": "image",
                            "size": [ "100% + 2px", "100% + 4px" ],
                            "layer": 3,
                            "alpha": 0.0,
                            "texture": "textures/ui/square_image_border_white",
                            "$border_bindings|default": [],
                            "bindings": "$border_bindings",
                            "$has_border|default": false
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "bottom_bar": {
          "type": "image",
          "texture": "textures/ui/White",
          "anchor_to": "bottom_middle",
          "anchor_from": "bottom_middle",
          "offset": [ 0, "7%" ],
          "size": [ "100%", "5%" ],
          "color": "$redirect_separator_color",
          "alpha": 0.2
        }
      }
    ]
  },

  "dark_redirect_button_base@common_buttons.dark_content_button": {
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  "dark_redirect_button@persona_sdl.dark_redirect_button_base": {
    "size": [ "100%", 25 ],

    // button vars
    "$pressed_button_name": "button.redirect_button",
    "$button_content": "persona_sdl.dark_redirect_label_image_button_content",
    "$focus_id": "redirect_button",

    // override textures
    "$default_button_texture": "",
    "$hover_button_texture": "textures/ui/white_background",
    "$pressed_button_texture": "textures/ui/banners_no_border_dark_hover",
    "$locked_button_texture": "textures/ui/banners_no_border",

    // override text colors
    "$default_text_color": "$dark_toggle_checked_default_text_color",
    "$hover_text_color": "$dark_toggle_checked_hover_text_color",
    "$border_visible": false,

    // override image properties
    "$hover_button_image_fill": true,
    "$hover_content_alpha": 0.5,
    "$hover_button_image_color": "$redirect_button_hover_color",

    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#sdl_dropdown_data_row_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "dark_redirect_button_panel": {
    "type": "input_panel",
    "size": [ "100%", "100%c" ],

    "$redirect_button_hover_color": "$dark_redirect_button_hover_color",
    "$redirect_separator_color": "$dark_redirect_separator_color",

    "controls": [
      { "dark_redirect_button@persona_sdl.dark_redirect_button": {} }
    ]
  },

  "expanded_appearance_panel": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "controls": [
        {
          "expanded_appearance@persona_sdl.appearance_section": {
          "size": [ "100% - 10px", "100% - 10px" ],
          "$model_offset": [ 0, "-10%" ],
          "$appearance_viewer_model_size": [ "51%y", "100%" ],
          "$extra_appearance_section_content": "persona_sdl.expanded_appearance_button_stack",
          "$expand_appearance_preview_button_event": "button.menu_exit"
        }
      }
    ]
  },

  "expanded_appearance_view": {
    "type": "input_panel",
    "anchor_to": "top_middle",
    "anchor_from": "top_middle",
    "size": [ "100%", "100%" ],
    "always_listen_to_input": true,
    "controls": [
      {
        "expanded_appearance_section@common_store.store_static_section_factory": {
          "size": [ "100%", "100%" ],
          "$store_static_factory_collection_bind": "#sdl_expanded_appearance_content"
        }
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.close_expanded_appearance_view",
        "mapping_type": "pressed"
      }
    ]
  },

  "right_info_panel": {
    "type": "panel",
    "$right_info_panel_size|default": [ "100%", "100%" ],
    "size": "$right_info_panel_size",

    "$right_side_bottom_buttons|default": "persona_sdl.right_side_bottom_buttons",

    "$ignore_right_side_buttom_buttons|default": false,
    "controls": [
      {
        "info_panel": {
          "type": "panel",
          "$right_info_panel_content_size|default": [ "100%", "100% - 2px" ],
          "size": "$right_info_panel_content_size",
          "controls": [
            { "right_info_content@$right_info_content_control": {} }
          ]
        }
      },
      { "right_side_bottom_buttons@$right_side_bottom_buttons": {} }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// dressing room right side panel content
  ///////////////////////////////////////////////////////////////////////////////////////

  "author_button@common_buttons.underline_button": {
    "offset": [ 2, 0 ],
    "size": [ "100%c", 12 ],
    "layer": 2,
    "$pressed_button_name": "button.seeMoreBy",
    "$single_label_size": [ "default", 10 ],
    "$single_line_label_offset": [ 0, 0 ],
    "$single_line_font_scale_factor": 1,
    "$single_line_label_color": "$dressing_room_right_side_default_text_color",
    "$single_line_label_text": "#creator_label",
    "focus_identifier": "author_button",
    "focus_enabled": true,
    "focus_change_up": "open_color_picker_button",
    "$label_text_bindings": [
      {
        "binding_name": "$single_line_label_text"
      }
    ],
    "bindings": [
      {
        "binding_name": "(not #emotes_active)",
        "binding_name_override": "#enabled"
      }
    ]
  },

  "info_text_summary_button_panel": {
    "type": "panel",
    "size": [ "100%c", "100%c" ],
    "$focus_id": "author_button",
    "bindings": [
      {
        "binding_name": "(not (#creator_label = ''))",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      { "summary_author_button@persona_sdl.author_button": {} }
    ]
  },

  "info_text_box_description_stack_locked_icon@persona_common.icon_image": {
    "size": [ 12, 11 ],
    "anchor_to": "top_middle",
    "anchor_from": "top_middle",
    "bindings": [
      {
        "binding_name": "#achievement_offer_lock_state_texture",
        "binding_name_override": "#texture"
      }
    ]
  },

  "info_text_box_description_stack_lock_state_panel@common.empty_panel": {
    "size": [ 15, "100%" ],
    "bindings": [
      {
        "binding_name": "#is_offer_achievement",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      { "locked_state_icon@persona_sdl.info_text_box_description_stack_locked_icon": {} }
    ]
  },

  "info_text_box_description_stack_description_label": {
    "type": "label",
    "size": [ "100%", 14 ],
    "offset": [ 0, 5 ],
    "layer": 2,
    "color": "$dressing_room_right_side_default_text_color",
    "text": "#right_panel_description",
    "font_type": "smooth",
    "font_scale_factor": 0.7,
    "bindings": [
      {
        "binding_name": "#right_panel_description"
      }
    ]
  },

  "description_reward_panel": {
    "type": "panel",
    "size": [ "fill", "fill" ],
    "bindings": [
      {
        "binding_name": "(not (#creator_label = ''))",
        "binding_name_override": "#visible"
      },
      {
        "binding_name": "#right_panel_description"
      }
    ],
    "controls": [
      { "summary_author_button@persona_sdl.info_text_box_description_stack_description_label": {} }
    ]
  },

  "info_text_box_description_stack_label_panel@common.horizontal_stack_panel": {
    "size": [ "100%", "fill" ],
    "controls": [
      { "lock_state_icon_panel@persona_sdl.info_text_box_description_stack_lock_state_panel": {} },
      {
        "info_text_description_padding": {
          "type": "panel",
          "size": [ 2, "100%" ],
          "bindings": [
            {
              "binding_name": "(not #is_offer_achievement)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      { "description_text_panel@persona_sdl.description_reward_panel": {} }
    ]
  },

  "info_text_box_description_stack@common.vertical_stack_panel": {
    "size": [ "100%", "fill" ],
    "controls": [
      { "summary_author_button_panel@persona_sdl.info_text_summary_button_panel": {} },
      { "description_label_vert_stack@persona_sdl.info_text_box_description_stack_label_panel": {} }
    ]
  },

  "info_text_box@common.vertical_stack_panel": {
    "size": [ "100%", "100% - 17px" ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "$legal_text_offset": [ 2, -4 ],
    "controls": [
      { "description_panel@persona_sdl.info_text_box_description_stack": {} },
      {
        "info_text_box_padding": {
          "type": "panel",
          "size": [ "100%", 2 ],
          "bindings": [
            {
              "binding_name": "#currency_purchase_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      { "disclaimer_panel@common_store.disclaimer_panel": {} }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// subcategory button controls
  ///////////////////////////////////////////////////////////////////////////////////////

  "subcategory_button@common_buttons.dark_content_button": {
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      },
      {
        "to_button_id": "$hover_button_name",
        "mapping_type": "pressed"
      }
    ]
  },

  "sub_category_label_image_button_content": {
    "type": "panel",
    "size": [ "100% - 6px", "100%" ],
    "controls": [
      {
        "stack_content@common.horizontal_stack_panel": {
          "size": [ "100%", "100%" ],

          "$content_label_image_binding_type|default": "global",
          "$content_label_image_file_system_binding_type|default": "none",
          "$content_label_image_collection_name|default": "",

          "controls": [
            {
              "content_label_panel": {
                "type": "panel",
                "size": [ "fill", "100%" ],
                "controls": [
                  {
                    "content_label": {
                      "type": "label",
                      "size": [ "100%", 12 ],
                      "layer": 10,
                      "text": "$content_label_binding_name",
                      "color": "$text_color",
                      "bindings": [
                        {
                          "binding_type": "$content_label_image_binding_type",
                          "binding_collection_name": "$content_label_image_collection_name",
                          "binding_name": "$content_label_binding_name"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "content_image_panel": {
                "type": "panel",
                "size": [ "100%c", "100%c" ],
                "$content_image_size|default": [ 15, 14 ],
                "controls": [
                  {
                    "content_image": {
                      "type": "image",
                      "size": "$content_image_size",
                      "layer": 2,
                      "alpha": 1.0,
                      "$content_image_binding_name|default": "",
                      "$content_image_binding_system|default": "",
                      "$content_image_bindings|default": [],
                      "$content_image_is_dynamic|default": false, // ie. it is determined by a bind
                      "controls": [
                        {
                          "border_image": {
                            "type": "image",
                            "size": [ "100% + 2px", "100% + 4px" ],
                            "layer": 3,
                            "alpha": 0.0,
                            "texture": "textures/ui/square_image_border_white",
                            "$border_bindings|default": [],
                            "bindings": "$border_bindings",
                            "$has_border|default": false
                          }
                        }
                      ],
                      "variables": [
                        {
                          "requires": "$content_image_is_dynamic",
                          "$content_image_bindings": [
                            {
                              "binding_type": "$content_label_image_binding_type",
                              "binding_collection_name": "$content_label_image_collection_name",
                              "binding_name": "$content_image_binding_name",
                              "binding_name_override": "#texture"
                            },
                            {
                              "binding_type": "$content_label_image_file_system_binding_type",
                              "binding_collection_name": "$content_label_image_collection_name",
                              "binding_name": "$content_image_binding_system",
                              "binding_name_override": "#texture_file_system"
                            }
                          ]
                        }
                      ],

                      "texture": "$content_image_binding_name",
                      "bindings": "$content_image_bindings"
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "bottom_bar": {
          "type": "image",
          "texture": "textures/ui/White",
          "anchor_to": "bottom_middle",
          "anchor_from": "bottom_middle",
          "offset": [ 0, "7%" ],
          "size": [ "100%", "5%" ],
          "color": "$dressing_room_sub_category_seperator_color",
          "alpha": 0.2
        }
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// purchase button controls
  ///////////////////////////////////////////////////////////////////////////////////////

  "purchase_button_panel": {
    "type": "panel",
    "bindings": [
      {
        "binding_name": "$purchase_panel_visible_binding",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "$purchase_button_control@$purchase_button_control": {
          "size": [ "100%", "100%" ],
          "$default_state_border_visible": true,
          "$hover_state_border_visible": true,
          "$pressed_state_border_visible": true,
          "$locked_state_border_visible": true
        }
      }
    ]
  },

  "coin_purchase_panel@persona_sdl.purchase_button_panel": {
    "size": [ "fill", "100%" ],
    "max_size": [ "50%", "100%" ],
    "$purchase_panel_visible_binding": "#is_coin_purchase_visible",
    "$purchase_button_control": "persona_sdl.offer_coin_purchase_button"
  },

  "real_money_purchase@persona_sdl.purchase_button_panel": {
    "size": [ "fill", "100%" ],
    "max_size": [ "50%", "100%" ],
    "$purchase_panel_visible_binding": "#is_currency_purchase_visible",
    "$purchase_button_control": "persona_sdl.offer_real_money_purchase_button"
  },

  "achievement_button@persona_sdl.view_achievement": {
    "ignored": "(not $supports_xbl_achievements)",
    "size": [ "60%", "100%" ],
    "$focus_override_down": "FOCUS_OVERRIDE_STOP",
    "bindings": [
      {
        "binding_name": "#is_achievement_award",
        "binding_name_override": "#visible"
      }
    ]
  },

  "achievement_text_button@common_buttons.light_text_button": {
    "$focus_id": "offer_coin_purchase_button",
    "$persona_focus_precedence": 3,
    "$button_font_scale_factor": 1.0
  },

  "view_achievement@persona_sdl.achievement_text_button": {
    "$pressed_button_name": "button.view_achievement",
    "$button_text": "store.view_achievement"
  },

  "collect_achievement@persona_sdl.achievement_text_button": {
    "$pressed_button_name": "button.collect_achievement",
    "$button_text": "dr.collect_achievement_item"
  },

  "collect_achievement_button@persona_sdl.collect_achievement": {
    "size": [ "40%", "100%" ],
    "$focus_override_down": "FOCUS_OVERRIDE_STOP",
    "bindings": [
      {
        "binding_name": "#can_collect_achievement_award",
        "binding_name_override": "#visible"
      }
    ]
  },

  "emote_play_again_button@common_buttons.light_text_button": {
    "size": [ "fill", "100%" ],
    "max_size": [ "50%", "100%" ],
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right",
    "$pressed_button_name": "button.play_emote_again",
    "$font_type": "default",
    "$button_text": "dr.emotes.play_again",
    "$focus_id": "play_again_button", //see_pack_in_store_button
    "$focus_override_left": "offer_real_money_purchase_button",
    "$persona_focus_precedence": 3,
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "#is_play_again_button_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "purchase_buttons@common.horizontal_stack_panel": {
    "size": [ "fill", "100%" ],
    "controls": [
      {
        "padding_0": {
          "type": "panel",
          "size": [ 1, "100%" ]
        }
      },
      { "coin_purchase_panel@persona_sdl.coin_purchase_panel": {} },
      { "view_achievement_button@persona_sdl.achievement_button": {} },
      {
        "padding_1": {
          "type": "panel",
          "size": [ 1, "100%" ],
          "bindings": [
            {
              "binding_name": "#is_purchase_button_padding_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      { "subcategory_equip@persona_sdl.subcategory_equip_button_panel": {} },
      { "classic_skin_equip@persona_sdl.classic_skin_equip_button_panel": {} },
      { "size_equip@persona_sdl.size_equip_button_panel": {} },
      { "collect_achievement_button@persona_sdl.collect_achievement_button": {} },
      { "real_money_purchase_panel@persona_sdl.real_money_purchase": {} },
      { "realms_subscription_button_panel@persona_sdl.realms_subscription_button": {} },
      { "realms_redeem_button_panel@persona_sdl.realms_redeem_button": {} },
      {
        "padding_2": {
          "type": "panel",
          "size": [ 1, "100%" ]
        }
      },
      { "realms_savings_text_label@persona_sdl.realms_savings_text": {} },
      { "emote_play_again_button@persona_sdl.emote_play_again_button": {} }
    ]
  },

  "right_side_bottom_buttons@common.horizontal_stack_panel": {
    "ignored": "$ignore_right_side_buttom_buttons",
    "size": [ "100% - 2px", 20 ],
    "offset": [ 0, -1 ],
    "anchor_to": "bottom_left",
    "anchor_from": "bottom_left",
    "controls": [
      { "purchase_buttons_panel@persona_sdl.purchase_buttons": {} }
    ]
  },

  ////////////////////////////////
  //// Realms button controls ////
  ////////////////////////////////
  "realms_timer_banner": {
    "type": "panel",
    "size": [ "100%", 16 ],
    "controls": [
      {
        "csub_banner@common_csb.csb_expiration_banner": {
          "size": [ "100%", "100%" ]
        }
      }
    ]
  },

  "realms_savings_text": {
    "type": "label",
    "text": "#realms_saved_coins_label",
    "size": [ "60%", 16 ],
    "font_size": "small",
    "font_scale_factor": 1.2,
    "color": "$store_csb_gold_text_color",
    "bindings": [
      {
        "binding_name": "#realms_redeem_button_visible",
        "binding_name_override": "#visible"
      },
      {
        "binding_name": "#realms_saved_coins_label",
        "binding_type": "global"
      }
    ]
  },

  "realms_redeem_button_content@common.empty_panel": {
    "$realms_button_text|default": "",

    "controls": [
      {
        "csb_icon@common_csb.csb_icon_large": {
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "$pack_icon_size": [ "100%y", "100% + 10px" ],
          "offset": [ "-2px", "0px" ]
        }
      },
      {
        "realms_text_label": {
          "type": "label",
          "layer": 2,
          "size": [ "100%", 10 ],
          "max_size": [ "100%", "100%" ],
          "text_alignment": "center",
          "text": "$realms_button_text",
          "color": "$text_color",
          "$realms_button_text_offset|default": [ 0, 0 ],
          "offset": "$realms_button_text_offset"
        }
      }
    ]
  },

  "realms_redeem_button@common_buttons.light_content_button": {
    "max_size": [ "50%", "100%" ],
    "size": [ "fill", "100%" ],
    "$realms_button_text_offset": [ 8, 0 ],
    "$pressed_button_name": "button.redeem_realms_item",
    "$button_content": "persona_sdl.realms_redeem_button_content",
    "$realms_button_text": "persona.realms.redeem",
    "bindings": [
      {
        "binding_name": "#realms_redeem_button_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "realms_subscription_button@common_buttons.light_content_button": {
    "size": [ "50%", "100%" ],
    "$realms_button_text_offset": [ 8, 0 ],
    "$pressed_button_name": "button.see_realms_subscription",
    "$button_content": "persona_sdl.realms_redeem_button_content",
    "$realms_button_text": "persona.csb.see.subscription",
    "bindings": [
      {
        "binding_name": "#realms_subscription_button_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// Equip button controls
  ///////////////////////////////////////////////////////////////////////////////////////

  "a_button_helper@common.gamepad_helper_a": {
    "$hide_description": true,
    "$gamepad_helper_icon_size": [ 20, 20 ],
    "$gamepad_helper_size": [ "100%", "100%" ],
    "offset": [ "-25% - 2px", "-25% + 1px" ],
    "size": [ "100%", "100%" ]
  },

  "a_button_helper_center@common.empty_panel": {
    "size": [ "90%y", "100%" ],
    "controls": [
      { "a_button_helper@persona_sdl.a_button_helper": {} }
    ],
    "bindings": [
      {
        "binding_name": "#gamepad_helper_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "equip_piece_text": {
    "type": "label",
    "size": [ "100%", "default" ],
    "color": "$text_color",
    "text": "dr.equip_piece",
    "text_alignment": "center"
  },

  "equip_piece_text_wrapper@common.empty_panel": {
    "size": [ "fill", "100%" ],
    "controls": [
      { "text@persona_sdl.equip_piece_text": {} }
    ]
  },

  "equip_button_content@common.horizontal_stack_panel": {
    "size": [ "100%", "100%" ],
    "offset": [ 0, 3 ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "controls": [
      { "helper_wrapper@persona_sdl.a_button_helper_center": {} },
      { "equip_text@persona_sdl.equip_piece_text_wrapper": {} }
    ]
  },

  "equip_piece_button@common_buttons.light_content_button": {
    "$focus_id": "equip_piece_button",
    "$persona_focus_precedence": 3,
    "$focus_override_down": "FOCUS_OVERRIDE_STOP",
    "$pressed_button_name": "$equip_button_name",
    "$button_content": "persona_sdl.equip_button_content",

    "variables": [
      {
        "requires": "(not $is_low_memory_device)",
        "$button_offset": [ 0, -3 ],
        "$button_pressed_offset": [ 3, 0 ]
      }
    ]
  },

  "equip_button_panel": {
    "type": "panel",
    "size": [ "40%", "100%" ],
    "controls": [
      { "equip@persona_sdl.equip_piece_button": {} }
    ],
    "bindings": [
      {
        "binding_name": "$show_equip_button",
        "binding_name_override": "#visible"
      }
    ]
  },

  "subcategory_equip_button_panel@persona_sdl.equip_button_panel": {
    "size": [ "40%", "100%" ],
    "$equip_button_name": "button.equip_piece",
    "$show_equip_button": "#is_subcategory_equip_button_visible"
  },

  "classic_skin_equip_button_panel@persona_sdl.equip_button_panel": {
    "size": [ "100%", "100%" ],
    "$equip_button_name": "button.equip_skin",
    "$show_equip_button": "#is_skin_equip_visible"
  },

  "size_equip_button_panel@persona_sdl.equip_button_panel": {
    "$equip_button_name": "button.equip_size",
    "$show_equip_button": "#is_size_equip_visible"
  },

  "color_picker_equip_button_panel@persona_sdl.equip_button_panel": {
    "size": [ "40%", 24 ],
    "offset": [ 2, -2 ],
    "$equip_button_name": "button.equip_color",
    "$show_equip_button": "#is_color_picker_equip_visible",
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left"
  },

  ///////////////////////////////
  //// coin purchase button /////
  ///////////////////////////////
  "offer_coin_purchase_button@common_buttons.light_content_button": {
    "$pressed_button_name": "button.coin_purchase",
    "$ignore_markdown_filler_panel": "#is_on_sale",
    "$button_content": "pdp.large_button_coin_purchase_label",
    "$is_on_sale": false,
    "$coin_image_on_right": false,
    "$is_purchase_button": true,
    "$interact_button_id": "button.purchase_with_coins",
    "$markdown_size": [ "100% + 2px", "100% + 4px" ],
    "$strike_thru_offset": [ 0, -1 ],
    "$markdown_offset": [ -1, 0 ],
    "$focus_id": "offer_coin_purchase_button",

    "bindings": [
      {
        "binding_name": "(not #persona_is_updating)",
        "binding_name_override": "#enabled"
      }
    ]
  },

  /////////////////////////////////////////////
  //// real money purchase button controls ////
  /////////////////////////////////////////////
  "offer_real_money_purchase_button@common_buttons.light_text_button": {
    "size": [ "100%c", "100%" ],
    "$anchor": "center",
    "$pressed_button_name": "button.real_money_purchase",
    "$button_text": "#purchase_with_currency_button_text",
    "$button_text_binding_type": "global",
    "$focus_id": "offer_real_money_purchase_button"
  },


  /////////////////////////////////////////////////////////////////////////////////////////////
  //////  Title Rarity Background
  /////////////////////////////////////////////////////////////////////////////////////////////////

  "title_stack_postioning_panel": {
    "type": "panel",
    "size": [ "fill", 10 ],
    "controls": [
      { "title@persona_common.title_rarity_positionable_title": {} }
    ]
  },

  "title_rarity_right_title": {
    "type": "label",
    "size": [ "default", "100%" ],
    "offset": [ 0, 1 ],
    "layer": 2,
    "color": "$dressing_room_right_side_default_text_color",
    "text": "$title_rarity_binding",
    "font_size": "medium",
    "text_alignment": "right",
    "$title_rarity_binding|default": "#right_panel_title_rarity",
    "bindings": [
      {
        "binding_name": "$title_rarity_binding"
      }
    ]
  },

  "title_rarity_stack_postioning_panel": {
    "type": "panel",
    "size": [ "100%c", 10 ],
    "layer": 2,
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "controls": [
      { "rarity_right_title@persona_sdl.title_rarity_right_title": {} }
    ]
  },

  "title_rarity_stack@common.horizontal_stack_panel": {
    "$title_rarity_stack_size|default": [ "100% - 2px", 10 ],
    "size": "$title_rarity_stack_size",

    "$rarity_title_font_type|default": "MinecraftTen",
    "controls": [
      { "position_title_panel_offset@persona_sdl.title_stack_postioning_panel": {} },
      {
        "mid_padding": {
          "type": "panel",
          "size": [ 2, "100%" ]
        }
      },
      { "position_rarity_panel_offset@persona_sdl.title_rarity_stack_postioning_panel": {} }
    ]
  },

  "title_rarity_background_image@persona_common.item_rarity_color_background": {
    "size": [ "100%", 14 ],
    "layer": 10,
    "$rarity_background_alpha": "$rarity_title_background_alpha",

    "controls": [
      { "title_stack_panel@persona_sdl.title_rarity_stack": {} }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////////////////////////
  // Right side Info Section Controls
  /////////////////////////////////////////////////////////////////////////////////////////////////

  "piece_list_right_side_section@persona_sdl.right_side_dialog_panel": {
    "type": "panel",

    "size": [ "100%", 65 ],
    "$title_rarity_stack_size": [ "100% - 4px", 10 ],
    "$rarity_title_background_alpha|default": "$dressing_room_panel_alpha",
    "$info_title_control": "persona_sdl.title_rarity_background_image",
    "$persona_dialog_content": "persona_sdl.offer_info_section_content",
    "$info_content_control": "persona_sdl.right_info_panel",
    "$right_info_content_control": "persona_sdl.info_text_box",

    "$dialog_bg_size": [ "100% - 2px", "100% - 2px" ],
    "$right_side_dialog_size": [ "100%", "100% - 12px" ],
    "$ignore_color_picker": false,

    "$info_panel_prefix": "piece_offer",
    "controls": [
      {
        "right_info_panel_dialog_object@persona_sdl.right_info_panel_dialog_object": {}
      }
    ]
  },

  "information_and_selection_title_bar": {
    "type": "image",
    "layer": 2,
    "texture": "$title_bar_texture",
    "color": "$title_bar_color",
    "alpha": "$title_bar_alpha",
    "size": [ "100%", 14 ],
    "$ignore_title_bar_visibility|default": true,
    "controls": [
      { "dressing_room_title@$info_title_control": {} }
    ],
    "bindings": [
      {
        "ignored": "$ignore_title_bar_visibility",
        "binding_name": "(not #is_right_panel_classic_custom_visible)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "information_and_selection_stack@common.vertical_stack_panel": {
    "size": "$info_and_selection_panel_size",
    "$title_bar_color|default": "$dressing_room_semi_dark_bg_color",
    "$title_bar_texture|default": "textures/ui/White",
    "$title_bar_alpha|default": "$dressing_room_panel_alpha",
    "$info_bottom_section_size|default": [ "100%", "fill" ],

    "controls": [
      { "title_bar@persona_sdl.information_and_selection_title_bar": {} },
      { "bottom_section_panel@$info_content_control": { "size": "$info_bottom_section_size" } }
    ]
  },

  "information_and_selection_panel": {
    "type": "panel",

    "$info_and_selection_panel_size|default": [ "100%", "100%" ],
    "size": "$info_content_panel_size",

    "$info_title_control|default": "common.empty_panel",
    "$info_content_control|default": "common.empty_panel",

    "controls": [
      {
        "stack@persona_sdl.information_and_selection_stack": {}
      }
    ]
  },

  "offer_info_section_content": {
    "type": "panel",
    "$offer_info_section_content_size|default": [ "100%", "100%" ],
    "size": "$offer_info_section_content_size",

    "$ignore_special_banner|default": false,

    "controls": [
      {
        "info_content_panels": {
          "type": "panel",

          "$info_content_panel_size|default": [ "100%", "100%" ],
          "size": "$info_content_panel_size",

          "controls": [
            { "offer_info_content@persona_sdl.information_and_selection_panel": {} },
            { "special_offer_banner@persona_sdl.special_offer_banner": {} }
          ]
        }
      }
    ]
  },

  "special_offer_banner": {
    "ignored": "$ignore_special_banner",
    "type": "image",
    "size": [ "100%c + 15px", 15 ], // 15px = 3 for left side of banner + 6 for right side of banner + 6 for padding
    "$special_offer_banner_offset|default": [ -3, "-60%y" ],
    "offset": "$special_offer_banner_offset",
    "layer": 15,
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "texture": "textures/ui/saleribbon",
    "controls": [
      {
        "banner_info@common.horizontal_stack_panel": {
          "size": [ "100%c", 8 ],
          "offset": [ -1, -2.5 ], // x: one extra pixel on right.  y: lower left of banner is 3px high
          "controls": [
            {
              "limited_time_icon": {
                "type": "image",
                "size": [ "100%y", "100%" ],
                "layer": 3,
                "texture": "textures/ui/icon_timer",
                "bindings": [
                  {
                    "binding_name": "#is_limited_time_offer",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "padding_0": {
                "type": "panel",
                "size": [ 4, "100%sm" ]
              }
            },
            {
              "special_banner_text": {
                "type": "label",
                "layer": 3,
                "font_type": "smooth",
                "color": "$dressing_room_sale_banner_text_color",
                "$special_banner_text_binding_name|default": "#special_banner_text",
                "text": "$special_banner_text_binding_name",
                "bindings": [
                  {
                    "binding_name": "$special_banner_text_binding_name"
                  }
                ]
              }
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#is_specail_offer_banner_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  ////////////////////////////////////////////////////////////////////////////////////////////////
  // Color Picker Info Controls
  ////////////////////////////////////////////////////////////////////////////////////////////////
  "color_picker_info_panel_title": {
    "type": "image",
    "size": [ "100%", 12 ],
    "alpha": "$dressing_room_panel_alpha",
    "texture": "textures/ui/White",
    "bindings": [
      {
        "binding_name": "#color_picker_info_panel_title_color",
        "binding_name_override": "#color"
      }
    ],
    "controls": [
      {
        "color_name": {
          "type": "label",
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "font_type": "MinecraftTen",
          "color": "$dressing_room_right_side_default_text_color",
          "layer": 2,
          "offset": [ 2, -1 ],
          "text": "#color_picker_info_panel_title_name",
          "text_alignment": "left",
          "bindings": [
            {
              "binding_name": "#color_picker_info_panel_title_name"
            }
          ]
        }
      }
    ]
  },

  "color_picker_info_section_panel": {
    "type": "panel",
    "controls": [
      { "color_picker_equip_button@persona_sdl.color_picker_equip_button_panel": {} }
    ]
  },

  "right_side_color_picker_info_panel@persona_sdl.right_side_dialog_panel": {
    "size": [ "100%", "100%c + 2px" ],
    "$right_side_dialog_size": [ "100%", 63 ],

    "$info_title_control": "persona_sdl.color_picker_info_panel_title",
    "$persona_dialog_content": "persona_sdl.offer_info_section_content",
    "$info_content_control": "persona_sdl.color_picker_info_section_panel",

    "$info_panel_prefix": "color_picker",
    "$ignore_right_side_dialog_visible_bind": true,
    "$ignore_special_banner": true
  },


  /* ============================================================
  RARITY BACKGROUND

  Requires:
    - #rarity_color

  Variables:
    - $rarity_color_background_texture
        Optional override for texture. Defaults to white texture.
    - $rarity_binding_type
        The binding type for the `#rarity_color` binding. Defaults to `global`
    - $rarity_collection_name
        Optional collection name for the `#rarity_color` binding. Defaults to `none`

  Bindings:
    - #rarity_color
        The color to tint the texture with.

  */
  "item_rarity_color_background": {
    "type": "image",
    "$rarity_color_background_texture|default": "textures/ui/White",
    "texture": "$rarity_color_background_texture",
    "$rarity_background_alpha|default": 1,
    "alpha": "$rarity_background_alpha",

    "property_bag": {
      "#common": "$rarity_common_bg_color",
      "#uncommon": "$rarity_uncommon_bg_color",
      "#rare": "$rarity_rare_bg_color",
      "#epic": "$rarity_epic_bg_color",
      "#legendary": "$rarity_legendary_bg_color"
    },

    "$rarity_section_collection_details|default": "none",
    "$rarity_section_collection_prefix|default": "",
    "$rarity_section_collection_name|default": "",

    "$rarity_binding_type|default": "global",
    "$rarity_collection_name|default": "none",
    "$rarity_background_bindings|default": [
      {
        "binding_type": "$rarity_section_collection_details",
        "binding_collection_name": "$rarity_section_collection_name",
        "binding_collection_prefix": "$rarity_section_collection_prefix"
      },
      {
        "binding_type": "$rarity_binding_type",
        "binding_collection_name": "$rarity_collection_name",
        "binding_name": "#rarity_color",
        "binding_name_override": "#color"
      }
    ],
    "bindings": "$rarity_background_bindings"
  },

  //////////////////////////////////////////////////////////////
  //// Persona Offer
  "offer_state_info": {
    "type": "panel",

    "$ignore_offer_state_info|default": false,
    "$offer_state_info_collection_name|default": "",

    "$piece_section_collection_details|default": "none",
    "$piece_section_collection_prefix|default": "",
    "$piece_section_collection_name|default": "",
    "$ignore_emote_keybind_helpers|default": false,

    "controls": [
      {
        "offer_state_info_panel": {
          "ignored": "$ignore_offer_state_info",
          "type": "panel",
          "controls": [
            {
              "sale_ribbon@persona_common.icon_image": {
                "size": [ 9, 6 ],
                "offset": [ -1, -1 ],
                "layer": 20,
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "texture": "textures/ui/slot_sale",
                "bindings": [
                  {
                    "binding_type": "$piece_section_collection_details",
                    "binding_collection_name": "$piece_section_collection_name",
                    "binding_collection_prefix": "$piece_section_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_offer_on_sale",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "limited_time@persona_common.icon_image": {
                "size": [ 9, 9 ],
                "layer": 20,
                "anchor_from": "top_right",
                "anchor_to": "top_right",
                "texture": "textures/ui/icon_timer",
                "bindings": [
                  {
                    "binding_type": "$piece_section_collection_details",
                    "binding_collection_name": "$piece_section_collection_name",
                    "binding_collection_prefix": "$piece_section_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_limited_time_offer",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "coin_icon@persona_common.icon_image": {
                "size": [ 9, 9 ],
                "layer": 21,
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "texture": "textures/ui/icon_minecoin_9x9",
                "bindings": [
                  {
                    "binding_type": "$piece_section_collection_details",
                    "binding_collection_name": "$piece_section_collection_name",
                    "binding_collection_prefix": "$piece_section_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_offer_purchasable_and_not_free",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "free_download@persona_common.icon_image": {
                "size": [ 8, 10 ],
                "layer": 22,
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "texture": "textures/ui/free_download",
                "bindings": [
                  {
                    "binding_type": "$piece_section_collection_details",
                    "binding_collection_name": "$piece_section_collection_name",
                    "binding_collection_prefix": "$piece_section_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_redeemable",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "new_offer_symbol@persona_common.icon_image": {
                "size": [ 9, 9 ],
                "offset": [ -1, -1 ],
                "layer": 21,
                "anchor_to": "top_left",
                "anchor_from": "top_left",
                "texture": "textures/ui/icon_new_item",
                "bindings": [
                  {
                    "binding_type": "$piece_section_collection_details",
                    "binding_collection_name": "$piece_section_collection_name",
                    "binding_collection_prefix": "$piece_section_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_offer_new",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "locked_icon@persona_common.icon_image": {
                "size": [ 12, 11 ],
                "layer": 20,
                "anchor_to": "bottom_right",
                "anchor_from": "bottom_right",
                "texture": "textures/ui/icon_lock",
                "bindings": [
                  {
                    "binding_type": "$piece_section_collection_details",
                    "binding_collection_name": "$piece_section_collection_name",
                    "binding_collection_prefix": "$piece_section_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_offer_locked",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "achievement_icons@persona_common.icon_image": {
                "size": [ 12, 11 ],
                "layer": 20,
                "anchor_to": "bottom_right",
                "anchor_from": "bottom_right",
                "bindings": [
                  {
                    "binding_type": "$piece_section_collection_details",
                    "binding_collection_name": "$piece_section_collection_name",
                    "binding_collection_prefix": "$piece_section_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#is_offer_achievement",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_state_info_collection_name",
                    "binding_name": "#achievement_offer_lock_state_texture",
                    "binding_name_override": "#texture"
                  }
                ]
              }
            },
            {
              "key_helpers@common.empty_panel": {
                "ignored": "$ignore_emote_keybind_helpers",
                "offset": [ "25%", "-30%" ],

                "controls": [
                  {
                    "key_binding_icons@persona_common.icon_image": {
                      "size": [ 25, 25 ],
                      "offset": [ 1, 0 ],
                      "bindings": [
                        {
                          "binding_type": "$piece_section_collection_details",
                          "binding_collection_name": "$piece_section_collection_name",
                          "binding_collection_prefix": "$piece_section_collection_prefix"
                        },
                        {
                          "binding_type": "collection",
                          "binding_collection_name": "$offer_state_info_collection_name",
                          "binding_name": "#key_bound_texture",
                          "binding_name_override": "#texture"
                        }
                      ]
                    }
                  },
                  {
                    "keyboard_helpers@common.keyboard_helper": {
                      "offset": [ 1, 0 ],
                      "$hide_description": true,
                      "$icon_size": [ 14, 14 ],
                      "$icon_label_offset": [ 0.5, -1.5 ],
                      "$text_color": "$generic_button_text_color",
                      "$keyboard_character": "#key_bound_label",

                      "$keyboard_character_bindings": [
                        {
                          "binding_type": "$piece_section_collection_details",
                          "binding_collection_name": "$piece_section_collection_name",
                          "binding_collection_prefix": "$piece_section_collection_prefix"
                        },
                        {
                          "binding_type": "collection",
                          "binding_collection_name": "$offer_state_info_collection_name",
                          "binding_name": "$keyboard_character"
                        }
                      ],

                      "bindings": [
                        {
                          "binding_type": "$piece_section_collection_details",
                          "binding_collection_name": "$piece_section_collection_name",
                          "binding_collection_prefix": "$piece_section_collection_prefix"
                        },
                        {
                          "binding_type": "collection",
                          "binding_collection_name": "$offer_state_info_collection_name",
                          "binding_name": "#is_key_bound",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "piece_offer_button_content@persona_common.piece_item_display": {
    "$offer_state_info_collection_name": "$persona_piece_collection_name",
    "$item_content_control": "persona_sdl.offer_state_info",
    "$is_loading": false
  },

  "piece_offer_button@common.button": {
    "$focus_id": "piece_offer_button",
    "$button_content|default": "common.empty_panel",

    "$hide_while_loading|default": false,
    "$hide_failure_text|default": true,
    "$hide_progress_loading_outline|default": true,
    "$ignore_piece_selected|default": false,

    "$piece_section_collection_details|default": "none",
    "$piece_section_collection_prefix|default": "",
    "$piece_section_collection_name|default": "",

    "$progress_loading_binding_type": "$persona_piece_binding_type",
    "$progress_loading_collection_name": "$persona_piece_collection_name",
    "$progress_loading_binding_name": "#piece_content_downloading",

    "$controller_left_bumper_mapping|default": "",
    "$controller_right_bumper_mapping|default": "",

    "tts_name": "#tts_persona_offer_text",

    "bindings": [
      {
        "binding_type": "$piece_section_collection_details",
        "binding_collection_name": "$piece_section_collection_name",
        "binding_collection_prefix": "$piece_section_collection_prefix"
      },
      {
        "binding_type": "$persona_piece_collection_details",
        "binding_collection_name": "$persona_piece_collection_name",
        "binding_collection_prefix": "$persona_piece_prefix"
      },
      {
        "binding_type": "$persona_piece_binding_type",
        "binding_name": "#tts_persona_offer_text",
        "binding_collection_name": "$persona_piece_collection_name"
      }
    ],

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "$controller_left_bumper_mapping",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "$controller_right_bumper_mapping",
        "mapping_type": "focused"
      },
      {
        "to_button_id": "button.piece_hovered",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.piece_unhovered",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.coin_wallet",
        "mapping_type": "global"
      }
    ],

    "controls": [
      {
        "button_controls": {
          "type": "panel",

          "$loading_bindings|default": [],
          "variables": [
            {
              "requires": "$hide_while_loading",
              "$loading_bindings": [
                {
                  "binding_type": "view",
                  "source_control_name": "progress_loading",
                  "source_property_name": "(not #visible)",
                  "target_property_name": "#visible",
                  "resolve_sibling_scope": true
                }
              ]
            }
          ],
          "bindings": "$loading_bindings",

          "controls": [
            { "default@common.empty_panel": {} },
            {
              "pressed@persona_sdl.selected_border": {
                "layer": 9
              }
            },
            {
              "csb_icon@common_csb.csb_icon_large": {
                "layer": 10,
                "$pack_icon_size": [ 8, 10 ],
                "offset": [ "0px", "2px" ],
                "anchor_from": "bottom_left",
                "anchor_to": "bottom_left",

                "bindings": [
                  {
                    "binding_type": "$piece_section_collection_details",
                    "binding_collection_name": "$piece_section_collection_name",
                    "binding_collection_prefix": "$piece_section_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$persona_piece_collection_name",
                    "binding_name": "#is_piece_csb",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "content@$button_content": {
                "layer": 2
              }
            },
            {
              "equipped@persona_common.equipped_border": {
                "ignored": "$ignore_piece_selected",
                "layer": 10,
                "bindings": [
                  {
                    "binding_type": "$piece_section_collection_details",
                    "binding_collection_name": "$piece_section_collection_name",
                    "binding_collection_prefix": "$piece_section_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$persona_piece_collection_name",
                    "binding_name": "#is_piece_equipped",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "previewed@persona_sdl.selected_border": {
                "ignored": "$ignore_piece_selected",
                "layer": 8,
                "bindings": [
                  {
                    "binding_type": "$piece_section_collection_details",
                    "binding_collection_name": "$piece_section_collection_name",
                    "binding_collection_prefix": "$piece_section_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$persona_piece_collection_name",
                    "binding_name": "#is_piece_being_previewed",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "hover@persona_common.focus_border": {
          "layer": 9
        }
      },
      {
        "progress_loading@common_store.progress_loading": {
          "ignored": "(not $hide_while_loading)",
          "bindings": [
            {
              "binding_type": "$piece_section_collection_details",
              "binding_collection_name": "$piece_section_collection_name",
              "binding_collection_prefix": "$piece_section_collection_prefix"
            },
            {
              "binding_type": "$persona_piece_binding_type",
              "binding_condition": "always",
              "binding_collection_name": "$persona_piece_collection_name",
              "binding_name": "#piece_content_downloading",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "persona_piece_offer": {
    "type": "panel",
    "$persona_piece_size|default": [ "16.5%", "100%x" ],
    "$max_size_centered_y_panel|default": [ "100%y", "100%" ],
    "$max_size_centered_x_panel|default": [ "100%", "100%x" ],
    "size": "$persona_piece_size",

    "$pressed_button_function|default": "button.apply_persona_piece",
    "bindings": [
      {
        "binding_type": "$piece_section_collection_details",
        "binding_collection_name": "$piece_section_collection_name",
        "binding_collection_prefix": "$piece_section_collection_prefix"
      },
      {
        "binding_type": "collection",
        "binding_collection_name": "$persona_piece_collection_name",
        "binding_name": "#persona_piece_offer_visible",
        "binding_name_override": "#visible"
      }
    ],

    "controls": [
      {
        "piece_offer_center_on_y_axis": {
          "type": "panel",
          "size": [ "100%", "100%" ],
          "max_size": "$max_size_centered_y_panel",
          "controls": [
            {
              "piece_offer_center_on_x_axis": {
                "type": "panel",
                "size": [ "100%", "100%" ],
                "max_size": "$max_size_centered_x_panel",
                "controls": [
                  {
                    "piece_offer_button@persona_sdl.piece_offer_button": {
                      "$piece_offer_button_size|default": [ "100% - 2px", "100% - 2px" ],
                      "size": "$piece_offer_button_size",
                      "$pressed_button_name": "$pressed_button_function",
                      "$button_content": "persona_sdl.piece_offer_button_content",
                      "$button_content_size": [ "100%", "100%" ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  /// Persona Side Selection
  "side_selection_row_content@common.horizontal_stack_panel": {
    "size": [ "100%", 19 ],
    "property_bag": {
      "#visible": false
    },
    "controls": [
      { "padding_0@persona_sdl.horizontal_2_padding": {} },
      {
        "left_button_gamepad_helper_panel": {
          "type": "panel",
          "size": [ "100%cm", "100%" ],
          "controls": [
            {
              "left_bumper@common.gamepad_helper_left_bumper": {
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle",
                "offset": [ 0, 1 ],
                "$hide_description": true,
                "bindings": [
                  {
                    "binding_name": "#gamepad_helper_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "left_button_panel": {
          "type": "panel",
          "size": [ 20, "100%x" ],
          "controls": [
            {
              "left_button@persona_sdl.left_limb_button": {}
            }
          ]
        }
      },
      {
        "title": {
          "type": "panel",
          "size": [ "fill", "100%" ],
          "controls": [
            {
              "limb_title": {
                "type": "label",
                "text": "#limb_title",
                "font_type": "MinecraftTen",
                "color": "$generic_button_text_color",
                "locked_color": "$dressing_room_side_locked_text_color",
                "offset": [ 0, 0 ],
                "anchor_to": "center",
                "anchor_from": "center",
                "layer": 2,
                "bindings": [
                  {
                    "binding_name": "#limb_title"
                  },
                  {
                    "binding_name": "#limb_title_enabled",
                    "binding_name_override": "#enabled",
                    "binding_type": "global"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "right_button_panel": {
          "type": "panel",
          "size": [ 20, "100%x" ],
          "controls": [
            {
              "right_button@persona_sdl.right_limb_button": {}
            }
          ]
        }
      },
      {
        "right_button_gamepad_helper_panel": {
          "type": "panel",
          "size": [ "100%cm", "100%" ],
          "controls": [
            {
              "right_bumper@common.gamepad_helper_right_bumper": {
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle",
                "offset": [ 0, 1 ],
                "$hide_description": true,
                "bindings": [
                  {
                    "binding_name": "#gamepad_helper_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      { "padding_1@persona_sdl.horizontal_2_padding": {} }
    ],
    "bindings": [
        {
            "binding_name": "#is_leg_or_arms_selected",
            "binding_name_override": "#visible"
        }
    ]
  },

  "side_selection_row": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
        { "side_selection_row_content@persona_sdl.side_selection_row_content": {} }
    ]
  },

  "left_limb_button@common_buttons.light_content_button": {
    "$button_content": "persona_sdl.left_icon",
    "$pressed_button_name": "button.swap_to_left_limb",
    "$default_state_border_visible": false,
    "$hover_state_border_visible": false,
    "$pressed_state_border_visible": false,
    "$locked_state_border_visible": false,
    "tts_name": "#left_limb_tts",
    "bindings": [
      {
        "binding_name": "#left_limb_enabled",
        "binding_name_override": "#enabled",
        "binding_type": "global"
      },
      {
        "binding_name": "#left_limb_tts",
        "binding_type": "global"
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  "right_limb_button@common_buttons.light_content_button": {
    "$button_content": "persona_sdl.right_icon",
    "$pressed_button_name": "button.swap_to_right_limb",
    "$default_state_border_visible": false,
    "$hover_state_border_visible": false,
    "$pressed_state_border_visible": false,
    "$locked_state_border_visible": false,
    "tts_name": "#right_limb_tts",
    "bindings": [
      {
        "binding_name": "#right_limb_enabled",
        "binding_name_override": "#enabled",
        "binding_type": "global"
      },
      {
        "binding_name": "#right_limb_tts",
        "binding_type": "global"
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////////
  // Skin list component
  /////////////////////////////////////////////////////////////////////////////////

  "see_more_skins_button@common_buttons.light_text_button": {
    "size": [ "50%", 26 ],
    "$button_text": "dr.classic_skins.show_more",
    "$pressed_button_name": "button.show_more_skin_packs",
    "$button_bindings": [
      {
        "binding_type": "$section_collection_details",
        "binding_collection_name": "$section_collection_name",
        "binding_collection_prefix": "$section_collection_prefix"
      },
      {
        "binding_type": "$section_collection_binding_type",
        "binding_collection_name": "$section_collection_name",
        "binding_name": "#show_more_pack_visible",
        "binding_name_override": "#visible"
      }
    ],
    "property_bag": {
      "skin_pack_collection_name": "$skin_pack_collection_name"
    }
  },

  "skin_pack_label": {
    "type": "label",
    "size": [ "100%", 10 ],
    "offset": [ 2, 5 ],
    "font_type": "MinecraftTen",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "text": "$skin_pack_label_text",
    "color": "$dressing_room_right_side_default_text_color",
    "bindings": [
      {
        "binding_type": "$section_collection_binding_type",
        "binding_collection_name": "$section_collection_name",
        "binding_name": "$skin_pack_label_text"
      },
      {
        "binding_type": "$section_collection_details",
        "binding_collection_name": "$section_collection_name",
        "binding_collection_prefix": "$section_collection_prefix"
      }
    ]
  },

  "persona_skin_button_for_pack_view@persona_sdl.skin_doll_button": {
    "$content_size": [ "20% - 2px", "153.3%x" ],
    "max_size": [ "20% - 2px", "153.3%x" ],
    "$pressed_button_name": "button.skin_selected",
    "$is_background_visible": false,
    "$ignore_skin_focus_binds": false
  },

  "skin_pack_expand_pack": {
    "type": "label",
    "offset": [ 0, 2.5 ],
    "size": [ "100%", 16 ],
    "text": "#pack_additional_skin_count_text",
    "color": "$dressing_room_right_side_default_text_color",
    "text_alignment": "center",
    "bindings": [
      {
        "binding_type": "$skin_pack_binding_type",
        "binding_collection_name": "$skin_pack_collection_name",
        "binding_name": "#pack_additional_skin_count_text"
      },
      {
        "binding_type": "$section_collection_details",
        "binding_collection_name": "$section_collection_name",
        "binding_collection_prefix": "$section_collection_prefix"
      }
    ]
  },

  "persona_skin_pack_panel@common.vertical_stack_panel": {
    "size": [ "100%", "100%c" ],

    "$skin_pack_binding_type|default": "global",
    "$skin_pack_collection_details|default": "none",
    "$skin_pack_collection_name|default": "",
    "$skin_pack_collection_prefix|default": "",

    "$section_collection_details|default": "none",
    "$section_collection_name|default": "",
    "$section_collection_prefix|default": "",

    "controls": [
      {
        "top_padding": {
          "type": "panel",
          "size": [ "100%", 6 ]
        }
      },
      {
        "pack_label": {
          "type": "label",
          "size": [ "100%", 10 ],
          "text": "#pack_title",
          "color": "$dressing_room_right_side_default_text_color",
          "bindings": [
            {
              "binding_type": "$skin_pack_binding_type",
              "binding_collection_name": "$skin_pack_collection_name",
              "binding_name": "#pack_title"
            },
            {
              "binding_type": "$section_collection_details",
              "binding_collection_name": "$section_collection_name",
              "binding_collection_prefix": "$section_collection_prefix"
            }
          ]
        }
      },
      { "mid_padding@common.empty_panel": { "size": [ "100%", 1 ] } },
      {
        "pack_body@common.empty_panel": {
          "size": [ "100%", "100%cm" ],
          "controls": [
            {
              "progress_loading_button@common.button": {
                "size": [ "100%", 26 ],
                "$pressed_button_name": "button.fake_button",
                "$button_content": "",
                "controls": [
                  { "content@persona_sdl.loading_progress_bars": {} },
                  { "default@common.empty_panel": {} },
                  { "hover@persona_sdl.focus_border": {} },
                  { "pressed@persona_sdl.selected_border": {} }
                ],
                "bindings": [
                  {
                    "binding_type": "$skin_pack_binding_type",
                    "binding_name": "#is_classic_skin_pack_loading",
                    "binding_collection_name": "$skin_pack_collection_name",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_type": "$section_collection_details",
                    "binding_collection_name": "$section_collection_name",
                    "binding_collection_prefix": "$section_collection_prefix"
                  }
                ]
              }
            },
            {
              "skin_pack_panel": {
                "type": "image",
                "texture": "textures/ui/dressing_room_banner",
                "color": "$dressing_room_skin_picker_dark_bg_color",
                "alpha": "$dressing_room_panel_alpha",
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "size": [ "100%", "100%cm" ],
                "bindings": [
                  {
                    "binding_type": "$skin_pack_binding_type",
                    "binding_name": "(not #is_classic_skin_pack_loading)",
                    "binding_collection_name": "$skin_pack_collection_name",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_type": "$section_collection_details",
                    "binding_collection_name": "$section_collection_name",
                    "binding_collection_prefix": "$section_collection_prefix"
                  }
                ],
                "controls": [
                  {
                    "skins_grid": {
                      "type": "grid",
                      "size": [ "80%", "30%x" ],
                      "anchor_to": "left_middle",
                      "anchor_from": "left_middle",

                      "$skin_binding_type": "collection",
                      "$skin_collection_details": "collection_details",
                      "$skin_collection_prefix": "skin",
                      "$skin_collection_name": "skin_collection",

                      "$skin_dimension_binding": "#skin_dimensions",
                      "grid_dimension_binding": "$skin_dimension_binding",
                      "grid_item_template": "persona_sdl.persona_skin_button_for_pack_view",
                      "collection_name": "$skin_collection_name",
                      "bindings": [
                        {
                          "binding_type": "$skin_pack_binding_type",
                          "binding_collection_name": "$skin_pack_collection_name",
                          "binding_name": "$skin_dimension_binding"
                        },
                        {
                          "binding_type": "$section_collection_details",
                          "binding_collection_name": "$section_collection_name",
                          "binding_collection_prefix": "$section_collection_prefix"
                        }
                      ]
                    }
                  },
                  {
                    "expand_view_button@common_buttons.light_content_button": {
                      "size": [ "20%-2px", 10 ],
                      "anchor_from": "right_middle",
                      "anchor_to": "right_middle",
                      "inherit_max_sibling_height": true,
                      "$focus_id": "skin_pack_expand_view_button",
                      "$pressed_alpha": "$dressing_room_panel_alpha",
                      "$default_button_alpha": "$dressing_room_panel_alpha",
                      "$pressed_button_name": "button.expand_skin_pack",
                      "$button_content": "persona_sdl.skin_pack_expand_pack",
                      "bindings": [
                        {
                          "binding_type": "$skin_pack_collection_details",
                          "binding_collection_name": "$skin_pack_collection_name",
                          "binding_collection_prefix": "$skin_pack_collection_prefix"
                        },
                        {
                          "binding_type": "$section_collection_details",
                          "binding_collection_name": "$section_collection_name",
                          "binding_collection_prefix": "$section_collection_prefix"
                        },
                        {
                          "binding_type": "collection",
                          "binding_collection_name": "$skin_pack_collection_name",
                          "binding_name": "#expand_button_focus_id",
                          "binding_name_override": "#focus_identifier"
                        },
                        {
                          "binding_type": "collection",
                          "binding_collection_name": "$skin_pack_collection_name",
                          "binding_name": "#skin_pack_expand_pack_focus_change_left",
                          "binding_name_override": "#focus_change_left"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "skin_pack_grid": {
    "type": "grid",
    "size": [ "100% - 4px", "100%c" ],
    "anchor_to": "top_middle",
    "anchor_from": "top_middle",

    "collection_name": "$skin_pack_collection_name",
    "$skin_pack_dimension_binding": "#skin_pack_dimensions",
    "grid_dimension_binding": "$skin_pack_dimension_binding",
    "grid_item_template": "persona_sdl.persona_skin_pack_panel",

    "bindings": [
      {
        "binding_type": "$section_collection_binding_type",
        "binding_collection_name": "$section_collection_name",
        "binding_name": "$skin_pack_dimension_binding"
      },
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$section_collection_name",
        "binding_collection_prefix": "$section_collection_prefix"
      }
    ]
  },

  "default_skin_button@persona_sdl.skin_doll_button": {
    "size": [ 12, 52 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "offset": [ 11, 3 ],
    "clips_children": false,

    "$paper_doll_offset": [ 0, -10 ],
    "$pressed_button_name": "button.default_skin_selected",

    "$skin_binding_type": "collection",
    "$skin_collection_details": "collection_details",
    "$skin_collection_prefix": "persona_default_skin",
    "$skin_collection_name": "persona_default_skin_collection"
  },

  "default_skin_button_panel": {
    "type": "panel",
    "size": [ "100%", 52 ],
    "controls": [
      { "default_button@persona_sdl.default_skin_button": {} }
    ]
  },

  "persona_skin_pack_grid@common.vertical_stack_panel": {
    "$skin_pack_label_text": "#section_header",

    "$skin_pack_collection_prefix": "skin_pack",
    "$skin_collection_name": "skin_pack_collection",

    "controls": [
      { "pack_label@persona_sdl.skin_pack_label": {} },
      {
        "default_skin_button@persona_sdl.default_skin_button_panel": {
          "ignored": "$console_edition",
          "$ignore_skin_realms_plus_icon": true,
          "bindings": [
            {
              "binding_type": "$section_collection_details",
              "binding_collection_name": "$section_collection_name",
              "binding_collection_prefix": "$section_collection_prefix"
            },
            {
              "binding_type": "$section_collection_binding_type",
              "binding_collection_name": "$section_collection_name",
              "binding_name": "#is_owned_section",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      { "pack_grid@persona_sdl.skin_pack_grid": {} }
    ]
  },

  "skin_doll_button": {
    "type": "panel",
    "size": "$content_size",

    "clips_children": true,

    "$skin_binding_type|default": "global",
    "$skin_collection_details|default": "none",
    "$skin_collection_name|default": "",
    "$skin_collection_prefix|default": "",

    "$skin_pack_collection_details|default": "none",
    "$skin_pack_collection_name|default": "",
    "$skin_pack_collection_prefix|default": "",

    "$section_collection_details|default": "none",
    "$section_collection_name|default": "",
    "$section_collection_prefix|default": "",

    "$is_background_visible|default": true,

    "$ignore_skin_focus_binds|default": true,

    "$ignore_skin_realms_plus_icon|default": false,

    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$skin_pack_collection_details",
        "binding_collection_name": "$skin_pack_collection_name",
        "binding_collection_prefix": "$skin_pack_collection_prefix"
      },
      {
        "binding_type": "$skin_collection_details",
        "binding_collection_name": "$skin_collection_name",
        "binding_collection_prefix": "$skin_collection_prefix"
      },
      {
        "binding_type": "$skin_binding_type",
        "binding_collection_name": "$skin_collection_name",
        "binding_name": "#is_skin_index_visible",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "size_control": {
          "type": "panel",
          "size": [ "65.21%y", "100% - 2px" ],
          "controls": [
            {
              "background": {
                "type": "image",
                "texture": "textures/ui/slots_bg",
                "visible": "$is_background_visible"
              }
            },
            {
              "new_offer_icon@common_store.status_new_offer_icon": {
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$skin_binding_type",
                    "binding_collection_name": "$skin_collection_name",
                    "binding_name": "#is_skin_new",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_type": "$skin_pack_collection_details",
                    "binding_collection_name": "$skin_pack_collection_name",
                    "binding_collection_prefix": "$skin_pack_collection_prefix"
                  },
                  {
                    "binding_type": "$section_collection_details",
                    "binding_collection_name": "$section_collection_name",
                    "binding_collection_prefix": "$section_collection_prefix"
                  }
                ]
              }
            },
            {
              "locked_icon@persona_sdl.lock_icon": {
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$skin_pack_collection_details",
                    "binding_collection_name": "$skin_pack_collection_name",
                    "binding_collection_prefix": "$skin_pack_collection_prefix"
                  },
                  {
                    "binding_type": "$skin_binding_type",
                    "binding_collection_name": "$skin_collection_name",
                    "binding_name": "#is_skin_locked",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "unequippable_icon@persona_sdl.lock_icon": {
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$skin_pack_collection_details",
                    "binding_collection_name": "$skin_pack_collection_name",
                    "binding_collection_prefix": "$skin_pack_collection_prefix"
                  },
                  {
                    "binding_type": "$skin_binding_type",
                    "binding_collection_name": "$skin_collection_name",
                    "binding_name": "#is_skin_not_equippable",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "realms_plus_icon@common.empty_panel": {
                "ignored": "$ignore_skin_realms_plus_icon",
                "controls": [
                  {
                    "csb_icon@common_csb.csb_icon_large": {
                      "layer": 3,
                      "$pack_icon_size": [ 8, 10 ],
                      "offset": [ 1, 1 ],
                      "anchor_from": "bottom_left",
                      "anchor_to": "bottom_left"
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$skin_pack_collection_details",
                    "binding_collection_name": "$skin_pack_collection_name",
                    "binding_collection_prefix": "$skin_pack_collection_prefix"
                  },
                  {
                    "binding_type": "$skin_binding_type",
                    "binding_collection_name": "$skin_collection_name",
                    "binding_name": "#is_skin_realms_plus",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "skin_button@common.button": {
                "tts_name": "#tts_skin_offer_text",

                "controls": [
                  { "default@common.empty_panel": {} },
                  {
                    "hover@persona_sdl.focus_border": {
                      "layer": 10
                    }
                  },
                  {
                    "pressed@persona_sdl.selected_border": {
                      "layer": 4
                    }
                  },
                  {
                    "selected@persona_sdl.selected_border": {
                      "layer": 8,
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$skin_pack_collection_details",
                          "binding_collection_name": "$skin_pack_collection_name",
                          "binding_collection_prefix": "$skin_pack_collection_prefix"
                        },
                        {
                          "binding_type": "$skin_binding_type",
                          "binding_collection_name": "$skin_collection_name",
                          "binding_name": "#is_skin_selected",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "equipped@persona_sdl.equipped_border": {
                      "layer": 10,
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$skin_pack_collection_details",
                          "binding_collection_name": "$skin_pack_collection_name",
                          "binding_collection_prefix": "$skin_pack_collection_prefix"
                        },
                        {
                          "binding_type": "$skin_binding_type",
                          "binding_collection_name": "$skin_collection_name",
                          "binding_name": "#is_skin_equipped",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "content_panel": {
                      "type": "panel",
                      "size": [ "100%", "100% - 2px" ],
                      "clips_children": true,
                      "controls": [
                        {
                          "content@persona_sdl.persona_classic_skin_paper_doll": {
                            "bindings": [
                              {
                                "binding_type": "$store_factory_collection_details",
                                "binding_collection_name": "$store_factory_collection_name",
                                "binding_collection_prefix": "$store_factory_collection_prefix"
                              },
                              {
                                "binding_type": "$skin_pack_collection_details",
                                "binding_collection_name": "$skin_pack_collection_name",
                                "binding_collection_prefix": "$skin_pack_collection_prefix"
                              },
                              {
                                "binding_type": "$skin_binding_type",
                                "binding_collection_name": "$skin_collection_name",
                                "binding_name": "#classic_skin_index"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$skin_pack_collection_details",
                    "binding_collection_name": "$skin_pack_collection_name",
                    "binding_collection_prefix": "$skin_pack_collection_prefix"
                  },
                  {
                    "binding_type": "$skin_collection_details",
                    "binding_collection_name": "$skin_collection_name",
                    "binding_collection_prefix": "$skin_collection_prefix"
                  },
                  {
                    "ignored": "$ignore_skin_focus_binds",
                    "binding_type": "$skin_binding_type",
                    "binding_collection_name": "$skin_collection_name",
                    "binding_name": "#skin_focus_id",
                    "binding_name_override": "#focus_identifier"
                  },
                  {
                    "ignored": "$ignore_skin_focus_binds",
                    "binding_type": "$skin_binding_type",
                    "binding_collection_name": "$skin_collection_name",
                    "binding_name": "#skin_pack_change_right",
                    "binding_name_override": "#focus_change_right"
                  },
                  {
                    "binding_type": "$skin_binding_type",
                    "binding_name": "#tts_skin_offer_text",
                    "binding_collection_name": "$skin_collection_name"
                  }
                ],
                "button_mappings": [
                  {
                    "from_button_id": "button.menu_select",
                    "to_button_id": "$pressed_button_name",
                    "mapping_type": "pressed"
                  },
                  {
                    "from_button_id": "button.menu_ok",
                    "to_button_id": "$pressed_button_name",
                    "mapping_type": "focused"
                  },
                  {
                    "to_button_id": "button.skin_hovered",
                    "mapping_type": "pressed"
                  },
                  {
                    "to_button_id": "button.skin_unhovered",
                    "mapping_type": "pressed"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "persona_classic_skin_paper_doll": {
    "type": "custom",
    "$paper_doll_offset|default": [ 0, -7 ],
    "offset": "$paper_doll_offset",
    "size": [ "100%", "100%" ],
    "renderer": "paper_doll_renderer",
    "camera_tilt_degrees": -10,
    "starting_rotation": 30,
    "use_selected_skin": false,
    "use_skin_gui_scale": true,
    "enable_scissor_test": true,
    "animation_reset_name": "screen_animation_reset",
    "anims": [
      "@common.screen_exit_size_animation_push",
      "@common.screen_exit_size_animation_pop",
      "@common.screen_entrance_size_animation_push",
      "@common.screen_entrance_size_animation_pop"
    ]
  },

  "persona_skin_picker_skin_button@persona_sdl.skin_doll_button": {
    "$content_size": [ "16.7% - 2px", "153.3%x" ],
    "$paper_doll_offset": [ 0, -8 ],
    "$pressed_button_name": "button.skin_selected_skins_page"
  },

  "ExpandedSkinPackGrid": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "expanded_skin_grid": {
          "type": "grid",
          "size": [ "100% - 4px", "100%c + 2px" ],

          "$skin_binding_type": "collection",
          "$skin_collection_details": "collection_details",
          "$skin_collection_name": "expanded_skin_pack_collection",
          "$skin_collection_prefix": "expanded_skin_pack",

          "$skin_dimension_binding|default": "#expanded_pack_dimensions",
          "grid_dimension_binding": "$skin_dimension_binding",
          "grid_item_template": "persona_sdl.persona_skin_picker_skin_button",
          "collection_name": "$skin_collection_name",

          "bindings": [
            {
              "binding_name": "$skin_dimension_binding"
            }
          ]
        }
      }
    ]
  },

  "classic_skin_stack_panel@common.vertical_stack_panel": {
    "size": [ "100% - 8px", "100%c" ],

    "clip_state_change_event": "skin_pack_collector_clip_change_event",

    "controls": [
      { "skin_packs@persona_sdl.persona_skin_pack_grid": {} },
      { "vertical_4_padding@common.empty_panel": { "size": [ "100%", 4 ] } },
      { "see_more_owned@persona_sdl.see_more_skins_button": {} }
    ],
    "bindings": [
      {
        "binding_type": "$section_collection_details",
        "binding_collection_name": "$section_collection_name",
        "binding_collection_prefix": "$section_collection_prefix"
      }
    ]
  },

  "skin_pack_collection@persona_sdl.classic_skin_stack_panel": {
    "$section_collection_details": "$store_factory_collection_details",
    "$section_collection_name": "$store_factory_collection_name",
    "$section_collection_prefix": "$store_factory_collection_prefix",
    "$section_collection_binding_type": "$store_factory_binding_type",

    "$skin_pack_binding_type": "collection",
    "$skin_pack_collection_details": "collection_details",
    "$skin_collection_name": "skin_pack_collection",
    "$skin_pack_collection_prefix": "skin_pack",

    "$skin_pack_collection": "persona_sdl.persona_skin_pack_grid",
    "$skin_pack_collection_name": "persona_skin_pack_collection"
  },

  "skin_list_section_panel": {
    "type": "input_panel",
    "size": [ "100%", "100%c" ],

    "controls": [
      { "skin_list_section@persona_sdl.skin_pack_collection": {} }
    ]
  },

  "default_piece_button_panel": {
    "type": "panel",
    "size": [ "100%", "100%c + 4px" ],
    "property_bag": {
      "#visible": false
    },

    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#is_none_option_visible",
        "binding_name_override": "#visible"
      }
    ],

    "controls": [
      {
        "none_piece_option_button@common_buttons.light_text_button": {
          "size": [ "100% - 2px", 20 ],
          "$pressed_button_name": "button.none_piece_option",
          "$button_text": "#none_option_text",
          "$button_text_binding_type": "collection",
          "$button_text_grid_collection_name": "$store_factory_collection_name",
          "$button_text_collection_details": "$store_factory_collection_details",
          "$button_text_collection_prefix": "$store_factory_collection_prefix",
          "$button_text_size": [ "default", 10 ],
          "$new_ui_label_offset": [ 0, 0 ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$store_factory_binding_type",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_name": "#is_none_option_enabled",
              "binding_name_override": "#enabled"
            },
            {
              "binding_type": "$store_factory_binding_type",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_name": "#is_none_option_enabled",
              "binding_name_override": "#focus_enabled"
            }
          ],
          "button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_ok",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "focused"
            }
          ]
        }
      }
    ]
  },

  /////////////////////////////////////////////////////////////
  /// right side stacks
  /////////////////////////////////////////////////////////////

  "ride_side_stack_base@common.vertical_stack_panel": {
    "size": [ "fill", "100%" ],
    "$right_side_default_text_color": "$dressing_room_right_side_default_text_color",
    "focus_container": true,
    "use_last_focus": false,
    "focus_wrap_enabled": false,
    "focus_navigation_mode_left": "custom",
    "focus_navigation_mode_right": "stop",
    "focus_navigation_mode_down": "stop",
    "focus_navigation_mode_up": "custom",
    "focus_container_custom_up": [
      {
        "other_focus_container_name": "top_bar"
      }
    ],
    "focus_container_custom_left": [
      {
        "other_focus_container_name": "persona_left_panels"
      }
    ]
  },

  "persona_getting_started_description": {
    "type": "label",
    "size": [ "100% - 4px", "100% - 2px" ],
    "font_type": "smooth",
    "font_scale_factor": 0.7,
    "color": "$dressing_room_right_side_default_text_color",
    "text": "dr.character_creator_getting_started_detail",
    "bindings": [
      {
        "binding_name": "#is_getting_started_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "persona_getting_started_description_area@common.empty_panel": {
    "controls": [
      { "text@persona_sdl.persona_getting_started_description": {} }
    ]
  },

  "persona_getting_started_title": {
    "type": "label",
    "layer": 2,
    "size": [ "100%", 14 ],
    "offset": [ 2, 0 ],
    "font_type": "MinecraftTen",
    "text": "dr.character_creator_getting_started_title",
    "color": "$dressing_room_right_side_default_text_color",
    "text_alignment": "left",
    "bindings": [
      {
        "binding_name": "#is_getting_started_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "persona_getting_started_panel@persona_sdl.right_side_dialog_panel": {
    "size": [ "100%", 65 ],
    "$persona_dialog_content": "persona_sdl.offer_info_section_content",
    "$ignore_special_banner|default": true,

    "$info_title_control": "persona_sdl.persona_getting_started_title",
    "$title_bar_texture": "textures/ui/White",
    "$title_bar_alpha": "$dressing_room_panel_alpha",

    "$info_content_control": "persona_sdl.persona_getting_started_description_area",
    "$info_bottom_section_size": [ "100%", "100% - 12px" ],

    "$right_side_dialog_size": [ "100%", "100% - 2px" ],
    "$right_side_dialog_bg_size": [ "100% - 2px", "100% - 2px" ],

    "$info_panel_prefix": "getting_started"
  },

  "size_button_panel": {
    "type": "panel",
    "size": [ "100%", 20 ],
    "anchor_to": "bottom_left",
    "anchor_from": "bottom_left",
    "controls": [
      {
        "size_equip@persona_sdl.size_equip_button_panel": {
          "offset": [ 2, -2 ],
          "anchor_to": "bottom_left",
          "anchor_from": "bottom_left"
        }
      }
    ]
  },

  "size_right_side_info_section@persona_sdl.right_side_dialog_panel": {
    "type": "input_panel",
    "size": [ "100%", 65 ],

    "$title_rarity_stack_size": [ "100% - 4px", 10 ],
    "$info_title_control": "persona_common.generic_title_panel",
    "$persona_dialog_content": "persona_sdl.offer_info_section_content",
    "$info_content_control": "persona_sdl.right_info_panel",
    "$dialog_bg_size": [ "100% - 2px", "100% - 2px" ],
    "$right_side_dialog_size": [ "100%", "100% - 12px" ],
    "$right_info_content_control": "common.empty_panel",
    "$right_side_bottom_buttons": "persona_sdl.size_button_panel",
    "$ignore_color_picker": true,
    "$ignore_special_banner": true,
    "$ignore_title_bar_visibility": true,

    "$info_panel_prefix": "size",
    "controls": [
      { "right_info_panel@persona_sdl.right_info_panel_dialog_object": {} }
    ]
  },

  "right_panel_classic_skins_title@common.horizontal_stack_panel": {
    "size": [ "100%", "100%cm" ],
    "controls": [
      {
        "padding_start@common.empty_panel": {
          "size": [ "3px", "100%sm" ]
        }
      },
      {
        "title_panel@common.empty_panel": {
          "type": "input_panel",
          "size": [ "50% - 4px", "100%c + 4px" ],
          "controls": [
            {
              "title": {
                "type": "label",
                "size": [ "100%", 10 ],
                "layer": 2,
                "color": "$dressing_room_right_side_default_text_color",
                "font_type": "MinecraftTen",
                "offset": [ 0, -2 ],
                "text": "#skin_pack_title",
                "text_alignment": "left",
                "bindings": [
                  {
                    "binding_name": "#skin_pack_title"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "author_panel@common.empty_panel": {
          "size": [ "50% - 2px", "100%c + 4px" ],
          "controls": [
            {
              "author": {
                "type": "label",
                "size": [ "100%", 10 ],
                "layer": 2,
                "color": "$dressing_room_right_side_default_text_color",
                "text": "#skin_pack_author",
                "text_alignment": "right",
                "bindings": [
                  {
                    "binding_name": "#skin_pack_author"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "padding_end@common.empty_panel": {
          "size": [ "4px", "100%sm" ]
        }
      }
    ]
  },

  "skin_info_image_panel@common.empty_panel": {
    "size": [ "100%c", "100%" ],
    "controls": [
      { "image@$texture_to_show": {} }
    ]
  },

  "skin_info_label_panel_label": {
    "type": "label",
    "size": [ "100%", 10 ],
    "layer": 2,
    "text_alignment": "left",
    "color": "$dressing_room_right_side_default_text_color",
    "text": "$text_binding_name",
    "font_type": "smooth",
    "bindings": [
      {
        "binding_type": "global",
        "binding_name": "$text_binding_name"
      }
    ]
  },

  "skin_info_label_panel@common.empty_panel": {
    "type": "panel",
    "size": [ "fill", "100%" ],
    "controls": [
      { "label@persona_sdl.skin_info_label_panel_label": {} }
    ]
  },

  "skin_info_content_stack@common.horizontal_stack_panel": {
    "size": [ "100% - 4px", "100%" ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "controls": [
      { "image_panel@persona_sdl.skin_info_image_panel": {} },
      { "horizontal_2_padding@common.empty_panel": { "size": [ 2, "100%" ] } },
      { "label_panel@persona_sdl.skin_info_label_panel": {} }
    ]
  },

  "skin_info_label_and_image": {
    "type": "panel",
    "controls": [
      { "content_stack@persona_sdl.skin_info_content_stack": {} }
    ]
  },

  "pack_information_skins_and_world@common.vertical_stack_panel": {
    "size": [ "40%", 22 ],
    "controls": [
      {
        "skins@persona_sdl.skin_info_label_and_image": {
          "size": [ "100%", 10 ],
          "$texture_to_show": "persona_sdl.mashup_hangar",
          "$text_binding_name": "#skin_pack_right_panel_skin_count_text"
        }
      },
      { "vertical_2_padding@common.empty_panel": { "size": [ "100%", 2 ] } },
      {
        "worlds@persona_sdl.skin_info_label_and_image": {
          "size": [ "100%", 10 ],
          "$texture_to_show": "persona_sdl.mashup_world",
          "$text_binding_name": "#skin_pack_right_panel_world_count_text"
        }
      }
    ]
  },

  "appearance_status_image_panel@common.empty_panel": {
    "size": [ "100%cm", "100%c" ],
    "controls": [
      {
        "usage_limited@persona_sdl.info_bulb_icon": {
          "bindings": [
            {
              "binding_name": "#skin_pack_right_panel_usage_is_limited",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "usage_not_limited@persona_sdl.green_checkmark_icon": {
          "bindings": [
            {
              "binding_name": "(not #skin_pack_right_panel_usage_is_limited)",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "roamable_status_notification_panel": {
    "type": "input_panel",
    "size": [ "100%", 10 ],
    "$text_binding_name|default": "#skin_pack_right_panel_usage_text",
    "button_mappings": [
      {
        "to_button_id": "button.is_appearance_status_hovered",
        "mapping_type": "pressed"
      }
    ],
    "controls": [
      {
        "appearance_status_notification@common_buttons.static_tooltip_notification_panel": {
          "size": [ "100%", "100%" ],
          "offset": [ "-50% + 10px", 0 ],
          "button_mappings": [],
          "consume_hover_events": false,
          "focus_enabled": true,
          "$static_tooltip_button_visibility_binding_name": "#is_right_panel_classic_skin_pack_visible",
          "$tooltip_popup_visible_binding": "#is_appearance_status_hover_panel_visible",
          "$override_tooltip_popup_image": true,
          "$tooltip_popup_override_image_panel": "persona_sdl.appearance_status_image_panel",
          "$tooltip_text_binding_name": "#skin_pack_right_panel_usage_tooltip_text",
          "$tooltip_panel_content": "common.empty_panel",
          "$tooltip_panel_content_background_alpha": 0.0,
          "$tooltip_panel_size": [ "140%", "100%cm + 8px" ],
          "$tooltip_panel_offset": [ "-14%", "-100%c - 2px" ],
          "$tooltip_popup_chevron_offset": [ "7%", "100%y - 3px" ],
          "$tooltip_chevron_anchor": "bottom_middle",
          "$tooltip_text_font_type": "smooth",
          "$button_tts_name": "$text_binding_name",
          "bindings": [
            {
              "binding_type": "global",
              "binding_name": "$text_binding_name"
            }
          ]
        }
      },
      {
        "roamable_status@persona_sdl.skin_info_label_and_image": {
          "$texture_to_show": "persona_sdl.appearance_status_image_panel",
          "$text_binding_name": "#skin_pack_right_panel_usage_text"
        }
      }
    ]
  },



  "pack_information_textures_and_usage_tooltip@common.vertical_stack_panel": {
    "size": [ "60%", 22 ],
    "controls": [
      {
        "textures@persona_sdl.skin_info_label_and_image": {
          "size": [ "100%", 10 ],
          "$texture_to_show": "persona_sdl.mashup_PaintBrush",
          "$text_binding_name": "#skin_pack_right_panel_texture_pack_count_text"
        }
      },
      { "vertical_2_padding@common.empty_panel": { "size": [ "100%", 2 ] } },
      { "appearance_status@persona_sdl.roamable_status_notification_panel": {} }
    ]
  },

  "right_panel_pack_information_content@common.horizontal_stack_panel": {
    "size": [ "100% - 4px", "100%cm + 26px" ],
    "controls": [
      { "horizontal_4_padding@common.empty_panel": { "size": [ 4, 0 ] } },
      { "skins_and_world@persona_sdl.pack_information_skins_and_world": {} },
      { "textures_and_usage@persona_sdl.pack_information_textures_and_usage_tooltip": {} }
    ],
    "bindings": [
      {
        "binding_name": "(not #is_currency_purchase_visible)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "bigger_usage_limited_bulb@persona_sdl.info_bulb_icon": {
    "size": [ 10, 12 ],
    "anchor_from": "center",
    "anchor_to": "center"
  },

  "right_realms_pack_button_more_info@common_buttons.light_content_button": {
    "layer": 92, // Must be usable on top of skin rotation input panel which has layer of 90
    "$button_content": "persona_sdl.bigger_usage_limited_bulb",
    "size": [ 21.5, 20 ],
    "$button_size_override": [ 20, 20 ],
    "$pressed_button_name": "button.realms_pack_more_info",
    "$default_state_border_visible": true,
    "$hover_state_border_visible": true,
    "$pressed_state_border_visible": true,
    "$locked_state_border_visible": true
  },

  "right_panel_disclaimer_and_info_button@common.horizontal_stack_panel": {
    "size": [ "100%", "100%" ],
    "controls": [
      { "disclaimer_panel@common_store.disclaimer_panel": { "size": [ "fill", "100% - 26px" ] } },
      { "realms_plus_more_info_button@persona_sdl.right_realms_pack_button_more_info": {} }
    ],
    "bindings": [
      {
        "binding_name": "#is_currency_purchase_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "right_panel_pack_info_content_stack@common.empty_panel": {
    "size": [ "100%", "100%" ],
    "controls": [
      { "information@persona_sdl.right_panel_pack_information_content": {} },
      { "right_disclaimer_button@persona_sdl.right_panel_disclaimer_and_info_button": {} }
    ]
  },

  "right_panel_classic_skin_pack@common.horizontal_stack_panel": {
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "pack_info@common.vertical_stack_panel": {
          "size": [ "100%", "100%" ],
          "controls": [
            { "vertical_2_padding@common.empty_panel": { "size": [ "100%", 2 ] } },
            { "right_panel_pack_info_content@persona_sdl.right_panel_pack_info_content_stack": {} },
            { "vertical_5_padding@common.empty_panel": { "size": [ "100%", 5 ] } }
          ]
        }
      }
    ]
  },

  "right_panel_classic_skin_pack_bottom_buttons@common.horizontal_stack_panel": {
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "offset": [ 0, -1 ],
    "size": [ "100% - 1px", 20 ],
    "controls": [
      { "purchase_buttons_panel@persona_sdl.purchase_buttons": {} }
    ]
  },

  "loading_progress_bars": {
    "type": "image",
    "layer": 2,
    "texture": "textures/ui/loading_spin",
    "anchor_from": "center",
    "anchor_to": "center",
    "offset": [ 0, 6 ],
    "uv_size": [ 7, 7 ],
    "size": [ 14, 14 ],
    "uv": "@progress.spinner_animation",
    "controls": [
      {
        "loading_text": {
          "type": "label",
          "offset": [ 0, -12 ],
          "layer": 2,
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "text_alignment": "center",
          "text": "dr.loading",
          "color": "$dressing_room_right_side_dark_text_color"
        }
      }
    ]
  },

  "right_panel_classic_skin_pack_information@common.empty_panel": {
    "controls": [
      {
        "content_panel@common.empty_panel": {
          "controls": [
            { "content_pack@persona_sdl.right_panel_classic_skin_pack": {} },
            { "bottom_buttons@persona_sdl.right_panel_classic_skin_pack_bottom_buttons": {} }
          ],
          "bindings": [
            {
              "binding_name": "(not #is_classic_skin_current_offer_loading)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "progress_loading@persona_sdl.loading_progress_bars": {
          "bindings": [
            {
              "binding_name": "#is_classic_skin_current_offer_loading",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "right_panel_classic_skin_pack_info@persona_sdl.right_panel_classic_skin_pack_information": {
    "bindings": [
      {
        "binding_name": "#is_right_panel_classic_skin_pack_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "usage_limited_bulb@persona_sdl.info_bulb_icon": {
    "anchor_from": "center",
    "anchor_to": "center"
  },

  "usage_limited_bulb_panel@common.empty_panel": {
    "size": [ 10, 12 ],
    "controls": [
      { "bulb@persona_sdl.usage_limited_bulb": {} }
    ]
  },

  "usage_limited_right_panel_text": {
    "type": "label",
    "size": [ "fill", "default" ],
    "text": "#right_panel_description",
    "text_alignment": "left",
    "font_type": "smooth",
    "font_scale_factor": 0.75,

    "color": "$dressing_room_right_side_default_text_color",
    "bindings": [
      {
        "binding_name": "#right_panel_description"
      }
    ]
  },

  "usage_limited_stack@common.horizontal_stack_panel": {
    "size": [ "100%", "100%" ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "offset": [ 0, 4 ],
    "controls": [
      { "left_horizontal_4_padding@common.empty_panel": { "size": [ 4, "100%" ] } },
      { "usage_limited@persona_sdl.usage_limited_bulb_panel": {} },
      { "horizontal_2_padding@common.empty_panel": { "size": [ 2, "100%" ] } },
      { "text@persona_sdl.usage_limited_right_panel_text": {} },
      { "right_horizontal_4_padding@common.empty_panel": { "size": [ 4, "100%" ] } }
    ]
  },

  "select_custom_skin@common_buttons.light_text_form_fitting_button": {
    "$ignore_choose_skin|default": true,
    "ignored": "$ignore_choose_skin",
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "$pressed_button_name": "button.choose_custom_skin",
    "$button_text": "dr.classic_skins.choose_custom_skin",
    "bindings": [
      {
        "binding_name": "#custom_skin_button_enabled",
        "binding_name_override": "#enabled"
      }
    ]
  },

  "info_popup_button@common_buttons.light_content_button": {
    "size": [ 20, 20 ],
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right",
    "$pressed_button_name": "button.custom_skin_info_popup",
    "$button_content": "persona_sdl.bigger_usage_limited_bulb"
  },

  "select_custom_skin_stack@common.empty_panel": {
    "size": [ "100% - 1px", 20 ],
    "offset": [ 0, -1 ],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "controls": [
      { "select_skin@persona_sdl.select_custom_skin": {} },
      { "extra_info@persona_sdl.info_popup_button": {} }
    ]
  },

  "right_panel_classic_skin_default_pack_information": {
    "type": "panel",
    "controls": [
      { "stack@persona_sdl.usage_limited_stack": {} },
      { "button_stack@persona_sdl.select_custom_skin_stack": {} }
    ]
  },

  "right_panel_classic_default_skin_pack@persona_sdl.right_panel_classic_skin_default_pack_information": {
    "$ignore_choose_skin": false,
    "bindings": [
      {
        "binding_name": "#is_right_panel_classic_custom_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "default_body_text_panel@common.empty_panel": {
    "size": [ "100%", "100%c" ],
    "offset": [ 3, 1 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "controls": [
      { "text@persona_sdl.usage_limited_right_panel_text": {} }
    ]
  },

  "right_panel_classic_blank_skin_pack_info@persona_sdl.default_body_text_panel": {
    "bindings": [
      {
        "binding_name": "(not #is_right_panel_classic_custom_visible)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "right_panel_classic_skin_pack_built_in@common.empty_panel": {
    "controls": [
      { "default_skin_pack_info@persona_sdl.right_panel_classic_default_skin_pack": {} },
      { "blank_skin_pack_info@persona_sdl.right_panel_classic_blank_skin_pack_info": {} }
    ],
    "bindings": [
      {
        "binding_name": "(not #is_right_panel_classic_skin_pack_visible)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "right_panel_classic_skin_content": {
    "type": "panel",
    "controls": [
      { "skin_pack_info@persona_sdl.right_panel_classic_skin_pack_info": {} },
      { "built_in_skin_pack@persona_sdl.right_panel_classic_skin_pack_built_in": {} }
    ]
  },

  "right_side_offer_info_skins@persona_sdl.right_side_dialog_panel": {
    "$right_side_dialog_size": [ "100%", "100% - 2px" ],
    "size": [ "100%", 65 ],

    "$title_rarity_stack_size": [ "100% - 2px", 10 ],
    "$info_title_control": "persona_sdl.right_panel_classic_skins_title",
    "$persona_dialog_content": "persona_sdl.offer_info_section_content",
    "$info_content_control": "persona_sdl.right_panel_classic_skin_content",

    "$info_panel_prefix": "classic_skin"
  },

  "emotes_right_side_bottom_buttons@persona_sdl.right_side_bottom_buttons": {
    "controls": [
      { "purchase_buttons_panel@persona_sdl.purchase_buttons": {} }
    ]
  },

  "emotes_right_info_panel@persona_sdl.right_info_panel": {
    "$right_side_bottom_buttons|default": "persona_sdl.emotes_right_side_bottom_buttons"
  },

  "right_side_emotes_info_panel@persona_sdl.piece_list_right_side_section": {
    "$ignore_title_bar_visibility": true,
    "$info_panel_prefix": "emote",
    "$info_content_control": "persona_sdl.emotes_right_info_panel",
    "$persona_dialog_content": "persona_sdl.offer_info_section_content"
  },

   "sdl_default_right_side_stack_panel": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "controls": [
      { "default_right_side_stack@persona_sdl.default_right_side_stack": {} }
    ]
  },

  "default_right_side_stack@persona_sdl.ride_side_stack_base": {
    "size": [ "100%", "100%" ],
    "controls": [
      { "debug_information@persona_sdl.right_side_stack_debug_control": {} },
      { "appearance_section@persona_sdl.appearance_section": {} },
      { "padding@persona_sdl.vertical_padding_2px": {} },
      { "realms_banner@persona_sdl.realms_timer_banner": {} },

      // below are the sub sections which dis/re-appear depending on context.
      {
        "offer_related_info_panels": {
          "type": "panel",
          "size": [ "100%", "100%cm" ],
          "controls": [
            { "getting_started@persona_sdl.persona_getting_started_panel": {} },
            { "piece_offer_info_panel@persona_sdl.piece_list_right_side_section": {} },
            { "size_info_panel@persona_sdl.size_right_side_info_section": {} },
            { "offer_info_panel_skins@persona_sdl.right_side_offer_info_skins": {} },
            { "emote_info_panel@persona_sdl.right_side_emotes_info_panel": {} }
          ]
        }
      }
    ]
  },

  "color_picker_right_side_stack": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "controls": [
      { "color_picker_right_side_stack@persona_sdl.color_picker_right_side_stack_content": {} }
    ]
  },

  "color_picker_right_side_stack_content@persona_sdl.ride_side_stack_base": {
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "appearance_section@persona_sdl.appearance_section": {
          "$extra_appearance_section_content": "persona_sdl.expand_appearance_preview_button"
        }
      },
      { "padding@persona_sdl.vertical_padding_2px": {} },
      { "color_picker_info_panel@persona_sdl.right_side_color_picker_info_panel": {} }
    ]
  }
}
