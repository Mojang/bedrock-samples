/********************************************************
+*   (c) Mojang. All rights reserved                       *
+*   (c) Microsoft. All rights reserved.                   *
+*********************************************************/
{
  "namespace": "profile",

  // --------------------------------------------------------------------------------------
  // helper objects
  // --------------------------------------------------------------------------------------
  "horizontal_padding_4px": {
    "type": "panel",
    "size": [ 4, "100%" ]
  },

  "horizontal_padding_6px": {
    "type": "panel",
    "size": [ 6, "100%" ]
  },

  "horizontal_padding_8px": {
    "type": "panel",
    "size": [ 8, "100%" ]
  },

  "horizontal_padding_10px": {
    "type": "panel",
    "size": [ 10, "100%" ]
  },

  "horizontal_fill_padding": {
    "type": "panel",
    "size": [ "fill", "100%" ]
  },

  "vertical_fill_padding": {
    "type": "panel",
    "size": [ "100%", "fill" ]
  },

  "vertical_padding_2px": {
    "type": "panel",
    "size": [ "100%", 2 ]
  },

  "vertical_padding_5px": {
    "type": "panel",
    "size": [ "100%", 5 ]
  },

  "vertical_padding_10px": {
    "type": "panel",
    "size": [ "100%", 10 ]
  },

  "vertical_padding_20px": {
    "type": "panel",
    "size": [ "100%", 20 ]
  },

  "general_text_field": {
    "type": "label",
    "color": "$generic_button_text_color",
    "font_scale_factor": "$font_scale",
    "$font_type|default": "default",
    "font_type": "$font_type",
    "$font_scale|default": 1.0,
    "$text_anchor|default": "left_middle",
    "anchor_from": "$text_anchor",
    "anchor_to": "$text_anchor"
  },

  "common_image": {
    "type": "image",
    "keep_ratio": false,
    "texture": "$image",
    "$image|default": "#texture",
    "$image_binding_name|default": "#none",
    "$image_binding_type|default": "none",

    "bindings": [
      {
        "binding_type": "$image_binding_type",
        "binding_name": "$image_binding_name",
        "binding_name_override": "#texture"
      }
    ]
  },

  "sides_padding_panel": {
    "type": "panel",
    "size": [ "5%", 0 ]
  },

  "vertical_padding_panel": {
    "type": "panel",
    "size": [ 0, "5%" ]
  },

  "common_icon@common_image": {
    "size": [ 12, 12 ],
    "$icon_image|default": "textures/ui/white_background",
    "$image|default": "$icon_image",
    "$icon_binding_type|default": "none",
    "$image_binding_type": "$icon_binding_type",
    "$icon_binding_name|default": "#none",
    "$image_binding_name": "$icon_binding_name"
  },

  "profile_button_image_content": {
    "type": "image",
    "size": "$button_image_content_size",
    "$button_image_content_size|default": [ "100%", "100%" ],
    "layer": 2,
    "alpha": "$alpha",
    "texture": "$profile_button_image",
    "$texture_color|default": "white",
    "color": "$texture_color",
    "variables": [
      {
        "requires": "$locked_state",
        "$alpha": 0.6
      },
      {
        "requires": "(not $locked_state)",
        "$alpha": 1.0
      }
    ]
  },

  // --------------------------------------------------------------------------------------
  // manage option controls
  // --------------------------------------------------------------------------------------

  "edit_appearance_preset_button@common_buttons.light_text_button": {
    "size": [ "100%", 23 ],
    "$button_focus_precedence": 20,
    "$pressed_button_name": "button.edit_appearance_preset",
    "$button_text": "gui.edit",
    "bindings": [
      {
        "binding_name": "#enable_edit_appearance",
        "binding_name_override": "#enabled",
        "binding_condition": "always"
      }
    ]
  },

  "delete_appearance_preset_button@common_buttons.light_text_button": {
    "size": [ "100%", 23 ],
    "$pressed_button_name": "button.delete_appearance_preset",
    "$button_text": "gui.delete"
  },

  "tooltip_chevron": {
    "type": "image",
    "size": [ 19, 13 ],
    "offset": [ 0, "100%y - 3px" ],
    "layer": "$always_show_layer",
    "anchor_to": "bottom_middle",
    "anchor_from": "bottom_middle",
    "bilinear": true,
    "texture": "textures/ui/tooltip_default_chevron"
  },

  "options_content@common.vertical_stack_panel": {
    "size": [ "100% - 10px", "100%c" ],
    "controls": [
      { "edit_appearance_preset_button@profile.edit_appearance_preset_button": {} },
      { "mid_padding@vertical_padding_2px": {} },
      { "delete_appearance_preset_button@profile.delete_appearance_preset_button": {} }
    ]
  },

  "options_content_panel@common.tooltip_background": {
    "size": [ "85.5491%", "100%cm + 10px" ],
    "offset": [ 0, "-100%y + 20px" ],
    "anchor_to": "bottom_middle",
    "anchor_from": "bottom_middle",
    "controls": [
      { "options@options_content": {} },
      { "tooltips@profile.tooltip_chevron": {} }
    ]
  },

  "options_panel": {
    "type": "panel",
    "size": [ "37%", "100%" ],
    "controls": [
      { "options_content@options_content_panel": {} }
    ]
  },

  "manage_options_content_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%" ],
    "controls": [
      { "left_padding@profile.horizontal_padding_10px": {} },
      { "options_panel@profile.options_panel": {} },
      { "right_padding@profile.horizontal_fill_padding": {} }
    ]
  },

  "manage_options_modal_content@common.modal_area_panel_base": {
    "layer": "$manage_options_background",
    "$menu_cancel_button_id": "button.manage_appearance",
    "$close_bg_exit_button_name": "button.manage_appearance",
    "controls": [
      { "manage_options@profile.manage_options_content_panel": {} },
      { "close_options_bg@common_store.close_bg_panel": {} }
    ],
    "bindings": [
      {
        "binding_name": "#manage_options_visible",
        "binding_name_override": "#modal"
      },
      {
        "binding_name": "#manage_options_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  // --------------------------------------------------------------------------------------
  // persona preset section controls
  // --------------------------------------------------------------------------------------
  "preset_arrow_button@common_buttons.light_content_button": {
    "size": [ "100%", "100%x" ],
    "$focus_id": "$arrow_button_focus_id",
    "$focus_override_left": "$arrow_button_focus_override_left",
    "$focus_override_right": "$arrow_button_focus_override_right",
    "$button_content": "profile.profile_button_image_content",
    "$texture_color": "$dressing_room_dark_button_color",
    "$button_image_content_size": [ 4, 7 ],
    "$profile_button_image|default": "textures/ui/chevron_left",
    "$pressed_button_name|default": "button.pressedArrowLeft",
    "$enabled_binding_Name|default": "#arrow_left_enabled",
    "$is_arrow_right|default": false,
    "variables": [
      {
        "requires": "$is_arrow_right",
        "$pressed_button_name": "button.pressedArrowRight",
        "$profile_button_image": "textures/ui/chevron_right",
        "$enabled_binding_Name": "#arrow_right_enabled"
      }
    ],
    "bindings": [
      {
        "binding_name": "$enabled_binding_Name",
        "binding_name_override": "#enabled",
        "binding_condition": "always"
      }
    ]
  },
  "preset_arrow_button_panel": {
    "type": "panel",
    "size": [ 24, "100%" ],
    "$arrow_button_focus_id|default": "",
    "$arrow_button_focus_override_left|default": "",
    "$arrow_button_focus_override_right|default": "",
    "controls": [
      {
        "preset_arrow_button@profile.preset_arrow_button": {}
      }
    ]
  },

  "skin_model_renderer": {
    "type": "custom",
    "size": [ "100%", "100%" ],
    "renderer": "paper_doll_renderer",
    "camera_tilt_degrees": -10,
    "starting_rotation": 30,

    "layer": "$preset_appearance_layer",

    "$preset_appearance_alpha|default": 0.2,
    "alpha": "$preset_appearance_alpha",

    "use_selected_skin": false,
    "use_skin_gui_scale": true,
    "animation_reset_name": "screen_animation_reset",
    "$skin_model_preset_visible_binding_name|default": "#is_preset_visible",
    "anims": [
      "@common.screen_exit_size_animation_push",
      "@common.screen_exit_size_animation_pop",
      "@common.screen_entrance_size_animation_push",
      "@common.screen_entrance_size_animation_pop"
    ],

    "$preset_appearance_property_bag|default": {},
    "property_bag": "$preset_appearance_property_bag",

    "$preset_model_gesture_rotation|default": "",
    "$preset_model_gesteure_bindings|default": [
      {
        "binding_type": "global",
        "binding_name": "$preset_appearance_binding_name",
        "binding_condition": "always"
      },
      {
        "binding_name": "$skin_model_preset_visible_binding_name",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ],
    "variables": [
      {
        "requires": "$is_preset_appearance_using_gestures",
        "$preset_model_gesture_rotation": "gesture_x",
        "$preset_model_gesteure_bindings": [
          {
            "binding_type": "global",
            "binding_name": "$preset_appearance_binding_name",
            "binding_condition": "always"
          },
          {
            "binding_type": "view",
            "source_control_name": "$preset_gesture_source_control_name",
            "source_property_name": "#gesture_delta_source",
            "target_property_name": "#gesture_delta_source"
          },
          {
            "binding_type": "view",
            "source_control_name": "$preset_gesture_source_control_name",
            "source_property_name": "#gesture_mouse_delta_x",
            "target_property_name": "#gesture_mouse_delta_x"
          },
          {
            "binding_name": "$skin_model_preset_visible_binding_name",
            "binding_name_override": "#visible",
            "binding_condition": "always"
          }
        ]
      }
    ],

    "rotation": "$preset_model_gesture_rotation",
    "bindings": "$preset_model_gesteure_bindings"
  },

  "skin_select_button_input": {
    "type": "input_panel",
    "size": "$preset_image_size",
    "offset": [ 0, "22%" ],
    "layer": "$preset_appearance_layer",
    "$preset_appearance_property_bag|default": {},
    "property_bag": "$preset_appearance_property_bag",
    "$select_preset_to_button_id|default": "button.select_appearance",
    "$binding_preset_add_visible_name|default": "#is_preset_add_visible",
    "controls": [
      {
        "create_new_preset_image": {
          "$preset_image|default": "textures/misc/missing_texture",
          "$preset_image_size|default": [ 20, 20 ],
          "type": "image",
          "texture": "$preset_image",
          "property_bag": "$preset_appearance_property_bag",
          "bindings": [
            {
              "binding_name": "$binding_preset_add_visible_name",
              "binding_name_override": "#visible",
              "binding_condition": "always"
            }
          ]
        }
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$select_preset_to_button_id",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$select_preset_to_button_id",
        "mapping_type": "focused"
      }
    ],
    "bindings": [
      {
        "binding_name": "#enable_edit_appearance",
        "binding_name_override": "#enabled",
        "binding_condition": "always"
      }
    ]
  },

  // retry button
  "skin_retry_button@common_buttons.light_content_button": {
    "size": [ "130%y", "30%" ],
    "offset": [ 0, "14%" ],
    "layer": "$always_show_layer",
    "visible": false,
    "$preset_appearance_property_bag|default": {},
    "$pressed_button_name": "button.retry_appearance_preset",
    "$button_content": "profile.retry_button_image_content",
    "property_bag": "$preset_appearance_property_bag",
    "$binding_is_retry_visible_name|default": "#is_retry_visible",
    "bindings": [
      {
        "binding_name": "$binding_is_retry_visible_name",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ]
  },

  "skin_appearance_loading_panel@common_store.progress_loading": {
    "offset": [ 0, "14%" ],
    "$hide_failure_text": true,
    "$hide_progress_loading_outline": true,
    "$preset_appearance_property_bag|default": {},
    "property_bag": "$preset_appearance_property_bag",
    "$binding_is_preset_loading_visible_name|default": "#is_preset_loading_visible",
    "bindings": [
      {
        "binding_name": "$binding_is_preset_loading_visible_name",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ]
  },

  "persona_appearance_preset_panel": {
    "type": "panel",
    "offset": [ 0, -22 ],
    "$preset_appearance_layer|default": 5,
    "$is_preset_appearance_using_gestures|default": false,
    "controls": [
      { "skin_renderer@profile.skin_model_renderer": {} },
      { "skin_select@profile.skin_select_button_input": {} },
      { "skin_retry@profile.skin_retry_button": {} },
      { "skin_loading@profile.skin_appearance_loading_panel": {} }
    ]
  },

  "appearance_preset_side_panel": {
    "type": "panel",
    "size": [ 100, "100%sm" ],
    "$is_left_preset_side|default": true,
    "$preset_appearance_size": [ "51.2821%y", "90%" ],
    "$large_preset_appearance_min_size": [ "51.2821%y", 105 ],
    "$small_preset_appearance_min_size": [ "51.2821%y", 95 ],
    "$large_preset_appearance_max_size": [ "51.2821%y", 125 ],
    "$small_preset_appearance_max_size": [ "51.2821%y", 100 ],
    "$large_preset_image_size": [ 50, 105 ],
    "$small_preset_image_size": [ 37, 70 ],
    "$large_preset_image": "textures/ui/profile_new_look",
    "$small_preset_image": "textures/ui/profile_new_look_small",
    "$low_preset_alpha": 0.4,
    "$high_preset_alpha": 0.7,
    "controls": [
      {
        "appearance_presets_panel": {
          "type": "panel",

          "$preset_appearance_binding_name": "#appearance_preset_preview",

          "$left_appearance_preset_min_size|default": "$small_preset_appearance_min_size",
          "$left_appearance_preset_max_size|default": "$small_preset_appearance_max_size",
          "$left_image_preset_size|default": "$small_preset_image_size",
          "$left_image|default": "$small_preset_image",
          "$left_appearance_preset_layer|default": "$preset_appearance_back_layer",
          "$left_appearance_preset_alpha|default": "$low_preset_alpha",
          "$right_appearance_preset_min_size|default": "$large_preset_appearance_min_size",
          "$right_appearance_preset_max_size|default": "$large_preset_appearance_max_size",
          "$right_image_preset_size|default": "$large_preset_image_size",
          "$right_image|default": "$large_preset_image",
          "$right_appearance_preset_layer|default": "$preset_appearance_front_layer",
          "$right_appearance_preset_alpha|default": "$high_preset_alpha",
          "variables": [
            {
              "requires": "(not $is_left_preset_side)",
              "$left_appearance_preset_min_size": "$large_preset_appearance_min_size",
              "$left_appearance_preset_max_size": "$large_preset_appearance_max_size",
              "$left_image_preset_size": "$large_preset_image_size",
              "$left_image": "$large_preset_image",
              "$left_appearance_preset_layer": "$preset_appearance_front_layer",
              "$left_appearance_preset_alpha": "$high_preset_alpha",
              "$right_appearance_preset_min_size": "$small_preset_appearance_min_size",
              "$right_appearance_preset_max_size": "$small_preset_appearance_max_size",
              "$right_image_preset_size": "$small_preset_image_size",
              "$right_image": "$small_preset_image",
              "$right_appearance_preset_layer": "$preset_appearance_back_layer",
              "$right_appearance_preset_alpha": "$low_preset_alpha"
            }
          ],
          "controls": [
            {
              "left_appearance_preset@profile.persona_appearance_preset_panel": {
                "size": "$preset_appearance_size",
                "min_size": "$left_appearance_preset_min_size",
                "max_size": "$left_appearance_preset_max_size",
                "$preset_appearance_layer": "$left_appearance_preset_layer",
                "$preset_appearance_alpha": "$left_appearance_preset_alpha",
                "anchor_to": "left_middle",
                "anchor_from": "left_middle",
                "$preset_image_size": "$left_image_preset_size",
                "$preset_image": "$left_image",
                "variables": [
                  {
                    "requires": "$is_left_preset_side",
                    "$idx": 1
                  },
                  {
                    "requires": "(not $is_left_preset_side)",
                    "$idx": 4
                  }
                ],
                "$preset_appearance_property_bag": {
                  "#preview_idx": "$idx"
                }
              }
            },
            {
              "right_appearance_preset@profile.persona_appearance_preset_panel": {
                "size": "$preset_appearance_size",
                "min_size": "$right_appearance_preset_min_size",
                "max_size": "$right_appearance_preset_max_size",
                "$preset_appearance_layer": "$right_appearance_preset_layer",
                "$preset_appearance_alpha": "$right_appearance_preset_alpha",
                "anchor_to": "right_middle",
                "anchor_from": "right_middle",
                "$preset_image_size": "$right_image_preset_size",
                "$preset_image": "$right_image",
                "variables": [
                  {
                    "requires": "$is_left_preset_side",
                    "$idx": 2
                  },
                  {
                    "requires": "(not $is_left_preset_side)",
                    "$idx": 5
                  }
                ],
                "$preset_appearance_property_bag": {
                  "#preview_idx": "$idx"
                }
              }
            }
          ]
        }
      }
    ]
  },

  "debug_skin_view@common.vertical_stack_panel": {
    "size": [ "100%", "fill" ],
    "controls": [
      {
        "skin_name": {
          "type": "label",
          "size": [ "100%", "25%" ],
          "font_scale_factor": 0.75,
          "layer": 15,
          "font_type": "smooth",
          "color": "$dressing_room_right_side_default_text_color",
          "text": "#selected_skin_name",
          "bindings": [
            {
              "binding_name": "#selected_skin_name"
            }
          ]
        }
      },
      {
        "debug_skin": {
          "type": "panel",
          "size": [ "25%", "75%" ],
          "controls": [
            {
              "skin_model": {
                "offset": [ 0, -10 ],
                "type": "custom",
                "renderer": "paper_doll_renderer",
                "layer": 5,
                "use_selected_skin": false,
                "use_skin_gui_scale": true,
                "animation_reset_name": "screen_animation_reset",
                "anims": [
                  "@common.screen_exit_size_animation_push",
                  "@common.screen_exit_size_animation_pop",
                  "@common.screen_entrance_size_animation_push",
                  "@common.screen_entrance_size_animation_pop"
                ],
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "#selected_skin"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "persona_preset_main_panel@profile.persona_appearance_preset_panel": {
    "size": [ 61.53852, 120 ],
    "$preset_appearance_binding_name": "#appearance_preset_preview",
    "$is_preset_appearance_using_gestures": true,
    "$preset_gesture_source_control_name": "main_preset_persona",
    "$preset_image_size": [ 50, 120 ],
    "$preset_image": "textures/ui/profile_new_look",
    "$select_preset_to_button_id": "button.edit_appearance_preset",
    "$preset_appearance_property_bag": {
      "#preview_idx": 3
    },
    "bindings": [
      {
        "binding_name": "#center_preset_size",
        "binding_condition": "always"
      }
    ]
  },

  "persona_main_preset_panel": {
    "type": "input_panel",
    "size": [ "100%c", "100%" ],
    "layer": "$always_show_paper_doll",
    "gesture_tracking_button": "button.turn_doll",
    "always_handle_controller_direction": true,
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.turn_doll",
        "mapping_type": "pressed",
        "button_up_right_of_first_refusal": true
      }
    ],
    "controls": [
      { "preset_panel@profile.persona_preset_main_panel": {} }
    ]
  },

  "preset_arrow_button_left_panel": {
    "type": "panel",
    "size": [ 24, "100%" ],
    "layer": "$preset_arrow_button_layer",
    "controls": [
      {
        "preset_arrow_button_left@profile.preset_arrow_button_panel": {
          "$arrow_button_focus_id": "preset_arrow_button_left",
          "$arrow_button_focus_override_right": "preset_arrow_button_right"
        }
      },
      {
        "left_bumper@common.gamepad_helper_left_bumper": {
          "offset": [ -2, -20 ],
          "bindings": [
            {
              "binding_name": "#gamepad_helper_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "preset_arrow_button_right_panel": {
    "type": "panel",
    "size": [ 24, "100%" ],
    "layer": "$preset_arrow_button_layer",
    "controls": [
      {
        "preset_arrow_button_right@profile.preset_arrow_button_panel": {
          "$is_arrow_right": true,
          "$arrow_button_focus_id": "preset_arrow_button_right",
          "$arrow_button_focus_override_left": "preset_arrow_button_left"
        }
      },
      {
        "right_bumper@common.gamepad_helper_right_bumper": {
          "offset": [ 2, -20 ],
          "bindings": [
            {
              "binding_name": "#gamepad_helper_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  // --------------------------------------------------------------------------------------
  // Persona Presets (previews) panel
  // --------------------------------------------------------------------------------------
  "persona_preset_section_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "50%" ],
    "focus_container": true,
    "use_last_focus": false,
    "focus_wrap_enabled": false,
    "focus_navigation_mode_right": "stop",
    "focus_navigation_mode_left": "$main_content_focus_container_left",
    "focus_container_custom_left": "$main_content_focus_container_left_custom",
    "$preset_arrow_button_layer": 100,

    "controls": [
      { "left_padding@profile.horizontal_fill_padding": {} },
      { "presets_left_side@profile.appearance_preset_side_panel": {} },
      { "presets_right_padding_arrow_right@profile.horizontal_padding_6px": {} },
      { "arrow_left_panel@profile.preset_arrow_button_left_panel": {} },
      { "arrow_left_padding_preview@profile.horizontal_padding_6px": {} },
      { "main_preset_persona@profile.persona_main_preset_panel": {} },
      { "preview_padding_arrow_right@profile.horizontal_padding_6px": {} },
      { "arrow_right_panel@profile.preset_arrow_button_right_panel": {} },
      { "arrow_right_padding_right_presets@profile.horizontal_padding_6px": {} },
      { "presets_right_side@profile.appearance_preset_side_panel": { "$is_left_preset_side": false } },
      { "right_padding@profile.horizontal_fill_padding": {} }
    ]
  },

  // --------------------------------------------------------------------------------------
  // lower button section controls
  // --------------------------------------------------------------------------------------
  //////////////////////////////////
  //// manage appearacne button ////
  "edit_appearance_button_panel": {
    "type": "panel",
    "size": [ 132, 22 ],
    "controls": [
      { "edit_appearance_button@profile.edit_appearance_button": {} },
      { "edit_appearance_error_button@profile.edit_appearance_error_button": {} }
    ]
  },

  "edit_appearance_error_button@common_buttons.dynamic_tooltip_notification_panel": {
    "ignored": "(not $store_disabled)",
    "size": [ "100%", "100%" ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_store_error",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.is_hovered",
        "mapping_type": "pressed"
      }
    ],
    "consume_hover_events": false,
    "focus_enabled": true,
    "$tooltip_popup_visible_binding": "#edit_appearance_error_tooltip_visible",
    "$override_tooltip_popup_image": true,
    "$tooltip_popup_override_image_panel": "start.store_error_image",
    "$tool_tip_text_max_size": [ "160px", "default" ],
    "$tooltip_panel_content": "profile.edit_appearance_error_button_content",
    "bindings": [
      {
        "binding_name": "(not #marketplace_disabled)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "edit_appearance_error_button_content": {
    "type": "image",
    "texture": "textures/ui/disabledButton",
    "layer": 9,
    "controls": [
      {
        "marketplace_button_label": {
          "layer": 9,
          "type": "label",
          "text": "store.disabledOnBeta",
          "color": "$light_button_locked_text_color"
        }
      }
    ]
  },

  "edit_appearance_button@common_buttons.light_text_button": {
    "size": [ 132, 22 ],
    "default_focus_precedence": 2,
    "$pressed_button_name": "button.edit_appearance_preset",
    "$button_font_scale_factor": 1.0,
    "$new_ui_label_offset": [ 0, 3 ],
    "$button_text": "#edit_appearance_text",
    "$button_text_binding_type": "global",
    "$button_binding_condition": "always",
    "$button_text_size": [ "100%", "100%" ],
    "$button_text_max_size": [ "100%", "100%" ],
    "tts_play_on_unchanged_focus_control": true,
    "bindings": [
      {
        "binding_name": "#enable_edit_appearance",
        "binding_name_override": "#enabled",
        "binding_condition": "always"
      }
    ],
    "$focus_id": "edit_appearance_button"
  },


  ///////////////////////
  //// delete button ////
  "delete_appearance_button@common_buttons.light_content_button": {
    "size": [ 28, 22 ],
    "$pressed_button_name": "button.delete_appearance_preset",
    "$button_content": "profile.profile_button_image_content",
    "$button_image_content_size": [ 13, 14 ],
    "$profile_button_image": "textures/ui/icon_trash",
    "tts_control_header": "profileScreen.delete_button",
    "tts_play_on_unchanged_focus_control": true,
    "$focus_id": "delete_appearance_button",
    "bindings": [
      {
        "binding_name": "#delete_button_enabled",
        "binding_name_override": "#enabled",
        "binding_condition": "always"
      }
    ]
  },

  ///////////////////////////////////////////////
  //// persona differences information button////
  "differences_information_button@common_buttons.light_content_button": {
    "size": [ 28, 22 ],
    "$pressed_button_name": "button.differences_information_button",
    "$button_content": "profile.profile_button_image_content",
    "$button_image_content_size": [ 15, 14 ],
    "$profile_button_image": "textures/ui/infobulb",
    "tts_control_header": "profileScreen.differences_information_button",
    "tts_play_on_unchanged_focus_control": true
  },

  "retry_button_image_content@common.vertical_stack_panel": {
    "size": [ "100%", "100%" ],
    "anchor_to": "bottom_middle",
    "anchor_from": "bottom_middle",
    "controls": [
      {
        "padding": {
          "type": "panel",
          "size": [ "100%", "10%" ]
        }
      },
      {
        "icon_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "icon": {
                "type": "image",
                "size": [ 20, 20 ],
                "texture": "textures/ui/refresh",
                "anchor_to": "bottom_middle",
                "anchor_from": "bottom_middle"
              }
            }
          ]
        }
      },
      {
        "reload_label": {
          "type": "label",
          "size": [ "100%", "100%" ],
          "text": "Reload",
          "font_type": "MinecraftTen",
          "font_scale_factor": 1.0,
          "text_alignment": "center",
          "color": "$light_button_default_text_color"
        }
      }
    ]
  },

  /////////////////////////
  //// settings button ////
  "settings_button@common_buttons.light_content_button": {
    "size": [ "100%y", "100%" ],
    "$pressed_button_name": "button.settings",
    "$button_content": "profile.profile_button_image_content",
    "$button_image_content_size": [ 14, 14 ],
    "$profile_button_image": "textures/ui/icon_setting",
    "tts_control_header": "profileScreen.settings_button",
    "tts_play_on_unchanged_focus_control": true
  },

  /////////////////////////////
  //// sides padding panel ////
  "buttons_sides_padding_panel": {
    "type": "panel",
    "size": "$sides_padding_size",
    "variables": [
      {
        "requires": "$supports_xbl_achievements",
        "$sides_padding_size": [ "fill", 0 ]
      },
      {
        "requires": "(not $supports_xbl_achievements)",
        "$sides_padding_size": [ "27%", 0 ]
      }
    ]
  },

  "title_text@general_text_field": {
    "size": "$title_size",
    "$title_size|default": [ "default", "default" ],
    "text": "$title_text",
    "text_alignment": "center",
    "layer": 2,
    "$title_text|default": "#title_text",
    "$title_text_binding_name|default": "#none",
    "bindings": [
      {
        "binding_name": "$title_text_binding_name",
        "binding_name_override": "#title_text"
      }
    ]
  },

  "icon_title_bar@common.horizontal_stack_panel": {
    "size": [ "100%c", "100%cm" ],
    "$title_font_type|default": "default",
    "controls": [
      { "icon@profile.common_icon": {} },
      { "padding_1@horizontal_padding_4px": { "size": [ 5, "100%cm" ] } },
      {
        "text_title_panel@profile.title_text": {
          "$font_type": "$title_font_type"
        }
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////////////////
  //// Bottom panel content
  "selected_persona_skin_text_display@profile.icon_title_bar": {
    "size": [ "100% + 4px", "100%cm + 2px" ],
    "layer": 1,
    "offset": [ 3, 2 ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "$title_font_type": "smooth",
    "$title_size": [ "100% - 30px", 11 ],
    "$title_text_binding_name": "#selected_persona_skin_text",
    "$icon_binding_type": "global",
    "$icon_binding_name": "#selected_persona_skin_icon"
  },

  "selected_persona_skin_background@profile.common_image": {
    "size": [ 160, 16 ],
    "color": "black",
    "controls": [
      { "title@profile.selected_persona_skin_text_display": {} }
    ],
    "bindings": [
      {
        "binding_name": "#is_a_profile_selected",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ]
  },

  "selected_persona_skin_label@common.horizontal_stack_panel": {
    "size": [ "100%", "100%cm" ],
    "controls": [
      { "left_padding@profile.buttons_sides_padding_panel": {} },
      { "background@profile.selected_persona_skin_background": {} },
      { "spacing@common.empty_panel": { "size": [ 31, 0 ] } },
      { "right_padding@profile.buttons_sides_padding_panel": {} }
    ]
  },

  "lower_button_section@common.horizontal_stack_panel": {
    "size": [ "100%", 22 ],
    "focus_container": true,
    "focus_wrap_enabled": false,
    "focus_navigation_mode_left": "$main_content_focus_container_left",
    "focus_container_custom_left": "$main_content_focus_container_left_custom",
    "controls": [
      { "left_padding@profile.buttons_sides_padding_panel": {} },
      { "edit_button@profile.edit_appearance_button_panel": {} },
      { "delete_button@profile.delete_appearance_button": {} },
      { "spacing_1@common.empty_panel": { "size": [ 3, "100%" ] } },
      { "differences_info_button@profile.differences_information_button": {} },
      { "right_padding@profile.buttons_sides_padding_panel": {} }
    ]
  },

  "lower_button_label_section@common.vertical_stack_panel": {
    "size": [ "100%", "100%c" ],
    "layer": "$always_show_layer",
    "focus_container": true,
    "use_last_focus": false,
    "focus_wrap_enabled": false,
    "focus_navigation_mode_right": "stop",
    "focus_navigation_mode_left": "$main_content_focus_container_left",
    "focus_container_custom_left": "$main_content_focus_container_left_custom",
    "controls": [
      { "persona_label@profile.selected_persona_skin_label": {} },
      { "lower_button_section@profile.lower_button_section": {} }
    ]
  },

  "bottom_panel_framework": {
    "ignored": "$store_disabled",
    "type": "panel",
    "size": [ "100%", "100%c + 4px" ],
    "$right_side_default_text_color": "$dressing_room_right_side_default_text_color",
    "controls": [
      { "content@profile.bottom_panel_content": {} }
    ],
    "bindings": [
      {
        "binding_name": "(not #marketplace_disabled)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "title_bar": {
    "type": "image",
    "size": [ "100%", "100%cm" ],
    "texture": "textures/ui/White",
    "alpha": "$dressing_room_profile_title_bar_alpha",
    "layer": 2,
    "controls": [
      { "dressing_room_title@$info_title_control": {} }
    ]
  },

  "title_content_panel_background": {
    "type": "image",
    "layer": 4,
    "texture": "textures/ui/White",
    "color": "$dressing_room_dark_button_color"
  },

  "featured_title_panel@profile.title_content_panel_background": {
    "size": [ "100%", 14 ],
    "controls": [
      {
        "featured_title_label": {
          "type": "label",
          "size": [ "100% - 8px", 10 ],
          "offset": [ 0, -1.0 ],
          "layer": 5,
          "color": "$dressing_room_right_side_default_text_color",
          "font_type": "MinecraftTen",
          "font_scale_factor": 0.85,
          "text_alignment": "left",
          "$title_text|default": "",
          "text": "$title_text",
          "bindings": [
            {
              "binding_name": "$title_text"
            }
          ]
        }
      }
    ]
  },

  "feature_section_pieces_title@profile.featured_title_panel": {
    "$title_text": "#left_panel_title"
  },

  "feature_section_skins_title@profile.featured_title_panel": {
    "$title_text": "#right_panel_title"
  },

  "featured_pieces_category_offer_panel@persona.category_featured_offer_panel": {
    "$category_featured_offer_panel_size": [ "100% - 4px", "100% + 4px" ],
    "$category_featured_offer_grid_size": [ "fill", 35 ],
    "offset": [ 0, -7 ],
    "$controller_left_bumper_mapping": "button.cycle_featured_pieces_left",
    "$controller_right_bumper_mapping": "button.cycle_featured_pieces_right",

    "$persona_piece_prefix": "featured"
  },

  "featured_pieces_info_panel": {
    "type": "collection_panel",

    "$ignore_piece_offer_grid_visible_bind": false,
    "$piece_section_collection_details": "collection_details",
    "$piece_section_binding_type": "collection",
    "$piece_section_collection_prefix": "piece_section",
    "$piece_section_collection_name": "piece_section_collection",

    "collection_name": "$piece_section_collection_name",

    "$info_panel_prefix": "piece_section",
    "controls": [
      {
        "right_info_content@profile.featured_pieces_category_offer_panel": {
          "collection_index": 0
        }
      }
    ]
  },

  "featured_persona_pieces_content_panel@common.vertical_stack_panel": {
    "size": [ "100%", "100%" ],
    "bindings": [
      {
        "binding_name": "#is_classic_skin_profile_selected",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      { "section_header@profile.feature_section_pieces_title": {} },
      { "featured_pieces@profile.featured_pieces_info_panel": {} }
    ]
  },

  "profile_featured_skin_pack_button_panel@persona.featured_skin_pack_button_panel": {
    "size": [ "16.5%", "57%x" ]
  },

  "featured_skins_info_panel": {
    "type": "panel",
    "size": [ "100%", "100% - 19px" ],
    "controls": [
      {
        "featured_skin_info_content@persona.classic_skin_featured_content": {
          "size": [ "100% - 4px", "100%" ],
          "offset": [ 0, 2.5 ],
          "$featured_skin_grid_panel_size": [ "fill", "100%" ],
          "$grid_item_template": "profile.profile_featured_skin_pack_button_panel",
          "$controller_left_bumper_mapping": "button.cycle_featured_skins_left",
          "$controller_right_bumper_mapping": "button.cycle_featured_skins_right",
          "$featured_skin_grid_dimensions": [ 6, 1 ]
        }
      }
    ]
  },

  "featured_custom_skins_content_panel@common.vertical_stack_panel": {
    "size": [ "100%", "100%" ],
    "bindings": [
      {
        "binding_name": "(not #is_classic_skin_profile_selected)",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      { "section_header@profile.feature_section_skins_title": {} },
      { "content_section@profile.featured_skins_info_panel": {} }
    ]
  },

  "feature_set_stack_panel@common.empty_panel": {
    "size": [ "100%", 54 ],
    "$chevron_color": "$dressing_room_dark_button_color",
    "controls": [
      { "featured_pieces@profile.featured_persona_pieces_content_panel": {} },
      { "featured_skins@profile.featured_custom_skins_content_panel": {} }
    ]
  },

  "offer_info_background@profile.common_image": {
    "$image": "textures/ui/White",
    "color": "$nested_transparent_label_default_color",
    "layer": 2
  },

  "offer_info_section_content@offer_info_background": {
    "size": "$offer_info_section_content_size",
    "$offer_info_section_content_size|default": [ "100% - 2px", "100%cm" ],

    "$ignore_special_banner|default": false,

    "controls": [
      { "horizontal_stack@profile.feature_set_stack_panel": {} },
      { "special_offer_banner@persona.special_offer_banner": {} }
    ]
  },

  "bottom_dialog_panel@profile.common_image": {
    "$image": "textures/ui/White",
    "color": "black"
  },

  "featured_info_panel@profile.bottom_dialog_panel": {
    "size": [ "100% - 10px", "100%c + 2px" ],

    "focus_container": true,
    "use_last_focus": false,
    "focus_wrap_enabled": false,
    "focus_navigation_mode_right": "stop",
    "focus_navigation_mode_down": "stop",
    "focus_navigation_mode_left": "$main_content_focus_container_left",
    "focus_container_custom_left": "$main_content_focus_container_left_custom",

    "$ignore_right_side_buttom_buttons": true,
    "$ignore_special_banner": true,
    "$ignore_piece_selected": true,
    "$ignore_color_picker": true,

    "controls": [
      { "content@profile.offer_info_section_content": {} }
    ],

    "$category_featured_offer_size": [ "10%", "100%" ],

    "$featured_grid_dimensions": [ 10, 1 ]
  },

  "bottom_panel_content": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%cm" ],
    "$right_side_default_text_color": "$dressing_room_right_side_default_text_color",
    "$right_side_dialog_visible_binding": "#is_featured_panel_visible",
    "controls": [
      { "left_padding@profile.sides_padding_panel": { "size": [ "fill", 0 ] } },
      { "featured_panel@profile.featured_info_panel": {} },
      { "right_padding@profile.sides_padding_panel": { "size": [ "fill", 0 ] } }
    ]
  },

  // --------------------------------------------------------------------------------------
  // screen controls
  // --------------------------------------------------------------------------------------
  "profile_screen_debug_view@profile.debug_skin_view": {
    "bindings": [
      {
        "binding_name": "#is_using_dressing_room_debugging",
        "binding_name_override": "#visible"
      }
    ]
  },

  "profile_screen_mid_padding@profile.vertical_fill_padding": {
    "bindings": [
      {
        "binding_name": "(not #is_using_dressing_room_debugging)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "profile_screen_main_content@common.vertical_stack_panel": {
    "size": [ "100%", "100%" ],
    "controls": [
      { "hat_zone_padding@profile.vertical_fill_padding": {} },
      { "persona_preset_section@profile.persona_preset_section_panel": {} },
      { "debug_view@profile.profile_screen_debug_view": {} },
      { "mid_padding@profile.profile_screen_mid_padding": {} },
      { "button_section@profile.lower_button_label_section": {} },
      { "featured_section@profile.bottom_panel_framework": {} },
      {
        "featured_section_disabled_padding": {
          "ignored": "(not $store_disabled)",
          "type": "panel",
          "size": [ "100%", 70 ],
          "bindings": [
            {
              "binding_name": "(not #marketplace_disabled)",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "profile_screen_main_panel_content": {
    "type": "panel",
    "controls": [
      { "content@profile.profile_screen_main_content": {} },
      {
        "deep_link_profile_loading@common_store.progress_loading": {
          "layer": 999, // Make this on top
          "$hide_failure_text": true,
          "alpha": "$dressing_room_background_alpha",
          "bindings": [
            {
              "binding_name": "#deep_link_profile_loading_visible",
              "binding_name_override": "#visible",
              "binding_condition": "always"
            }
          ]
        }
      },
      { "manage_options_modal@profile.manage_options_modal_content": {} }
    ]
  },

  "profile_screen_main_panel@sidebar_navigation.sidebar_view": {
    "$sidebar_main_view_content": "profile.profile_screen_main_panel_content"
  },

  "popup_toast@persona.popup": {
    "layer": 1000,
    "$display_time": 0.75,
    "$transition_in_time": 0.15,
    "$transition_out_time": 0.15,
    "$popup_size": [ 148, 20 ],
    "$toast_text_offset": [ 0, 4.5 ],
    "$toast_offset": [ 0, "10%" ],
    "$toast_text_alignment": "center",
    "$toast_anchor_from": "center",
    "$toast_anchor_to": "center",
    "$toast_font_type": "smooth",
    "$offset_anims": [],
    "$alpha_anims": [
      "@persona.popup_anim_start"
    ]
  },

  //////////////////////////////////////////////////////////////////////////////////////
  // Differences Persona Screen
  //////////////////////////////////////////////////////////////////////////////////////
  "differences_common_detail_image@common_image": {
    "size": [ 116, 68 ],
    "$description_image|default": "textures/ui/white_background",
    "$image": "$description_image",
    "anchor_from": "right_middle",
    "anchor_to": "right_middle"
  },

  "modal_popup_background@profile.common_image": {
    "size": [ "100% - 4px", "100% - 4px" ],
    "layer": 1,
    "$image|default": "textures/ui/white_background",
    "alpha": 0.8,
    "color": "$profile_create_character_background_color"
  },

  "differences_popup_title@profile.title_text": {
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "offset": [ 0, 8 ],
    "color": "$light_button_default_text_color"
  },


  //------------------------------------------------------------------------

  "differences_left_details@general_text_field": {
    "size": [ "100%", "default" ],
    "text": "$description_text",
    "$details_font_type|default": "default",
    "font_type": "$details_font_type"
  },

  "differences_left_section@common.vertical_stack_panel": {
    "size": [ "fill", "100%c" ],
    "controls": [
      { "title_bar@profile.icon_title_bar": {} },
      { "padding_1@vertical_padding_panel": { "size": [ "100%", 5 ] } },
      { "details@differences_left_details": {} }
    ]
  },

  "differences_title_card_display@common.horizontal_stack_panel": {
    "size": [ "100%", "100%cm" ],
    "$title_font_type": "MinecraftTen",
    "$details_font_type": "smooth",
    "controls": [
      { "left@differences_left_section": {} },
      { "padding_1@vertical_padding_panel": { "size": [ "5%", "100%cm" ] } },
      { "right@differences_common_detail_image": {} }
    ]
  },

  //------------------------------------------------------------------------
  // The actual displayed content sections
  // for persona details
  "differences_persona_detail_section@differences_title_card_display": {
    "$title_text": "profileScreen.differences_character_creator_title",
    "$icon_image": "textures/ui/sidebar_icons/character_creator",
    "$description_text": "profileScreen.difference_character_creator_description",
    "$description_image": "textures/ui/persona_key_comp"
  },

  // for classic skin details
  "differences_classic_skin_detail_section@differences_title_card_display": {
    "$title_text": "profileScreen.differences_classic_skin_title",
    "$title_text_anchor": "top_left",
    "$icon_image": "textures/ui/sidebar_icons/classic_skins",
    "$description_text": "profileScreen.difference_classic_skin_description",
    "$description_image": "textures/ui/classic_skin_comp"
  },

  "different_info_panel_contents@common.vertical_stack_panel": {
    "size": [ "100% - 20px", "100%c" ],
    "offset": [ 8, 4 ],
    "controls": [
      { "character_display@differences_persona_detail_section": {} },
      { "item_1_padding@vertical_padding_panel": { "size": [ 0, 10 ] } },
      {
        "divider@common.horizontal_divider": {
          "size": [ "100% - 10px", 1 ],
          "offset": [ 5, 0 ]
        }
      },
      { "item_2_padding@vertical_padding_panel": { "size": [ 0, 10 ] } },
      { "classic_skin_display@differences_classic_skin_detail_section": {} }
    ]
  },

  "modal_window_input_blocker@profile.common_image": {
    "$image|default": "textures/ui/white_background",
    "color": "black",
    "alpha": 0.8
  },

  "differences_popup_content@common.scrolling_panel": {
    "type": "scroll_view",
    "size": [ "100% - 16px", "100% - 64px" ],
    "offset": [ 0, 23 ],
    "$scrolling_pane_offset": [ 0, 0 ],
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "$show_background": false
  },

  "differences_popup_ok_button@common_buttons.light_text_button": {
    "size": [ "100% - 23px", 26 ],
    "$pressed_button_name": "$confirm_button_name",
    "offset": [ 0, -9 ],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "$button_text": "$confirm_button_text",
    "$confirm_button_text|default": "#none",
    "$confirm_button_enabled|default": "#none",
    "$focus_override_down": "FOCUS_OVERRIDE_STOP",
    "$focus_override_left": "FOCUS_OVERRIDE_STOP",
    "$focus_override_right": "FOCUS_OVERRIDE_STOP",
    "bindings": [
      {
        "binding_name": "$confirm_button_enabled",
        "binding_name_override": "#enabled"
      }
    ]
  },

  "popup_frame@common.dialog_background_hollow_2": {
    "$ignore_close_button|default": false,
    "$show_close_button": true,
    "$close_button_offset": [ -2, 2 ],
    "$close_button_visible_binding_type": "global",

    "controls": [
      { "title_label@profile.differences_popup_title": {} },
      { "close_button@common.close_button": { "ignored": "$ignore_close_button" } },
      { "content@profile.differences_popup_content": {} },
      { "Ok_button@profile.differences_popup_ok_button": {} }
    ]
  },

  "popup_info_panel": {
    "type": "panel",
    "size": "$popup_panel_size",
    "$popup_panel_size|default": [ 369, 230 ],
    "controls": [
      { "background@modal_popup_background": {} },
      { "frame@popup_frame": {} }
    ]
  },

  "profile_common_dialog@popup_dialog.popup_dialog": {
    "size": [ "100%", "100%" ],
    "layer": 500,
    "controls": [
      { "background@modal_window_input_blocker": {} },
      { "panel@profile.popup_info_panel": {} }
    ]
  },

  "popup_dialog__preview_difference_information@profile.popup_dialog__difference_information": {
    "$confirm_button_name": "button.close_entry_prompt_dialog"
  },

  "popup_dialog__difference_information@profile.profile_common_dialog": {
    "$ignore_close_button": true,
    "$popup_panel_size": [ "80%", "93%" ],
    "$confirm_button_name": "button.close_differences_dialog",
    "$title_text": "dr.modal.difference_information_title",
    "$scrolling_content": "profile.different_info_panel_contents",
    "$confirm_button_text": "gui.ok",
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$confirm_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$confirm_button_name",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$confirm_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_left",
        "to_button_id": "button.menu_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_right",
        "to_button_id": "button.menu_right",
        "mapping_type": "global",
        "scope": "view"
      }
    ]
  },

  //////////////////////////////////////////////////////////////////////////////////////
  // Delete Persona Screen
  //////////////////////////////////////////////////////////////////////////////////////

  "alex_warning": {
    "type": "image",
    "size": [ 47, 67 ],
    "texture": "textures/ui/warning_alex",
    "offset": [ 4, -12 ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "layer": 1
  },

  "delete_popup_dialog_message@popup_dialog.popup_dialog_message": {
    "size": [ "90% - 32px", "68%" ],
    "color": "$dressing_room_right_side_default_text_color",
    "font_type": "smooth",
    "font_scale_factor": 1.3,
    "offset": [ 30, 4 ]
  },

  "delete_persona_left_button@popup_dialog.popup_dialog_left_button": {
    "size": [ 116, 28 ],
    "offset": [ 0, 2 ],
    "$new_ui_label_offset": [ 0, 0 ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$left_button_press",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$left_button_press",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$left_button_press",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_left",
        "to_button_id": "button.menu_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_right",
        "to_button_id": "button.menu_right",
        "mapping_type": "global",
        "scope": "view"
      }
    ]
  },

  "delete_persona_right_button@popup_dialog.popup_dialog_right_button": {
    "size": [ 116, 28 ],
    "offset": [ 0, 0 ],
    "$new_ui_label_offset": [ 0, 0 ]
  },

  "delete_persona_button_stack@common.horizontal_stack_panel": {
    "offset": [ 0, "67%" ],
    "controls": [
      { "left_button@profile.delete_persona_left_button": {} },
      { "padding@common.empty_panel": { "size": [ 4, "100%" ] } },
      { "right_button@delete_persona_right_button": {} }
    ]
  },

  "popup_dialog_delete_persona_content@common.empty_panel": {
    "size": "$section_content_size",
    "offset": "$section_content_offset",
    "controls": [
      { "image@profile.alex_warning": {} },
      { "message@delete_popup_dialog_message": {} },
      { "buttons@delete_persona_button_stack": {} }
    ]
  },

  "popup_dialog__delete_persona@popup_dialog.popup_dialog": {
    "size": [ 260, 130 ],
    "layer": 500,
    "$left_button_press": "button.close_dialog",
    "$right_button_press": "button.confirm_delete",
    "$message_text": "dr.modal.persona_delete_confirm",
    "$persona_popup_title_font_type": "default",
    "$persona_popup_title_offset": [ 0, 8 ],
    "$persona_popup_title_text": "dr.modal.persona_delete_confirm_title",
    "$left_button_text": "gui.cancel",
    "$right_button_text": "gui.confirm",
    "$section_content_size": [ "100% - 16px", "100% - 30px" ],
    "$section_content_offset": [ 0, "8px" ],
    "controls": [
      {
        "popup_dialog_bg@persona.popup_dialog_bg": {
          "$dialog_content": "profile.popup_dialog_delete_persona_content"
        }
      }
    ]
  },

  //////////////////////////////////////////////////////////////////////////////////////
  // Create Persona Screen
  //////////////////////////////////////////////////////////////////////////////////////

  "created_persona_top_label@profile.general_text_field": {
    "text": "profileScreen.create_persona_label"
  },

  "create_persona_choice_icon_title@profile.icon_title_bar": {
    "size": [ "100%c + 4px", "100%cm + 2px" ],
    "layer": 1,
    "offset": [ 2, 2 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "$text_anchor": "center",
    "$title_text_binding_name": "#selected_persona_skin_text"
  },

  "create_persona_choice_checked_image@profile.common_image": {
    "size": [ 10, 10 ],
    "$image": "textures/ui/radiobox_filled"
  },

  "create_persona_choice_unchecked_image@profile.common_image": {
    "size": [ 10, 10 ],
    "$image": "textures/ui/radiobox_unfilled"
  },

  "create_persona_choice_check_positioning@common.empty_panel": {
    "size": [ "100%c + 5px", "100%cm + 2px" ],
    "controls": [
      { "toggle_image@$toggle_image": {} }
    ]
  },

  "create_persona_choice_title_bar@common.horizontal_stack_panel": {
    "size": [ "100%c", "100%cm" ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",

    "controls": [
      { "checkbox@profile.create_persona_choice_check_positioning": {} },
      { "spacing@common.empty_panel": { "size": [ 2, 0 ] } },
      { "icon_title@profile.create_persona_choice_icon_title": {} }
    ]
  },

  "create_persona_choice_detail@profile.general_text_field": {
    "size": [ "95%", "default" ],
    "max_size": [ "95%", 30 ],
    "$create_persona_description|default": "",
    "text": "$create_persona_description",
    "$font_type": "smooth"
  },

  "create_persona_choice_detail_panel@common.horizontal_stack_panel": {
    "size": [ "100%", "100%c" ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "controls": [
      { "spacing@common.empty_panel": { "size": [ 5, 0 ] } },
      { "choice_details_body@profile.create_persona_choice_detail": {} }
    ]
  },

  "select_default_character_button@common_buttons.light_text_button": {
    "size": [ "100% - 23px", 26 ],
    "$pressed_button_name": "button.open_default_character_selection_modal",
    "$button_state_panel": "common_buttons.new_ui_button_panel",
    "$button_size_override": [ "100%", "100%" ],
    "$button_text_binding_type": "none",
    "$button_text": "profileScreen.selectPrebuiltCharacter",

    "consume_hover_events": false,
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ],

    "$button_bindings": [
      {
        "binding_type": "view",
        "source_control_name": "persona_choice_character_toggle",
        "source_property_name": "#toggle_state",
        "target_property_name": "#enabled"
      }
    ]
  },

  "select_default_character_button_vertical_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],

    "$default_glyph_color": "$light_glyph_default_color",
    "$button_image_color": [ 1.0, 1.0, 1.0 ],

    "controls": [
      { "padding@common.empty_panel": { "size": [ "100%", 4 ] } },
      {
        "select_default_character_button_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            { "select_default_character_button@profile.select_default_character_button": {} }
          ]
        }
      }
    ]
  },

  "no_content_panel": {
    "type": "panel",
    "size": [ 0, 0 ]
  },

  "create_persona_choice_background@common.vertical_stack_panel": {
    "size": [ "100%", "100%c" ],
    "offset": [ 0, 2 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",

    "$choice_bottom_content|default": "profile.no_content_panel",

    "controls": [
      { "choice_title_bar@profile.create_persona_choice_title_bar": {} },
      { "choice_details_body@profile.create_persona_choice_detail_panel": {} },
      { "choice_bottom_content@$choice_bottom_content": {} }
    ]
  },

  "create_persona_choice_button": {
    "type": "panel",
    "size": [ 233, "100%c" ],

    "$button_size_override": [ "100%", "100%c" ],

    "$toggle_name": "toggle_create_persona_choice",
    "$toggle_binding_type": "collection",
    "$toggle_state_binding_name": "#persona_type_toggle_state",

    "$toggle_grid_collection_name": "persona_type_toggles_collection",
    "$toggle_collection_details_type": "collection_details",
    "$toggle_collection_detail_name": "persona_type_toggles_collection",

    "$checked_image": "profile.create_persona_choice_checked_image",
    "$unchecked_image": "profile.create_persona_choice_unchecked_image",

    "$default_texture": "textures/ui/disabledButtonNoBorder",
    "$hover_texture_color": "$profile_create_character_unselected_color",
    "$hover_checked_texture_color": "$profile_create_character_selected_color",

    "$toggle_button_type_panel": "profile.create_persona_choice_background",

    "controls": [
      {
        "choice_toggle@common_toggles.dark_vertical_form_fitting_content_toggle": {
          "size": [ "100%", "100%c" ]
        }
      }
    ]
  },

  //---------------------------------------------------------------------------------------

  "create_persona_choice_character": {
    "type": "panel",
    "size": [ "100%c", "100%c" ],

    "$title_text": "profileScreen.differences_character_creator_title",
    "$create_persona_description": "profileScreen.create_persona_character_details",
    "$icon_image": "textures/ui/sidebar_icons/character_creator",
    "collection_index": 0,
    "$toggle_default_state": true,
    "$choice_bottom_content": "profile.select_default_character_button_vertical_panel",
    "$toggle_view_binding_name": "persona_choice_character_toggle",

    "controls": [
      { "create_persona_choice_character@profile.create_persona_choice_button": {} }
    ]
  },

  "create_persona_choice_classic_skin@profile.create_persona_choice_button": {
    "$title_text": "profileScreen.differences_classic_skin_title",
    "$create_persona_description": "profileScreen.create_persona_classic_skin_details",
    "$icon_image": "textures/ui/sidebar_icons/classic_skins",
    "collection_index": 1
  },

  //---------------------------------------------------------------------------------------

  "create_persona_choice_stack@common.vertical_stack_panel": {
    "size": [ "100%cm", "100%c" ],
    "layer": 1,
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "collection_name": "persona_type_toggles_collection",
    "controls": [
      { "background1@profile.create_persona_choice_character": {} },
      { "background2@profile.create_persona_choice_classic_skin": {} }
    ]
  },

  "create_persona_display@common.vertical_stack_panel": {
    "offset": [ 4, 2 ],
    "controls": [
      { "space@vertical_padding_2px": {} },
      { "stack_content@profile.create_persona_choice_stack": {} }
    ]
  },

  "popup_dialog__create_persona@profile.profile_common_dialog": {
    "$title_text": "profileScreen.create_persona_title",
    "$scrolling_content": "profile.create_persona_display",
    "$confirm_button_name": "button.create_selected_persona",
    "$confirm_button_text": "#create_persona_popup_confirm_text",
    "$button_text_binding_type": "global",
    "$button_binding_condition": "always",
    "$close_button_to_button_id": "button.close_edit_appearance_preset",
    "$confirm_button_enabled": "#create_persona_has_selected_type",
    "$popup_panel_size": [ 260, 175 ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$close_button_to_button_id",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$close_button_to_button_id",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$close_button_to_button_id",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_left",
        "to_button_id": "button.menu_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_right",
        "to_button_id": "button.menu_right",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_up",
        "to_button_id": "button.menu_up",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_down",
        "to_button_id": "button.menu_down",
        "mapping_type": "global",
        "scope": "view"
      }
    ]
  },

  //////////////////////////////////////////////////////////////////////////////////////
  // Profile screen foundation
  //////////////////////////////////////////////////////////////////////////////////////

  "profile_screen_content": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "$ignore_home_button": true,
    "$ignore_search": true,
    "controls": [
      {
        "main_panel@common_store.store_header_with_coins": {
          "$child_control": "profile.profile_screen_main_panel",
          "$back_button_pressed_button_name": "button.try_exiting"
        }
      },
      {
        "popup_dialog_factory": {
          "type": "factory",
          "control_ids": {
            "no_store_connection": "@common_store.popup_dialog__no_store_connection",
            "restore_popup": "@common_store.popup_dialog__restore_popup",
            "restore_failed": "@common_store.popup_dialog__restore_failed",
            "toast_message": "@profile.popup_toast",
            "difference_information": "@profile.popup_dialog__difference_information",
            "difference_preview": "@profile.popup_dialog__preview_difference_information",
            "delete_persona": "@profile.popup_dialog__delete_persona",
            "create_persona": "@profile.popup_dialog__create_persona",
            "cast_character_select_popup": "@persona_cast_character_screen.popup_dialog__cast_character_select",
            "cast_character_preview_page_one": "@persona_cast_character_screen.cast_preview_page_one",
            "cast_character_preview_page_two": "@persona_cast_character_screen.cast_preview_page_two"
          }
        }
      }
    ]
  },

  "profile_screen_background_content": {
    "type": "image",
    "fill": true,
    "texture": "textures/ui/profile_bg"
  },

  "render_below_base_screen@common.base_screen": { "force_render_below": true },

  "profile_screen@common.base_screen": {
    "$safezone_screen_matrix_layer": 20,
    "$ignore_inventory_button": true,
    "$show_close_button": true,
    "$close_button_visible_binding_type": "global",
    "$close_button_offset": [ -2, 2 ],

    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel", // controller_B
        "to_button_id": "button.try_exiting",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_tab_left", // controller_left_bumper
        "to_button_id": "button.pressedArrowLeft",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_tab_right", // controller_right_bumper
        "to_button_id": "button.pressedArrowRight",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.controller_select", // controller_X
        "to_button_id": "button.coin_wallet",
        "mapping_type": "global"
      }
    ],

    "$screen_animations": [
      "@common.screen_exit_animation_push_fade",
      "@common.screen_exit_animation_pop_fade",
      "@common.screen_entrance_animation_push_fade",
      "@common.screen_entrance_animation_pop_fade"
    ],

    "$default_text_color": "$light_button_default_text_color",

    "$fill_alpha": 0.2,
    "$screen_content": "profile.profile_screen_content",
    "$header_safezone_control": "common_store.store_top_bar_filler",
    "$header_bar_control": "common_store.store_top_bar",
    "$is_full_screen_layout": true,
    "$ignore_home_button": true,
    "$ignore_search": true,
    "$sidebar_ignore_page_loading": false,
    "$hide_failure_text": true,
    "$screen_bg_content": "profile.profile_screen_background_content",

    "$always_show_layer": 200,
    "$always_show_paper_doll": 190,
    "$manage_options_background": 100,
    "$preset_appearance_front_layer": 6,
    "$preset_appearance_back_layer": 5
  }
}
