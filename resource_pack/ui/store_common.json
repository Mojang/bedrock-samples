{
  "namespace": "common_store",

  //--------------------------------------------------------------------------------
  // Controls
  //--------------------------------------------------------------------------------

  "store_base_screen@common.base_screen": {
    "$store_factory_clipping_event": "none",
    "$store_factory_collection_details|default": "none",
    "$store_factory_binding_type|default": "global",
    "$store_factory_collection_prefix|default": "",
    "$store_factory_collection_name|default": ""
  },

  "label": {
    "type": "label",
    "color": "$body_text_color",
    "size": [ "100%", "14px" ],
    "anchor_from": "top_left",
    "anchor_to": "top_left"
  },

  "offer_image_panel": {
    "type": "image",
    "layer": 6,

    "$offer_image_collection_details|default": "none",
    "$offer_image_binding_collection_name|default": "",
    "$offer_image_binding_collection_prefix|default": "",
    "$offer_image_binding_name|default": "",
    "$offer_image_binding_type|default": "none",
    "bindings": [
      {
        "binding_type": "$offer_image_collection_details",
        "binding_collection_name": "$offer_image_binding_collection_name",
        "binding_collection_prefix": "$offer_image_binding_collection_prefix"
      },
      {
        "binding_type": "$offer_image_binding_type",
        "binding_name": "$offer_image_binding_name",
        "binding_name_override": "#visible",
        "binding_collection_name": "$offer_image_binding_collection_name"
      }
    ]
  },

  "banner_fill": {
    "type": "image",
    "texture": "textures/ui/Banners",
    "$banner_fill_alpha|default": 1.0,
    "alpha": "$banner_fill_alpha"
  },

  "store_description_background": {
    "type": "image",
    "texture": "textures/ui/store_banner_no_border",
    "$description_background_alpha|default": 1.0,
    "alpha": "$description_background_alpha"
  },

  "store_description_background_dark": {
    "type": "image",
    "size": [ "100%", "100%" ],
    "texture": "textures/ui/white_background",
    "$description_background_alpha|default": 1.0,
    "color": "$sidebar_bg_color",
    "alpha": "$description_background_alpha",
    "fill": true,
    "keep_ratio": false
  },

  "text_style_label": {
    "type": "panel",
    "size": [ "100%", "100%c" ],

    "$text_style_label_bindings|default": [],
    "$text_style_label|default": "",
    "$tts_text_override_value": "",
    "$text_style_alignment|default": "left",
    "$text_style_font_type|default": "default",
    "$text_style_font_size|default": 1,
    "$text_style_font_color|default": [ 1, 1, 1 ],

    "controls": [
      {
        "text_label": {
          "type": "label",
          "size": [ "100%", "default" ],
          "text": "$text_style_label",
          "tts_override_control_value": "$tts_text_override_value",
          "text_alignment": "$text_style_alignment",
          "font_size": "$text_style_font_size",
          "color": "$text_style_font_color",
          "bindings": "$text_style_label_bindings"
        }
      }
    ]
  },

  "sdl_texture": {
    "type": "image",
    "layer": 2,
    "alpha": 1.0,

    "texture": "#sdl_texture_component_image_path",

    "$ignore_texture_related_binds|default": false,
    "$ignore_texture_visiblity_bind|default": false,

    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "ignored": "$ignore_texture_related_binds",
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#sdl_texture_component_image_path",
        "binding_name_override": "#texture"
      },
      {
        "ignored": "$ignore_texture_related_binds",
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#sdl_texture_component_image_system",
        "binding_name_override": "#texture_file_system"
      },
      {
        "ignored": "$ignore_texture_visiblity_bind",
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#sdl_texture_component_image_visible",
        "binding_name_override": "#visible"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#sdl_texture_color",
        "binding_name_override": "#color"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#sdl_texture_alpha",
        "binding_name_override": "#alpha"
      }
    ]
  },

  // This is the border hover/press states and click region, since the controls are complex it is better to draw a simple white border
  // around the content rather than create 3 sets of each control when only the border changes
  "store_offer_grid_button@common.button": {
    "layer": 4,
    "default_control": "",
    "focus_identifier": "offer_button",
    "$ignore_cycle_buttons|default": false,

    "$pressed_button_name|default": "button.select_offer",
    "$size_to_cover|default": [ "100%", "100% + 1px" ],
    "tts_inherit_siblings": true,

    "bindings": [
      {
        "binding_type": "$offer_collection_details",
        "binding_collection_name": "$offer_collection_name"
      },
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_collection_details",
        "binding_collection_name": "$offer_collection_name",
        "binding_collection_prefix": "$offer_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#top_row_focus_override_up",
        "binding_name_override": "#focus_change_up"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#offer_grid_item_button_focus_id",
        "binding_name_override": "#focus_identifier"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#last_item_focus_override_right",
        "binding_name_override": "#focus_change_right"
      }
    ],

    "$offer_button_mappings|default": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "button.cycle_offer_right",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "button.cycle_offer_left",
        "mapping_type": "focused"
      }
    ],
    "variables": [
      {
        "requires": "$ignore_cycle_buttons",
        "$offer_button_mappings": [
          {
            "from_button_id": "button.menu_select",
            "to_button_id": "$pressed_button_name",
            "mapping_type": "pressed"
          },
          {
            "from_button_id": "button.menu_ok",
            "to_button_id": "$pressed_button_name",
            "mapping_type": "pressed"
          }
        ]
      }
    ],
    "button_mappings": "$offer_button_mappings",
    "controls": [
      {
        "hover": {
          "type": "panel",
          "controls": [
            {
              "key_art_size_panel": {
                "type": "panel",
                "size": "$size_to_cover",
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "layer": 1,
                "controls": [
                  {
                    "key_art_frame@common.square_image_border_white": {
                      "size": [ "100%", "100%" ],
                      "layer": 2,
                      "color": "$dark_border_hover_color",
                      "bindings": [
                        {
                          "binding_type": "$offer_collection_details",
                          "binding_collection_name": "$offer_collection_name"
                        },
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$offer_collection_details",
                          "binding_collection_name": "$offer_collection_name",
                          "binding_collection_prefix": "$offer_collection_prefix"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "pressed": {
          "type": "panel",
          "controls": [
            {
              "key_art_size_panel": {
                "type": "panel",
                "size": "$size_to_cover",
                "offset": [ 0, 1 ],
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "layer": 1,
                "controls": [
                  {
                    "key_art_frame@common.square_image_border_white": {
                      "size": [ "100%", "100%" ],
                      "layer": 2
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "icon_overlay_panel@common_store.icon_overlay_panel": {}
      }
    ]
  },

  "ribbon_bar_text_background": {
    "type": "image",
    "$description_background_alpha|default": 1.0,
    "alpha": "$description_background_alpha",
    "$background_hoverstate_texture_swap|default": "",
    "variables": [
      {
        "requires": "$default_state",
        "$background_hoverstate_texture_swap": "textures/ui/store_banner_no_border"
      },
      {
        "requires": "$hover_state",
        "$background_hoverstate_texture_swap": "textures/ui/ribbon_bar_text_background_hover"
      },
      {
        "requires": "$pressed_state",
        "$background_hoverstate_texture_swap": "textures/ui/ribbon_bar_text_background_hover"
      },
      {
        "requires": "$locked_state",
        "$background_hoverstate_texture_swap": "textures/ui/ribbon_bar_text_background_hover"
      }
    ],
    "texture": "$background_hoverstate_texture_swap"
  },

  "ribbon_bar_red_hover_text_background": {
    "type": "image",
    "$description_background_alpha|default": 1.0,
    "alpha": "$description_background_alpha",
    "$background_hoverstate_texture_swap|default": "",
    "variables": [
      {
        "requires": "$default_state",
        "$background_hoverstate_texture_swap": "textures/ui/store_banner_no_border"
      },
      {
        "requires": "$hover_state",
        "$background_hoverstate_texture_swap": "textures/ui/unsynced_bg_hover"
      },
      {
        "requires": "$pressed_state",
        "$background_hoverstate_texture_swap": "textures/ui/unsynced_bg_hover"
      },
      {
        "requires": "$locked_state",
        "$background_hoverstate_texture_swap": "textures/ui/unsynced_bg_hover"
      }
    ],
    "texture": "$background_hoverstate_texture_swap"
  },
  "store_background": {
    "type": "image",
    "texture": "textures/ui/screen_background",
    "$fill_alpha|default": 0.6,
    "alpha": "$fill_alpha"
  },

  "coin_icon": {
    "type": "image",
    "texture": "textures/ui/MCoin",
    "size": [ 11, 11 ]
  },

  "tag": {
    "type": "image",
    "$tag_texture|default": "textures/ui/newOffersIcon",
    "$tag_text|default": "",
    "texture": "$tag_texture",
    "size": [ "100%c + 4px", 15 ],
    "controls": [
      {
        "new_offer_label": {
          "type": "label",
          "size": [ "default", 10 ],
          "offset": [ 0, 1 ],
          "text": "$tag_text",
          "color": "$new_offer_icon_text_color",
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "layer": 1,
          "tts_name": "accessibility.store.tag",
          "tts_control_type_order_priority": 1002, // To be read after the button control type
          "tts_value_order_priority": 1001
        }
      }
    ]
  },

  "marketplace_error_icon": {
    "type": "image",
    "texture": "textures/ui/ErrorGlyph",
    "size": [ 12, 12 ]
  },

  "new_offer_icon@common_store.tag": {
    "$tag_texture": "textures/ui/newOffersIcon",
    "$tag_text": "store.new.icon",
    "$tag_tts_control_header": "accessibility.start.new"
  },

  "status_new_offer_icon@common_store.new_offer_icon": {
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "offset": [ -2, -3 ],
    "layer": 15,
    "visible": false
  },

  "update_balloon_icon": {
    "type": "image",
    "layer": 15,
    "texture": "textures/ui/update",
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "offset": "$update_icon_offset",
    "size": [ 11, 21 ],
    "visible": false
  },

  "icon_overlay_panel": {
    "type": "panel",
    "size": [ "100%", "56.25%x + 1px" ], // +1 for the image border
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "controls": [
      {
        "icon_overlay_position_factory@common_store.icon_overlay_position_factory": {}
      }
    ]
  },

  "icon_overlay_position_factory": {
    "type": "collection_panel",
    "size": [ "100%", "100%" ],
    "collection_name": "icon_overlay_position_factory",
    "factory": {
      "name": "icon_overlay_position_factory",
      "control_ids": {
        "top_left_icon_factory": "@common_store.top_left_icon_factory",
        "top_middle_icon_factory": "@common_store.top_middle_icon_factory",
        "top_right_icon_factory": "@common_store.top_right_icon_factory",
        "left_middle_icon_factory": "@common_store.left_middle_icon_factory",
        "center_icon_factory": "@common_store.center_icon_factory",
        "right_middle_icon_factory": "@common_store.right_middle_icon_factory",
        "bottom_left_icon_factory": "@common_store.bottom_left_icon_factory",
        "bottom_middle_icon_factory": "@common_store.bottom_middle_icon_factory",
        "bottom_right_icon_factory": "@common_store.bottom_right_icon_factory"
      },
      "factory_variables": [
        "$store_factory_collection_details",
        "$store_factory_collection_name",
        "$store_factory_collection_prefix",
        "$offer_binding_type",
        "$offer_collection_name",
        "$offer_collection_details",
        "$offer_collection_prefix"
      ]
    },
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#icon_overlay_position_collection",
        "binding_name_override": "#collection_length"
      }
    ]
  },

  "top_left_icon_factory@common_store.icon_factory": {
    "$anchor_point": "top_left"
  },

  "top_middle_icon_factory@common_store.icon_factory": {
    "$anchor_point": "top_middle"
  },

  "top_right_icon_factory@common_store.icon_factory": {
    "$anchor_point": "top_right"
  },

  "left_middle_icon_factory@common_store.icon_factory": {
    "$anchor_point": "left_middle"
  },

  "center_icon_factory@common_store.icon_factory": {
    "$anchor_point": "center"
  },

  "right_middle_icon_factory@common_store.icon_factory": {
    "$anchor_point": "right_middle"
  },

  "bottom_left_icon_factory@common_store.icon_factory": {
    "$anchor_point": "bottom_left"
  },

  "bottom_middle_icon_factory@common_store.icon_factory": {
    "$anchor_point": "bottom_middle"
  },

  "bottom_right_icon_factory@common_store.icon_factory": {
    "$anchor_point": "bottom_right"
  },

  "icon_factory": {
    "type": "stack_panel",
    "size": [ "100%c", 21 ],
    "orientation": "horizontal",
    "$anchor_point|default": "top_right",
    "anchor_from": "$anchor_point",
    "anchor_to": "$anchor_point",

    "$icon_overlay_binding_type": "collection",
    "$icon_overlay_collection_name": "($anchor_point + '_icon_overlay_collection')",
    "collection_name": "$icon_overlay_collection_name",

    "factory": {
      "name": "$icon_overlay_collection_name",
      "control_ids": {
        "icon_overlay_image_panel": "@common_store.icon_overlay_image_panel",
        "new_offer_icon_panel": "@common_store.new_offer_icon_panel",
        "update_offer_icon_panel": "@common_store.update_offer_icon_panel"
      },
      "factory_variables": [
        "$icon_overlay_collection_name",
        "$icon_overlay_binding_type",
        "$store_factory_collection_details",
        "$store_factory_collection_name",
        "$store_factory_collection_prefix",
        "$offer_binding_type",
        "$offer_collection_name",
        "$offer_collection_details",
        "$offer_collection_prefix",
        "$anchor_point"
      ]
    },
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "('#' + $icon_overlay_collection_name)",
        "binding_name_override": "#collection_length"
      }
    ]
  },

  "new_offer_icon_panel": {
    "type": "panel",
    "layer": 15,
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "size": [ 21, 21 ],
    "controls": [
      {
        "new_icon@common_store.status_new_offer_icon": {
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name",
              "binding_name": "#new_offer_icon_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "update_offer_icon_panel": {
    "type": "panel",
    "layer": 15,
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "size": [ 21, 21 ],
    "controls": [
      {
        "update_icon@common_store.update_balloon_icon": {
          "$update_icon_offset": [ 0, -5 ]
        }
      }
    ]
  },

  "icon_overlay_image_panel": {
    "type": "panel",
    "size": [ "100%c", "100%" ],
    "anchor_from": "$anchor_point",
    "anchor_to": "$anchor_point",
    "layer": 15,
    "controls": [
      {
        "image_stack_panel": {
          "type": "stack_panel",
          "size": [ "100%c", "100%" ],
          "orientation": "horizontal",
          "controls": [
            {
              "icon@common_store.status_icon_overlay": {}
            },
            {
              "padding": {
                "type": "panel",
                "size": [ 2, "100%" ]
              }
            }
          ]
        }
      }
    ]
  },

  "icon_overlay_sdl_padding": {
    "type": "panel",
    "size": [ 2, "100%sm" ]
  },

  "status_icon_overlay": {
    "type": "image",
    "size": [ "100%c", "100%c" ],
    "min_size": [ 21, "100%c" ],
    "keep_ratio": false,
    "layer": 15,
    "texture": "#icon_overlay_texture_name",
    "anchor_from": "$anchor_point",
    "anchor_to": "$anchor_point",
    // variables
    "controls": [
      {
        "icon_overlay_label_panel": {
          "type": "stack_panel",
          "size": [ "100%c", "100%cm" ],
          "orientation": "horizontal",
          "anchor_to": "center",
          "anchor_from": "center",
          "controls": [
            {
              "left_margin_padding": {
                "type": "panel",
                "size": [ 1, "100%sm" ]
              }
            },
            {
              "left_padding_1@common_store.icon_overlay_sdl_padding": {
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$offer_collection_details",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_collection_prefix": "$offer_collection_prefix"
                  },
                  {
                    "binding_type": "$icon_overlay_binding_type",
                    "binding_collection_name": "$icon_overlay_collection_name",
                    "binding_name": "#icon_overlay_left_padding_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "left_padding_2@common_store.icon_overlay_sdl_padding": {
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$offer_collection_details",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_collection_prefix": "$offer_collection_prefix"
                  },
                  {
                    "binding_type": "$icon_overlay_binding_type",
                    "binding_collection_name": "$icon_overlay_collection_name",
                    "binding_name": "(not #icon_overlay_right_padding_visible)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "icon_panel": {
                "type": "panel",
                "size": [ "100%c", "100%c" ],
                "min_size": [ "100%c", 15 ],
                "controls": [
                  {
                    "icon_overlay_label": {
                      "type": "label",
                      "size": [ "default", "default" ],
                      "text": "#icon_overlay_image_text",
                      "color": "$store_white_text_color",
                      "layer": 1,
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$offer_collection_details",
                          "binding_collection_name": "$offer_collection_name",
                          "binding_collection_prefix": "$offer_collection_prefix"
                        },
                        {
                          "binding_type": "$icon_overlay_binding_type",
                          "binding_collection_name": "$icon_overlay_collection_name",
                          "binding_name": "#icon_overlay_image_text"
                        },
                        {
                          "binding_type": "$icon_overlay_binding_type",
                          "binding_collection_name": "$icon_overlay_collection_name",
                          "binding_name": "#icon_overlay_text_color",
                          "binding_name_override": "#color"
                        },
                        {
                          "binding_type": "$icon_overlay_binding_type",
                          "binding_collection_name": "$icon_overlay_collection_name",
                          "binding_name": "#icon_overlay_text_alignment",
                          "binding_name_override": "#text_alignment"
                        },
                        {
                          "binding_type": "$icon_overlay_binding_type",
                          "binding_collection_name": "$icon_overlay_collection_name",
                          "binding_name": "#icon_overlay_font_scale_factor",
                          "binding_name_override": "#font_scale_factor"
                        },
                        {
                          "binding_type": "$icon_overlay_binding_type",
                          "binding_collection_name": "$icon_overlay_collection_name",
                          "binding_name": "#icon_overlay_font_type",
                          "binding_name_override": "#font_type"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "right_padding_1@common_store.icon_overlay_sdl_padding": {
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$offer_collection_details",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_collection_prefix": "$offer_collection_prefix"
                  },
                  {
                    "binding_type": "$icon_overlay_binding_type",
                    "binding_collection_name": "$icon_overlay_collection_name",
                    "binding_name": "#icon_overlay_right_padding_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "right_padding_2@common_store.icon_overlay_sdl_padding": {
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$offer_collection_details",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_collection_prefix": "$offer_collection_prefix"
                  },
                  {
                    "binding_type": "$icon_overlay_binding_type",
                    "binding_collection_name": "$icon_overlay_collection_name",
                    "binding_name": "(not #icon_overlay_left_padding_visible)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "right_margin_padding": {
                "type": "panel",
                "size": [ 1, "100%sm" ]
              }
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_collection_details",
        "binding_collection_name": "$offer_collection_name",
        "binding_collection_prefix": "$offer_collection_prefix"
      },
      {
        "binding_type": "$icon_overlay_binding_type",
        "binding_collection_name": "$icon_overlay_collection_name",
        "binding_name": "#icon_overlay_texture_name",
        "binding_name_override": "#texture"
      },
      {
        "binding_type": "$icon_overlay_binding_type",
        "binding_collection_name": "$icon_overlay_collection_name",
        "binding_name": "#icon_overlay_texture_filepath",
        "binding_name_override": "#texture_file_system"
      },
      {
        "binding_type": "$icon_overlay_binding_type",
        "binding_collection_name": "$icon_overlay_collection_name",
        "binding_name": "#icon_overlay_height",
        "binding_name_override": "#size_binding_y"
      }
    ]
  },

  "status_icon_panel": {
    "type": "panel",
    "layer": 15,
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "size": [ 21, 21 ],
    "$grid_collection_name|default": "",

    "$status_icon_factory_collection_details|default": "none",
    "$status_icon_factory_collection_prefix|default": "",
    "$status_icon_factory_collection_name|default": "",

    "controls": [
      {
        "new_offer_icon@common_store.status_new_offer_icon": {
          "bindings": [
            {
              "binding_type": "$status_icon_factory_collection_details",
              "binding_collection_name": "$status_icon_factory_collection_name",
              "binding_collection_prefix": "$status_icon_factory_collection_prefix"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name",
              "binding_name": "#new_offer_icon_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "update_icon@common_store.update_balloon_icon": {
          "bindings": [
            {
              "binding_type": "$status_icon_factory_collection_details",
              "binding_collection_name": "$status_icon_factory_collection_name",
              "binding_collection_prefix": "$status_icon_factory_collection_prefix"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name",
              "binding_name": "#update_icon_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "prompt_icon": {
    "type": "image",
    "size": [ 16, 11 ],
    "$offer_collection_name|default": "offer_collection",
    "bindings": [
      {
        "binding_type": "collection",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#prompt_icon_visible",
        "binding_name_override": "#visible"
      },
      {
        "binding_type": "collection",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#prompt_icon_texture",
        "binding_name_override": "#texture"
      },
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$offer_collection_name",
        "binding_collection_prefix": "category"
      }
    ]
  },

  "up_arrow_icon": {
    "type": "image",
    "texture": "textures/ui/up_arrow",
    "color": "$glyph_color",
    "size": [ 12, 12 ]
  },

  "plus_icon": {
    "type": "image",
    "layer": 2,
    "texture": "textures/ui/ThinPlus",
    "size": [ 7, 7 ],
    "color": "$glyph_color"
  },

  "bang_icon": {
    "type": "image",
    "layer": 2,
    "texture": "textures/ui/bang_icon",
    "size": [ 2, 8 ],
    "color": "$glyph_color"
  },

  "user_icon_small": {
    "type": "image",
    "layer": 2,
    "size": [ 9, 9 ],
    "$user_icon_texture_swap|default": "",
    "variables": [
      {
        "requires": "$default_state",
        "$user_icon_texture_swap": "textures/ui/user_icon_small"
      },
      {
        "requires": "$hover_state",
        "$user_icon_texture_swap": "textures/ui/user_icon_white"
      },
      {
        "requires": "$pressed_state",
        "$user_icon_texture_swap": "textures/ui/user_icon_white"
      },
      {
        "requires": "$locked_state",
        "$user_icon_texture_swap": "textures/ui/user_icon_white"
      }
    ],
    "texture": "$user_icon_texture_swap"
  },

  "user_icon_hover": {
    "type": "image",
    "layer": 2,
    "texture": "textures/ui/user_icon_white",
    "size": [ 9, 9 ]
  },

  "gamepad_store_helper": {
    "type": "panel",
    "size": [ "100%c", 26 ],
    "offset": [ 0, 0 ],
    "$gamepad_helper_icon_description_text_color": "$light_glyph_default_color",
    "$gamepad_helper_icon_description_shadow": false,
    "$icon_description_bind": "#button_back_description",
    "$gamepad_store_helper_button|default": "gamepad_helper_button@common.gamepad_helper_b",
    "controls": [
      { "$gamepad_store_helper_button": {} }
    ]
  },

  "purchase_coins_panel": {
    "type": "panel",
    "size": [ "100%c", "100%" ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "$add_coin_not_visible|default": false,
    "$purchase_button_offset|default": [ 0, 0 ],
    "offset": "$purchase_button_offset",
    "$focus_id": "purchase_coins_panel",
    "controls": [
      {
        "plus_button@common_buttons.light_content_button": {
          "ignored": "$add_coin_not_visible",
          "size": [ "100%c", 17 ],
          "offset": "$button_offset",
          "layer": 3,
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "$button_state_panel": "common_store.wallet_button_panel",
          "$focus_override_right": "search_header_text_box",
          "$focus_override_left": "inventory_button_focus",
          "button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "button.coin_wallet",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_ok",
              "to_button_id": "button.coin_wallet",
              "mapping_type": "focused"
            }
          ]
        }
      }
    ]
  },

  "inventory_panel": {
    "type": "input_panel",
    "size": [ "100%c", "100%" ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "bindings": [
      {
        "binding_name": "#inventory_button_visible",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "inventory_button@common_buttons.light_content_button": {
          "size": [ "100%c", 17 ],
          "offset": "$button_offset",
          "layer": 3,
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "$button_state_panel": "common_store.inventory_button_panel",
          "$focus_override_left": "back_button",
          "$focus_id": "inventory_button_focus",
          "variables": [
            {
              "requires": "($is_inventory_screen or $is_on_3p_server)",
              "$pressed_button_name": ""
            },
            {
              "requires": "(not $is_inventory_screen and not $is_on_3p_server)",
              "$pressed_button_name": "button.my_account"
            }
          ]
        }
      }
    ]
  },

  "bar_animation": {
    "anim_type": "flip_book",
    "initial_uv": [ 0, 0 ],
    "frame_count": 10,
    "frame_step": 64,
    "fps": 10,
    "reversible": true,
    "easing": "linear"
  },

  "progress_loading_bars": {
    "type": "image",
    "layer": 1,
    "texture": "textures/ui/loading_bar",
    "$progress_loading_bars_anchor|default": "center",
    "anchor_from": "$progress_loading_bars_anchor",
    "anchor_to": "$progress_loading_bars_anchor",
    "uv_size": [ 64, 8 ],
    "size": [ "100% - 4px", "8%x" ],
    "max_size": [ 64, 8 ],
    "uv": "@common_store.bar_animation",
    "disable_anim_fast_forward": true,
    "color": [ 0.7, 0.7, 0.7, 1.0 ]
  },

  "spinner_animation": {
    "anim_type": "flip_book",
    "initial_uv": [ 0, 0 ],
    "frame_count": 10,
    "frame_step": 7,
    "fps": 10
  },

  "progress_loading_spinner": {
    "type": "image",
    "layer": 1,
    "texture": "textures/ui/loading_spin",
    "$progress_loading_spinner_anchor|default": "center",
    "anchor_from": "$progress_loading_spinner_anchor",
    "anchor_to": "$progress_loading_spinner_anchor",
    "uv_size": [ 7, 7 ],
    "size": [ 14, 14 ],
    "uv": "@common_store.spinner_animation",
    "disable_anim_fast_forward": true
  },

  "failure_text_alpha_animation": {
    "anim_type": "alpha",
    "easing": "linear",
    "from": 0,
    "to": 1,
    "play_event": "anim_store_base_error_visible_start"
  },

  "error_image_animation": {
    "anim_type": "flip_book",
    "initial_uv": [ 0, 0 ],
    "$failure_anim_frame_step|default": 0,
    "frame_count": "$failure_anim_frame_step",
    "frame_step": 194,
    "fps": 4,
    "reversible": false
  },

  "progress_loading": {
    "type": "panel",
    "size": [ "100%cm", "50%" ],

    "$hide_failure_text|default": false,
    "$use_sibling_scope|default": true,
    "$hide_progress_loading_outline|default": false,
    "$baseLayer|default": 2,

    "controls": [
      {
        "centerer": {
          "type": "panel",
          "size": [ "100%sm", "100%c + 8px" ],
          "layer": 0,
          "controls": [
            {
              "progress_loading_spinner@common_store.progress_loading_spinner": {}
            }
          ]
        }
      },
      {
        "progress_loading_outline@common_store.banner_fill": {
          "ignored": "$hide_failure_text",
          "size": [ "100%sm + 8px", "100%" ],
          "layer": 1,
          "alpha": 0,
          "anims": [
            "@common_store.failure_text_alpha_animation"
          ],
          "visible": "#store_error_visible or (not $hide_progress_loading_outline)",
          "bindings": [
            {
              "binding_name": "#store_error_visible",
              "binding_name_override": "#visible",
              "binding_condition": "always"
            }
          ]
        }
      },
      {
        "stack_panel": {
          "ignored": "$hide_failure_text",
          "type": "stack_panel",
          "use_child_anchors": true,
          "orientation": "vertical",
          "size": [ "100%cm+50px", "100% - 8px" ],
          "layer": 2,
          "controls": [
            {
              "top_panel": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "anchor_to": "top_left",
                "anchor_from": "top_left",
                "size": [ "100%sm+50px", "100%cm" ],
                "controls": [
                  {
                    "error_glyph_panel": {
                      "type": "panel",
                      "size": [ "100%c", "100%c" ],
                      "controls": [
                        {
                          "error_image": {
                            "type": "image",
                            "size": [ 13, 20 ],
                            "offset": [ 0, 2 ],
                            "texture": "textures/ui/ErrorGlyph",
                            "alpha": 0,
                            "anims": [
                              "@common_store.failure_text_alpha_animation"
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "padding": {
                      "type": "panel",
                      "size": [ 4, "100%sm" ]
                    }
                  },
                  {
                    "store_failure_text": {
                      "type": "label",
                      "layer": "($baseLayer + 1)",
                      "color": "$body_text_color",
                      "text_alignment": "left",
                      "size": [ "200px", "default" ],
                      "font_type": "smooth",
                      "font_scale_factor": 1.2,
                      "text": "#store_failure_text",
                      "alpha": 0,
                      "anims": [
                        "@common_store.failure_text_alpha_animation"
                      ],
                      "bindings": [
                        {
                          "binding_name": "#store_failure_text",
                          "binding_type": "global"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "padding": {
                "type": "panel",
                "size": [ "100%sm", "fill" ]
              }
            },
            {
              "image": {
                "type": "image",
                "size": [ 154, "41.24%x" ],
                "alpha": 0,
                "anchor_to": "bottom_middle",
                "anchor_from": "bottom_middle",
                "anims": [
                  "@common_store.failure_text_alpha_animation"
                ],
                "uv_size": [ 194, 80 ],
                "uv": "@common_store.error_image_animation",
                "disable_anim_fast_forward": true,
                "bindings": [
                  {
                    "binding_name": "#store_failure_image",
                    "binding_name_override": "#texture"
                  }
                ]
              }
            }
          ],
          "visible": "#store_error_visible",
          "bindings": [
            {
              "binding_name": "#store_error_visible",
              "binding_name_override": "#visible",
              "binding_condition": "always"
            }
          ]
        }
      },
      {
        "store_failure_code": {
          "ignored": "$hide_failure_text",
          "type": "label",
          "color": "$e_color_format",
          "anchor_from": "bottom_left",
          "anchor_to": "top_left",
          "text_alignment": "left",
          "size": [ "100%sm-4px", "default" ],
          "layer": 3,
          "offset": [ 1, 2 ],
          "text": "#store_failure_code",
          "alpha": 0,
          "visible": "#store_error_visible",
          "anims": [
            "@common_store.failure_text_alpha_animation"
          ],
          "bindings": [
            {
              "binding_name": "#store_failure_code"
            },
            {
              "binding_name": "#store_error_visible",
              "binding_name_override": "#visible",
              "binding_condition": "always"
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$source_control_name",
        "source_property_name": "$source_property_name",
        "target_property_name": "#visible",
        "resolve_sibling_scope": "$use_sibling_scope"
      }
    ]
  },

  "store_empty_progress_bar_icon": {
    "type": "image",
    "texture": "textures/ui/experiencebarempty"
  },

  "store_full_progress_bar_icon": {
    "type": "image",
    "texture": "textures/ui/experiencebarfull",
    "clip_direction": "left",
    "clip_pixelperfect": false,
    "$progress_bindings|default": [
      {
        "binding_name": "#progress_percentage",
        "binding_name_override": "#clip_ratio",
        "binding_type": "global"
      }
    ],
    "bindings": "$progress_bindings"
  },

  "store_progress_bar_nub": {
    "type": "image",
    "texture": "textures/ui/experiencenub",
    "tiled": true
  },

  "store_progress_bar_icon": {
    "type": "panel",
    "controls": [
      {
        "empty_progress_bar_icon@common_store.store_empty_progress_bar_icon": {
          "layer": 1,
          "visible": "#progress_visible",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#progress_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "progress_percent_panel": {
          "type": "panel",
          "layer": 2,
          "visible": "#progress_visible",
          "controls": [
            {
              "full_progress_bar_icon@common_store.store_full_progress_bar_icon": {
                "layer": 2
              }
            },
            {
              "progress_bar_nub@common_store.store_progress_bar_nub": {
                "size": [ "100% - 10px", 5 ],
                "layer": 3
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#progress_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "screen_contents_with_gamepad_helpers": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],
    "$gamepad_helpers_layer|default": 10,
    "controls": [
      {
        "dialog_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            { "dialog@$dialog_panel": {} }
          ]
        }
      },
      {
        "padding": {
          "type": "panel",
          "size": [ "100%", 10 ]
        }
      },
      {
        "gamepad_helpers_panel": {
          "type": "panel",
          "layer": "$gamepad_helpers_layer",
          "size": [ "100%", "100%c" ],
          "controls": [
            { "gamepad_helpers_a_and_b@common.gamepad_helpers_a_and_b": {} }
          ]
        }
      }
    ]
  },

  "text_strike_through": {
    "type": "image",
    "tiled": true,
    "texture": "textures/ui/strikethru",
    "color": "$dark_button_secondary_default_text_color"
  },

  "markdown_banner": {
    "type": "image",
    "$banner_texture|default": "textures/ui/saleflag",
    "texture": "$banner_texture"
  },

  "markdown_triangle": {
    "type": "image",
    "$triangle_texture|default": "textures/ui/saleflagtriangle",
    "texture": "$triangle_texture",
    "bilinear": true
  },

  "timer_panel": {
    "type": "panel",
    "size": [ "100%c + 2px", "100%" ],

    "$timer_field_count_to_show|default": 1,

    "$timer_bindings|default": [
      {
        "binding_name": "$time_text_binding_name",
        "binding_condition": "always_when_visible"
      }
    ],
    "controls": [
      {
        "timer": {
          "type": "label",
          "$timer_visible|default": false,
          "ignored": "(not $timer_visible)",
          "$time_text_binding_name|default": "#offer_timer_label",
          "text": "$time_text_binding_name",
          "size": [ "default", 10 ],
          "offset": [ 1, -0.5 ],
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "$timer_label_color|default": "$light_button_default_text_color",
          "color": "$timer_label_color",
          "layer": 1,
          "font_type": "smooth",
          "bindings": "$timer_bindings",
          "property_bag": {
            "#timer_field_count_to_show": "$timer_field_count_to_show"
          }
        }
      }
    ]
  },

  "store_offer_type_icon": {
    "type": "image",
    "size": [ 7, 7 ],
    "layer": 10,
    "color": "$icon_color",
    "texture": "$offer_icon_texture_path",
    "bilinear": true
  },

  "addon_pack_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_addon_pack"
  },

  "addon_pack_small_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_addon_pack_small",
    "size": [ 8, 8 ]
  },

  "realms_plus_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/realmportal_small",
    "size": [ 6, 8 ]
  },

  "resource_pack_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_resource_pack"
  },

  "resource_pack_small_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_resource_pack_small",
    "size": [ 8, 8 ]
  },

  "skinpack_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_skin_pack"
  },

  "skinpack_small_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_skin_pack_small",
    "size": [ 8, 8 ]
  },

  "world_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_world_template"
  },

  "world_small_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_world_template_small",
    "size": [ 8, 8 ]
  },

  "mashup_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_mashup_pack"
  },

  "mashup_small_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_mashup_pack_small",
    "size": [ 8, 8 ]
  },

  "persona_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_persona"
  },

  "persona_small_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_persona_small",
    "size": [ 8, 8 ]
  },

  "small_padding_panel": {
    "type": "panel",
    "size": [ 1, "100%" ]
  },

  "resource_pack_small_icon_with_buffer": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ 9, 8 ],
    "controls": [
      {
        "resource_pack_small_icon@common_store.resource_pack_small_icon": {}
      },
      {
        "small_padding_panel@common_store.small_padding_panel": {}
      }
    ]
  },

  "addon_pack_small_icon_with_buffer": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ 9, 8 ],
    "controls": [
      {
        "addon_pack_small_icon@common_store.addon_pack_small_icon": {}
      },
      {
        "small_padding_panel@common_store.small_padding_panel": {}
      }
    ]
  },

  "skinpack_small_icon_with_buffer": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ 9, 8 ],
    "controls": [
      {
        "skinpack_small_icon@common_store.skinpack_small_icon": {}
      },
      {
        "small_padding_panel@common_store.small_padding_panel": {}
      }
    ]
  },

  "world_small_icon_with_buffer": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ 9, 8 ],
    "controls": [
      {
        "world_small_icon@common_store.world_small_icon": {}
      },
      {
        "small_padding_panel@common_store.small_padding_panel": {}
      }
    ]
  },

  "mashup_small_icon_with_buffer": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ 9, 8 ],
    "controls": [
      {
        "mashup_small_icon@common_store.mashup_small_icon": {}
      },
      {
        "small_padding_panel@common_store.small_padding_panel": {}
      }
    ]
  },

  "persona_small_icon_with_buffer": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ 9, 8 ],
    "controls": [
      {
        "persona_small_icon@common_store.persona_small_icon": {}
      },
      {
        "small_padding_panel@common_store.small_padding_panel": {}
      }
    ]
  },

  "realms_icon@common_store.store_offer_type_icon": {
    "$offer_icon_texture_path": "textures/ui/glyph_realms"
  },

  "realms_banner_icon": {
    "type": "image",
    "texture": "textures/ui/realmsIcon",
    "size": [ "78%y", "100%" ],
    "bilinear": true
  },

  "csb_banner_icon": {
    "type": "image",
    "texture": "textures/ui/sidebar_icons/csb_sidebar_icon",
    "size": [ "100%y", "100%" ],
    "bilinear": true
  },

  "csb_expiration": {
    "type": "panel",
    "size": [ "100% - 0.05px", "20% + 1px" ],
    "offset": [ 0, 0.5 ],
    "visible": false,
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "controls": [
      {
        "background": {
          "type": "image",
          "size": [ "100%", "100%" ],
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",
          "texture": "textures/ui/csbBannerBackground",
          "tiled": "y",
          "layer": 3
        }
      },
      {
        "contents": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100% - 2px", "100% - 2px" ],
          "layer": 5,
          "controls": [
            {
              "csb_icon@common_store.csb_banner_icon": {}
            },
            {
              "pad_0": {
                "type": "panel",
                "size": [ 2, "100%" ]
              }
            },
            {
              "text_panel": {
                "type": "panel",
                "size": [ "fill", "100%" ],
                "controls": [
                  {
                    "text": {
                      "type": "label",
                      "size": [ "100%", "default" ],
                      "color": "$store_csb_expiration_text_color",
                      "font_type": "smooth",
                      "font_scale_factor": 0.9,
                      "text": "#csb_expiration_label",
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$offer_binding_type",
                          "binding_collection_name": "$offer_collection_name",
                          "binding_name": "#csb_expiration_label"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#csb_expiration_banner_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "pack_icon_stack": {
    "type": "panel",
    "size": [ "100%c", "100%" ],
    "$icon_stack_visibility_type|default": "none",
    "$icon_stack_visibility|default": "",
    "$icon_stack_visibility_collection|default": "",
    "$icon_color|default": "$store_offer_type_icon_color",
    "controls": [
      {
        "pack_icon_stack_factory@common_store.pack_icon_stack_factory": {}
      }
    ]
  },

  "pack_icon_stack_factory": {
    "type": "stack_panel",
    "size": [ "100%c + 2px", "100%" ],
    "$pack_icon_stack_factory_offset|default": [ 0, 1 ],
    "offset": "$pack_icon_stack_factory_offset",
    "ignored": "$is_purchase_button",
    "orientation": "horizontal",
    "$pack_icon_factory_collection_name|default": "pack_icons",
    "factory": {
      "name": "store_icon_factory",
      "control_ids": {
        "addon_pack_icon": "@common_store.addon_pack_icon",
        "addon_pack_small_icon": "@common_store.addon_pack_small_icon_with_buffer",
        "realms_icon": "@common_store.realms_icon",
        "mashup_icon": "@common_store.mashup_icon",
        "mashup_small_icon": "@common_store.mashup_small_icon_with_buffer",
        "persona_icon": "@common_store.persona_icon",
        "persona_small_icon": "@common_store.persona_small_icon_with_buffer",
        "world_icon": "@common_store.world_icon",
        "world_small_icon": "@common_store.world_small_icon_with_buffer",
        "skinpack_icon": "@common_store.skinpack_icon",
        "skinpack_small_icon": "@common_store.skinpack_small_icon_with_buffer",
        "resource_pack_icon": "@common_store.resource_pack_icon",
        "resource_pack_small_icon": "@common_store.resource_pack_small_icon_with_buffer",
        "realms_plus_icon": "@common_store.realms_plus_icon",
        "small_padding_panel": "@common_store.small_padding_panel"
      },
      "factory_variables": [
        "$icon_color"
      ]
    },
    "collection_name": "$pack_icon_factory_collection_name",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$icon_stack_visibility_type",
        "binding_collection_name": "$icon_stack_visibility_collection",
        "binding_name": "$icon_stack_visibility",
        "binding_name_override": "#visible"
      },
      {
        "binding_type": "$icon_stack_visibility_type",
        "binding_collection_name": "$icon_stack_visibility_collection",
        "binding_name": "#pack_icon_section_content",
        "binding_name_override": "#collection_length",
        "binding_condition": "always_when_visible"
      }
    ]
  },

  "markdown_background": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", "100%" ],
    "$markdown_label|default": "common.empty_panel",
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "$banner_size|default": [ "100%c + 4px", "100%" ],
    "$timer_visible|default": false,
    "$icon_color": "$store_sales_banner_text_color",
    "controls": [
      {
        "banner_panel": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "banner@common_store.markdown_banner": {
                "size": "$banner_size",
                "layer": 1,
                "controls": [
                  {
                    "banner_content_stack_panel": {
                      "type": "stack_panel",
                      "orientation": "horizontal",
                      "size": [ "100%c", "100%" ],
                      "controls": [
                        {
                          "timer_panel@common_store.timer_panel": {}
                        },
                        {
                          "pack_icon_panel": {
                            "type": "panel",
                            "size": [ "100%c", "100%" ],
                            "controls": [
                              {
                                "pack_icon_stack@common_store.pack_icon_stack": {
                                  "offset": [ 0, 2 ],
                                  "$icon_stack_visibility": "#pack_icon_sale_section_visible"
                                }
                              }
                            ]
                          }
                        },
                        {
                          "markdown_panel": {
                            "type": "panel",
                            "size": [ "100%c", "100%" ],
                            "controls": [
                              {
                                "markdown_label@$markdown_label": {}
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "triangle_panel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "$triangle_offset|default": [ -1, 0 ],
          "$triangle_size|default": [ "50%y", "100%" ],
          "controls": [
            {
              "triangle@common_store.markdown_triangle": {
                "size": "$triangle_size",
                "offset": "$triangle_offset",
                "layer": 2
              }
            }
          ]
        }
      }
    ]
  },

  "store_top_bar": {
    "type": "image",
    "texture": "textures/ui/StoreTopBar",
    "size": [ "100%", 23 ]
  },

  "store_top_bar_filler": {
    "type": "image",
    "texture": "textures/ui/StoreTopBarFiller"
  },

  "direction_button_panel": {
    "type": "panel",
    "$direction_gamepad_button_helper|default": "gamepad_helper@common.gamepad_helper_right_bumper",
    "variables": [
      {
        "requires": "$default_state",
        "$chevron_color|default": "$store_dark_grey_text_color"
      },
      {
        "requires": "$hover_state",
        "$chevron_color|default": "$store_white_text_color"
      },
      {
        "requires": "$pressed_state",
        "$chevron_color|default": "$store_white_text_color"
      },
      {
        "requires": "$locked_state",
        "$chevron_color|default": "$store_white_text_color"
      }
    ],
    "controls": [
      {
        "chevron_image@common.chevron_image": {
          "color": "$chevron_color",
          "bindings": [
            {
              "binding_name": "(not #is_using_gamepad)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "$direction_gamepad_button_helper": {
          "offset": [ 0, 4 ],
          "anchor_from": "center",
          "anchor_to": "center",
          "$hide_description|default": true,
          "$gamepad_helper_icon_size|default": [ 18, 18 ],
          "$gamepad_helper_layer": 10,
          "bindings": [
            {
              "binding_name": "#is_using_gamepad",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "cycle_pack_button@common_buttons.light_content_button": {
    "$ignore_cycle_buttons|default": false,
    "ignored": "$ignore_cycle_buttons",

    "$button_content": "common_store.direction_button_panel",

    "$cycle_pack_button_factory_collection_details|default": "none",
    "$cycle_pack_button_factory_collection_prefix|default": "",
    "$cycle_pack_button_factory_collection_name|default": "",

    "$cycle_pack_button_collection_details|default": "none",
    "$cycle_pack_button_collection|default": "",

    "$cycle_pack_button_binding_type|default": "global",
    "$cycle_pack_button_enabled|default": "#cycle_pack_button",

    "$cycle_pack_button_name_left|default": "",
    "$cycle_pack_button_name_right|default": "",

    "$cycle_pack_button_up_right_refusal|default": false,

    "property_bag": {
      "#is_cycle_button_focused": true
    },

    "$cycle_pack_bindings|default": [
      {
        "binding_type": "$cycle_pack_button_factory_collection_details",
        "binding_collection_name": "$cycle_pack_button_factory_collection_name",
        "binding_collection_prefix": "$cycle_pack_button_factory_collection_prefix"
      },
      {
        "binding_type": "$cycle_pack_button_collection_details",
        "binding_collection_name": "$cycle_pack_button_collection"
      },
      {
        "binding_type": "$cycle_pack_button_binding_type",
        "binding_collection_name": "$cycle_pack_button_collection",
        "binding_name": "$cycle_pack_button_enabled",
        "binding_name_override": "#enabled"
      },
      {
        "binding_name": "$cycle_pack_button_accessibility_text"
      }
    ],

    "$cycle_pack_enabled_source_control_name|default": "",
    "$cycle_pack_enabled_source_property_name|default": "",
    "$cycle_pack_enabled_use_sibling_scope|default": false,
    "variables": [
      {
        "requires": "((not $cycle_pack_enabled_source_control_name = '') and (not $cycle_pack_enabled_source_property_name = ''))",
        "$cycle_pack_bindings": [
          {
            "binding_type": "$cycle_pack_button_factory_collection_details",
            "binding_collection_name": "$cycle_pack_button_factory_collection_name",
            "binding_collection_prefix": "$cycle_pack_button_factory_collection_prefix"
          },
          {
            "binding_type": "$cycle_pack_button_collection_details",
            "binding_collection_name": "$cycle_pack_button_collection"
          },
          {
            "binding_type": "view",
            "source_control_name": "$cycle_pack_enabled_source_control_name",
            "source_property_name": "$cycle_pack_enabled_source_property_name",
            "target_property_name": "#enabled",
            "resolve_sibling_scope": "$cycle_pack_enabled_use_sibling_scope"
          },
          {
            "binding_name": "$cycle_pack_button_accessibility_text"
          }
        ]
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed",
        "button_up_right_of_first_refusal": "$cycle_pack_button_up_right_refusal"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed",
        "button_up_right_of_first_refusal": "$cycle_pack_button_up_right_refusal"
      },
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "$cycle_pack_button_name_right",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "$cycle_pack_button_name_left",
        "mapping_type": "focused"
      }
    ],
    "bindings": "$cycle_pack_bindings"
  },

  "cycle_pack_left_button@common_store.cycle_pack_button": {
    "$focus_id": "cycle_pack_left_button",
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "$focus_id|default": "left_cycle_button",
    "$chevron_image_name": "textures/ui/chevron_left",
    "$pressed_button_name": "button.cycle_offer_left",
    "$cycle_pack_button_enabled|default": "#cycle_pack_left_button_enabled",
    "$button_tts_header": "#cycle_left_button_accessibility_text",
    "$direction_gamepad_button_helper": "gamepad_helper@common.gamepad_helper_left_bumper",
    "$cycle_pack_button_accessibility_text": "#cycle_left_button_accessibility_text"
  },

  "cycle_pack_right_button@common_store.cycle_pack_button": {
    "$focus_id": "cycle_pack_right_button",
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right",
    "$focus_id|default": "right_cycle_button",
    "$chevron_image_name": "textures/ui/chevron_right",
    "$pressed_button_name": "button.cycle_offer_right",
    "$button_tts_header": "#cycle_right_button_accessibility_text",
    "$cycle_pack_button_enabled|default": "#cycle_pack_right_button_enabled",
    "$cycle_pack_button_accessibility_text": "#cycle_right_button_accessibility_text"
  },

  "restore_purchases@common_buttons.light_text_button": {
    "anchor_from": "center",
    "anchor_to": "center",
    "$pressed_button_name": "button.restore_store",
    "$button_text": "skins.restore.button"
  },

  "back_content_panel": {
    "type": "panel",
    "size": [ "100%c", "100%" ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "controls": [
      {
        "back_button@common.back_title_button": {
          "offset": [ 0, -1 ],
          "layer": 200, //This should always be on top, let's ensure that
          "$focus_id": "back_button"
        }
      }
    ]
  },

  "unlock_with_coins_button_stack_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", 11 ],
    "$button_text_max_size": [ "default", 10 ], // Without this there is an unsolvable layout since the parent is 100%c
    "$button_text_binding_type|default": "none",
    "$button_binding_condition|default": "none",
    "$button_text_grid_collection_name|default": "",

    "controls": [
      {
        "coin_panel": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "$coin_visible|default": "",
          "$coin_binding_type|default": "none",
          "controls": [
            {
              "coin@common_store.coin_icon": {
                "offset": [ 0, -1 ],
                "bindings": [
                  {
                    "binding_type": "$coin_binding_type",
                    "binding_name": "$coin_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "padding_1": {
          "type": "panel",
          "size": [ 1, "100%" ]
        }
      },
      { "unlock_text@common_buttons.new_ui_binding_button_label": {} }
    ]
  },

  "store_dialog_with_coin_header@common_dialogs.main_panel_no_buttons": {
    "$use_custom_title_control": true,
    "$custom_title_label": "common_store.coins_with_title",
    "$text_name|default": "",
    "$title_size": [ "100% - 14px", 10 ],
    "$title_panel|default": "common_store.store_coins_title_label"
  },

  "store_coins_title_label@common_dialogs.standard_title_label": {
    "size": [ "100% - 78px", 10 ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "text_alignment": "center",
    "offset": [ 63, -1 ]
  },

  "search_header_stack": {
    "ignored": "($is_on_3p_server or $ignore_search)",
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", "100%" ],
    "visible": false,
    "property_bag": {
      "#visible": false
    },
    "controls": [
      {
        "gamepad_helper_y_alignment_hack": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "gamepad_helper_y@common.gamepad_helper_y": {
                "$hide_description|default": true,
                "offset": [ 4, -4 ],
                "anchor_from": "top_left",
                "anchor_to": "top_left"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#gamepad_helper_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "search_header_text_box_panel": {
          "type": "panel",
          "size": [ 80, 15 ],
          "$text_edit_clipping_panel_size": [ 57, 15 ],
          "$text_edit_box_label_anchor_point": "left_middle",
          "controls": [
            {
              "search_header_text_box@common.text_edit_box": {
                "offset": [ 0, 1 ],
                "max_length": 50,
                "$text_box_name": "search_header_text_box",
                "$text_edit_box_enabled_binding_type": "none",
                "$text_edit_box_content_binding_name": "#search_header_box_text_content",
                "$place_holder_text": "realmsSettingsScreen.searchBox",
                "$enabled": true,
                "$focus_override_left": "purchase_coins_panel",
                "$focus_override_right": "store_layout_search_button",
                "$focus_id": "search_header_text_box",
                "focus_wrap_enabled": false,
                "focus_enabled": true
              }
            },
            {
              "clear_button@common.close_button": {
                "offset": [ 0, 1 ],
                "anchor_from": "right_middle",
                "anchor_to": "right_middle",
                "visible": false,
                "layer": 2,
                "focus_enabled": true,
                "$close_button_panel_size": [ 11, 11 ],
                "$close_button_offset": [ 3, 0 ],
                "$close_button_visible_binding_name": "#search_header_clear_visible",
                "$close_button_visible_binding_type": "global",
                "$close_button_default_texture": "textures/ui/close_button_hover",
                "button_mappings": [
                  {
                    "from_button_id": "button.menu_select",
                    "to_button_id": "button.search_header_clear",
                    "mapping_type": "pressed"
                  },
                  {
                    "from_button_id": "button.menu_ok",
                    "to_button_id": "button.search_header_clear",
                    "mapping_type": "focused"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "store_layout_search_button@store_layout.store_layout_ribbon_search_button": {
          "size": [ 17, 17 ],
          "$focus_id": "store_layout_search_button",
          "$button_tts_header": "store.search.button"
        }
      },
      {
        "padding0": {
          "type": "panel",
          "size": [ 2, "100%" ]
        }
      }
    ],

    "$search_header_bindings|default": [
      {
        "binding_name": "#search_header_visible",
        "binding_name_override": "#visible"
      }
    ],
    "bindings": "$search_header_bindings"
  },

  "store_header_with_coins": {
    "type": "stack_panel",
    "size": [ "100%", "100%" ],
    "$store_header_size|default": [ "100%", 23 ],
    "$is_inventory_screen|default": false,
    "$ignore_home_button|default": false,
    "$ignore_inventory_button|default": false,
    "$ignore_search|default": false,
    "controls": [
      {
        "top_bar@common_store.store_top_bar": {
          "size": "$store_header_size",
          "focus_container": true,
          "use_last_focus": false,
          "focus_wrap_enabled": false,
          "focus_navigation_mode_up": "stop",
          "controls": [
            {
              "title_stack_panel": {
                "type": "stack_panel",
                "size": [ "100%", 19 ],
                "orientation": "horizontal",
                "controls": [
                  {
                    "padding1": {
                      "type": "panel",
                      "size": [ 2, "100%" ]
                    }
                  },
                  { "back_button_content_panel@common_store.back_content_panel": {} },
                  {
                    "padding2": {
                      "type": "panel",
                      "size": [ 10, "100%" ]
                    }
                  },
                  {
                    "header_title_panel@common.screen_header_title_panel": {
                      "layer": 1,
                      "$screen_header_title_binding_type": "global"
                    }
                  },
                  {
                    "padding3": {
                      "type": "panel",
                      "size": [ 5, "100%" ]
                    }
                  },
                  {
                    "padding4": {
                      "type": "panel",
                      "size": [ 5, "100%" ]
                    }
                  },
                  {
                    "status_and_coins@common_store.status_with_coins": {
                      "ignored": "$store_disabled",
                      "$top_status_and_coins_visible_binding_type|default": "none",
                      "$top_status_and_coins_visible_binding|default": "",
                      "bindings": [
                        {
                          "binding_type": "$top_status_and_coins_visible_binding_type",
                          "binding_name": "$top_status_and_coins_visible_binding",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "padding5": {
                      "type": "panel",
                      "size": [ 2, "100%" ]
                    }
                  },
                  { "search_header_stack@common_store.search_header_stack": {} }
                ]
              }
            }
          ]
        }
      },
      {
        "child_control@$child_control": {
          "size": [ "100%", "fill" ],
          "layer": 2
        }
      }
    ]
  },

  "status_with_coins": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", "100%" ],
    "$padding_size": [ 2, "100%" ],
    "controls": [
      {
        "inventory_panel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "layer": 2,
          "controls": [
            {
              "inventory_button@common_store.inventory_panel": {
                "offset": [ 0, -1 ]
              }
            }
          ]
        }
      },
      {
        "padding0": {
          "type": "panel",
          "size": [ 6, "100%" ],
          "ignored": "$ignore_3rd_party_servers"
        }
      },
      {
        "coin_balance_panel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "coin_balance_panel@common_store.purchase_coins_panel": {
                "offset": [ 0, -1 ],
                "layer": 1
              }
            }
          ]
        }
      },
      {
        "padding1": {
          "type": "panel",
          "size": [ 4, "100%" ],
          "ignored": "$ignore_3rd_party_servers"
        }
      }
    ]
  },

  "coins_with_title": {
    "type": "panel",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "controls": [
      {
        "coin_balance_panel@common_store.purchase_coins_panel": {
          "offset": [ 0, -4 ],
          "layer": 5,
          "anchor_from": "top_left",
          "anchor_to": "top_left"
        }
      },
      {
        "title_panel@$title_panel": {
        }
      }
    ]
  },

  "wallet_button_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "layer": 2,
    "size": [ "100%c", 17 ],
    "controls": [
      {
        "purchase_coin_panel_alignment_hack": {
          "type": "panel",
          "size": [ "100%c", 17 ],
          "controls": [
            {
              "purchase_coin_panel@common_store.coin_balance_panel": {
                "size": [ 47, 13 ],
                "offset": [ 0, 2 ],
                "anchor_from": "top_left",
                "anchor_to": "top_left"
              }
            }
          ]
        }
      },
      {
        "plus_image@common_buttons.new_ui_button_panel": {
          "$button_size_override|default": [ 17, 17 ],
          "$button_content": "common_store.plus_icon"
        }
      },
      {
        "gamepad_helper_x_alignment_hack": {
          "type": "panel",
          "size": [ 12, "100%c" ],
          "controls": [
            {
              "gamepad_helper_x@common.gamepad_helper_x_14": {
                "$hide_description|default": true,
                "offset": [ -10, -4 ],
                "anchor_from": "top_left",
                "anchor_to": "top_left"
              }
            }
          ],
          "$wallet_gamepad_helper_bindings|default": [
            {
              "binding_name": "#gamepad_helper_visible",
              "binding_name_override": "#visible"
            }
          ],
          "bindings": "$wallet_gamepad_helper_bindings"
        }
      }
    ]
  },

  "coin_balance_panel@common_store.ribbon_bar_text_background": {
    "size": [ 58, "100%" ],
    "$ignore_coin_purchase_spinner|default": true,
    "controls": [
      {
        "coin_purchase_in_progress_panel": {
          "type": "panel",
          "size": [ 30, "default" ],
          "offset": [ 2, 0 ],
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "ignored": "$ignore_coin_purchase_spinner",
          "controls": [
            {
              "coin_purchase_in_progress@common_store.progress_loading_spinner": {
                "size": [ "100%", "100%" ],
                "anchor_from": "center",
                "anchor_to": "center"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#coin_purchase_in_progress",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "horizontal_coin_stack": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", 11 ],
          "anchor_from": "right_middle",
          "anchor_to": "right_middle",
          "controls": [
            {
              "padding": {
                "type": "panel",
                "size": [ "fill", "100%" ]
              }
            },
            {
              "coin_icon@common_store.coin_icon": {}
            },
            {
              "small_filler": {
                "type": "panel",
                "size": [ 0.5, "100%" ]
              }
            },
            {
              "coin_text_holder": {
                "type": "panel",
                "size": [ "100%c", 11 ],
                "controls": [
                  {
                    "coin_balance_text": {
                      "type": "label",
                      "font_type": "smooth",
                      "layer": 4,
                      "$accessibility_override": "#accessibility_minecoins_amount",
                      "text": "#coin_balance",
                      "text_alignment": "left",
                      "anchor_from": "right_middle",
                      "anchor_to": "right_middle",
                      "tts_override_control_value": "$accessibility_override",
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "#coin_balance",
                          "binding_condition": "always_when_visible"
                        },
                        {
                          "binding_type": "global",
                          "binding_name": "$accessibility_override",
                          "binding_condition": "always_when_visible"
                        },
                        {
                          "binding_name": "(not #coin_purchase_in_progress)",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "$text_color_swap|default": "",
                      "variables": [
                        {
                          "requires": "$default_state",
                          "$text_color_swap": "$coin_color"
                        },
                        {
                          "requires": "$hover_state",
                          "$text_color_swap": "$main_header_text_color"
                        },
                        {
                          "requires": "$pressed_state",
                          "$text_color_swap": "$main_header_text_color"
                        },
                        {
                          "requires": "$locked_state",
                          "$text_color_swap": "$main_header_text_color"
                        }
                      ],
                      "color": "$text_color_swap"
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "my_account_button_content": {
    "type": "panel",
    "size": [ "100%c", "100%" ],
    "controls": [
      {
        "my_account_content": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%c", "100%" ],
          "layer": 2,
          "controls": [
            {
              "user_icon": {
                "type": "image",
                "size": [ "120%y", "100%" ],
                "texture": "textures/ui/user_icon"
              }
            },
            {
              "my_account_label_panel": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%c", "100%" ],
                "controls": [
                  {
                    "padding": {
                      "type": "panel",
                      "size": [ 4, "100%" ]
                    }
                  },
                  {
                    "my_account_center_label": {
                      "type": "panel",
                      "size": [ "100%c", "100%" ],
                      "controls": [
                        {
                          "my_account_label": {
                            "type": "label",
                            "size": [ "default", "default" ],
                            "max_size": [ "100%c", 10 ],
                            "text": "store.myAccount",
                            "color": "$text_color"
                          }
                        }
                      ]
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_name": "(not #show_xbl_profile_info)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "inventory_button_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", 17 ],
    "controls": [
      {
        "inventory_button": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "status_panel@common_store.inventory_button": {
              }
            }
          ]
        }
      }
    ]
  },

  "inventory_button": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", "100%" ],
    "anchor_from": "right_middle",
    "anchor_to": "right_middle",
    "controls": [
      {
        "my_content_button": {
          "type": "panel",
          "size": [ 17, 17 ],
          "layer": 5,
          "controls": [
            {
              "library_icon": {
                "type": "image",
                "size": [ 17, 17 ],
                "texture": "textures/ui/sidebar_icons/my_content"
              }
            },
            {
              "library_icon_bevel": {
                "type": "image",
                "size": [ 17, 17 ],
                "layer": 4,
                "$icon_bevel_hoverstate_texture_swap|default": "",
                "variables": [
                  {
                    "requires": "$default_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/gamerpic_bevel"
                  },
                  {
                    "requires": "$hover_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/gamerpic_bevel_hover"
                  },
                  {
                    "requires": "$pressed_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/gamerpic_bevel_hover"
                  },
                  {
                    "requires": "$locked_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/gamerpic_bevel_hover"
                  }
                ],
                "texture": "$icon_bevel_hoverstate_texture_swap"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "(not #update_icon_visible)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "updates_with_bevel": {
          "type": "panel",
          "size": [ 17, 17 ],
          "controls": [
            {
              "update_glyph@common_store.bang_icon": {
                "layer": 5
              }
            },
            {
              "updates_bevel": {
                "type": "image",
                "size": [ 17, 17 ],
                "layer": 4,
                "$icon_bevel_hoverstate_texture_swap|default": "",
                "variables": [
                  {
                    "requires": "$default_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/update_bevel"
                  },
                  {
                    "requires": "$hover_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/update_bevel_hover"
                  },
                  {
                    "requires": "$pressed_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/update_bevel_pressed"
                  },
                  {
                    "requires": "$locked_state",
                    "$icon_bevel_hoverstate_texture_swap": "textures/ui/update_bevel_pressed"
                  }
                ],
                "texture": "$icon_bevel_hoverstate_texture_swap"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "(#update_icon_visible)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },

      {
        "label_alignment_pannel": {
          "type": "panel",
          "size": [ "100%c", "100% -4px" ],
          "controls": [
            {
              "label_panel@common_store.ribbon_bar_text_background": {
                "size": [ "100%c + 2px", "100%" ],
                "offset": [ 0, 2 ], // To line up with the coin balance text
                "controls": [
                  {
                    "inventory_label": {
                      "type": "label",
                      "font_type": "smooth",
                      "text": "store.myLibrary",
                      "color": "$body_text_color",
                      "layer": 2
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "xbl_button_content": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", "100%" ],
    "offset": [ 0, -1 ],
    "controls": [
      {
        "xbl_icon": {
          "type": "image",
          "texture": "textures/ui/xbox4",
          "size": [ 9, 9 ]
        }
      },
      {
        "padding_0": {
          "type": "panel",
          "size": [ 1, "100%" ]
        }
      },
      {
        "disconnected_label": {
          "type": "label",
          "size": [ "default", "default" ],
          "text": "store.xbl.disconnected",
          "color": "$text_color"
        }
      },
      {
        "padding_1": {
          "type": "panel",
          "size": [ 1, "100%" ]
        }
      },
      {
        "error_icon_panel": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "error_icon": {
                "type": "image",
                "texture": "textures/ui/ErrorGlyph",
                "size": [ 7, 10 ],
                "offset": [ 0, -1 ]
              }
            }
          ]
        }
      }
    ]
  },

  "disclaimer_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "$legal_text_offset|default": [ 2, -1 ],
    "controls": [
      {
        "legal_text_label": {
          "type": "label",
          "size": [ "100% - 2px", "default" ],
          "offset": "$legal_text_offset",
          "layer": 10,
          "color": "$body_text_color",
          "font_type": "smooth",
          "$disclaimer_font_scale_factor|default": 0.68,
          "font_scale_factor": "$disclaimer_font_scale_factor",
          "text": "#purchase_with_currency_disclaimer",
          "bindings": [
            {
              "binding_name": "#purchase_with_currency_disclaimer"
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#currency_purchase_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "grey_bar_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ 17, "100%" ],
    "controls": [
      {
        "color_panel": {
          "type": "panel",
          "size": [ 12, "100%" ],
          "controls": [
            {
              "grey_bar": {
                "type": "image",
                "size": [ "100%", "100%" ],
                "layer": 1,
                "texture": "textures/ui/white_background",
                "keep_ratio": false,
                "tiled": true,
                "color": "$carousel_unselected"
              }
            },
            {
              "green_bar": {
                "type": "image",
                "size": [ "100%", "100%" ],
                "layer": 2,
                "texture": "textures/ui/white_background",
                "keep_ratio": false,
                "tiled": true,
                "color": "$carousel_selected",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#this_page_selected",
                    "binding_name_override": "#visible",
                    "binding_type": "collection",
                    "binding_collection_name": "carousel_bar_collection"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "pad": {
          "type": "panel",
          "size": [ 5, "100%" ]
        }
      }
    ]
  },

  "tab_name_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", "100%" ],
    "controls": [
      {
        "bar_panel": {
          "type": "panel",
          "size": [ 2.5, "100%" ],
          "controls": [
            {
              "green_bar": {
                "type": "image",
                "size": [ "100%", "100%" ],
                "layer": 2,
                "texture": "textures/ui/white_background",
                "keep_ratio": false,
                "tiled": true,
                "color": "$carousel_selected",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#this_page_selected",
                    "binding_name_override": "#visible",
                    "binding_type": "collection",
                    "binding_collection_name": "$carousel_row_tab_collection_name"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "button_panel": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "tab_name_button_grey@common_buttons.light_text_form_fitting_button": {
                "layer": 1,
                "$button_text": "#tab_name_text",
                "$pressed_button_name": "button.tab_name",
                "$button_text_binding_type": "collection",
                "$button_text_grid_collection_name": "$carousel_row_tab_collection_name",
                "$button_offset": [ 0, 2 ],

                "$button_state_panel": "common_buttons.borderless_form_fitting_button_panel",
                "$default_button_alpha": 0,
                "$default_hover_alpha": 0,
                "$default_pressed_alpha": 0,

                "$default_text_color": "$dark_bg_contrast_button_default_text_color",
                "$hover_text_color": "$carousel_selected",
                "$pressed_text_color": "$light_button_pressed_text_color",
                "$locked_text_color": "$light_button_locked_text_color",

                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "$carousel_row_tab_collection_name"
                  },
                  {
                    "binding_name": "(not #this_page_selected)",
                    "binding_name_override": "#visible",
                    "binding_type": "collection",
                    "binding_collection_name": "$carousel_row_tab_collection_name"
                  }
                ]
              }
            },
            {
              "tab_name_button_white@common_buttons.light_text_form_fitting_button": {
                "layer": 2,
                "$button_text": "#tab_name_text",
                "$pressed_button_name": "button.tab_name",
                "$button_text_binding_type": "collection",
                "$button_text_grid_collection_name": "$carousel_row_tab_collection_name",
                "$button_offset": [ 0, 2 ],

                "$button_state_panel": "common_buttons.borderless_form_fitting_button_panel",
                "$default_button_alpha": 0,
                "$default_hover_alpha": 0,
                "$default_pressed_alpha": 0,

                "$default_text_color": "$generic_button_text_color",
                "$hover_text_color": "$carousel_selected",
                "$pressed_text_color": "$light_button_pressed_text_color",
                "$locked_text_color": "$light_button_locked_text_color",

                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "$carousel_row_tab_collection_name"
                  },
                  {
                    "binding_name": "#this_page_selected",
                    "binding_name_override": "#visible",
                    "binding_type": "collection",
                    "binding_collection_name": "$carousel_row_tab_collection_name"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "pad_1": {
          "type": "panel",
          "size": [ 10, "100%" ]
        }
      }
    ]
  },

  //--------------------------------------------------------------------------------
  // Content
  //--------------------------------------------------------------------------------

  "store_offer_item_title_panel": {
    "type": "panel",
    "size": [ "100%", 10 ],

    "$offer_title_binding_type|default": "global",
    "$offer_title_collection_name|default": "",

    "controls": [
      {
        "offer_title@common_store.store_offer_title": {}
      }
    ]
  },

  "store_offer_item_creator_panel": {
    "ignored": "$ignore_creator",
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", 10 ],
    "layer": 2,

    "$offer_title_binding_type|default": "global",
    "$offer_title_collection_name|default": "",

    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_title_binding_type",
        "binding_name": "#is_creator_label_visible",
        "binding_collection_name": "$offer_title_collection_name",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "pack_icon_panel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "pack_icon_stack@common_store.pack_icon_stack": {
                "offset": [ 0, 1 ],
                "anchor_from": "top_right",
                "anchor_to": "top_right",
                "$icon_stack_visibility": "#pack_icon_section_visible",
                "$icon_stack_visibility_type": "$offer_title_binding_type",
                "$icon_stack_visibility_collection": "$offer_title_collection_name",
                "$is_purchase_button": false
              }
            }
          ]
        }
      },
      {
        "creator_label": {
          "type": "label",
          "size": [ "fill", "100%" ],
          "text": "#creator_label",
          "color": "$store_author_text_color",
          "font_type": "smooth",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$offer_title_binding_type",
              "binding_collection_name": "$offer_title_collection_name",
              "binding_name": "#creator_label"
            }
          ]
        }
      }
    ]
  },


  "store_offer_ratings": {
    "type": "panel",
    "size": [ "100%c", "100%" ],
    "$rating_text_padding_size": [ 3, "100%" ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_name": "#ratings_visible",
        "binding_collection_name": "$offer_collection_name",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "rating_text_panel@common_store.rating_text_panel": {
          // factory binding vars
          "$rating_text_factory_collection_details": "$store_factory_collection_details",
          "$rating_text_factory_collection_prefix": "$store_factory_collection_prefix",
          "$rating_text_factory_collection_name": "$store_factory_collection_name",

          "$rating_text_binding_type": "$offer_binding_type",
          "$rating_text_collection_name": "$offer_collection_name"
        }
      }
    ]
  },

  "vertical_store_offer_price_info_panel": {
    "type": "panel",
    "size": [ "100%c", 12 ],
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right",
    "controls": [
      {
        "sales_banner": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%c", 12 ],
          "controls": [
            {
              "markdown_stack_panels": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%c", 12 ],
                "controls": [
                  {
                    "markdown_panel@common_store.offer_price_markdown_panel": {
                      "$offer_price_binding": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$offer_binding_type",
                          "binding_name": "#offer_full_price",
                          "binding_collection_name": "$offer_collection_name"
                        }
                      ],
                      "$strike_through_text_bindings": [],
                      "$offer_price_offset": [ 0, 2 ],
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$offer_binding_type",
                          "binding_name": "#starter_bundle_strikethrough_visible",
                          "binding_collection_name": "$offer_collection_name",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "padding_markdown_panel_right": {
                      "type": "panel",
                      "size": [ 2, "100%" ]
                    }
                  }
                ]
              }
            },
            {
              "store_offer_prompt_panel": {
                "type": "panel",
                "size": [ "100%c", 12 ],
                "controls": [
                  {
                    "offer_status_text": {
                      "type": "label",
                      "color": "$coin_color",
                      "size": [ "default", 10 ],
                      "offset": [ 0, 0.5 ],
                      "text": "#starter_bundle_offer_prompt_text",
                      "font_type": "smooth",
                      "layer": 4,
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$offer_binding_type",
                          "binding_name": "#starter_bundle_offer_prompt_text",
                          "binding_collection_name": "$offer_collection_name"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "padding_to_right": {
                "type": "panel",
                "size": [ 2, "100%" ]
              }
            }
          ]
        }
      }
    ]
  },

  "store_offer_price_info_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", 12 ],
    "ignored": "(not $ignore_durable_status_content)",
    "controls": [
      // ToDo: make the chevron and sales banner work together when dynamic scaling is completed
      {
        "sales_banner": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", 12 ],
          "controls": [
            {
              "sales_markdown_percentage_panel@common_store.store_offer_sales_markdown_percentage_panel": {}
            },
            {
              "fill_panel_with_markdown": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "fill", "100%" ],
                "ignored": "$is_subscription_screen",
                "controls": [
                  {
                    "fill_markdown_panel_left": {
                      "type": "panel",
                      "size": [ "fill", "100%" ]
                    }
                  },
                  {
                    "markdown_panel@common_store.offer_price_markdown_panel": {
                      "$offer_price_offset": [ 0, 3 ]
                    }
                  },
                  {
                    "padding_markdown_panel_right": {
                      "type": "panel",
                      "size": [ 2, "100%" ]
                    }
                  }
                ]
              }
            },
            {
              "coin_panel": {
                "type": "panel",
                "size": [ "100%c", "100%c" ],
                "controls": [
                  {
                    "offer_coin_icon@common_store.coin_icon": {
                      "layer": 5,
                      "offset": [ 1, 3 ],
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$offer_binding_type",
                          "binding_collection_name": "$offer_collection_name",
                          "binding_name": "#offer_coin_visible",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "padding_3": {
                "type": "panel",
                "size": [ 1, "100%" ]
              }
            },
            {
              "offer_prompt_panel@common_store.store_offer_prompt_panel": {}
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_name": "#offer_markdown_visible",
              "binding_collection_name": "$offer_collection_name",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_name": "(not #progress_visible)",
        "binding_collection_name": "$offer_collection_name",
        "binding_name_override": "#visible"
      }
    ]
  },

  "store_offer_sales_markdown_percentage_panel": {
    "type": "panel",
    "size": [ "100%c", 12 ],
    "ignored": "$is_subscription_screen",
    "controls": [
      {
        "markdown_background@common_store.markdown_background": {
          "size": [ "100%c", 12 ],
          "offset": [ -3, 2.5 ], // polish hack - aligns the banner to be flush with the bottom of the background panel
          "layer": 9, // Needs to be a higher layer than the strikethru text
          "$markdown_label": "common_store.row_offer_sale_markdown",
          "$timer_visible": false,
          "$icon_stack_visibility_collection": "$offer_collection_name",
          "$icon_stack_visibility_type": "$offer_binding_type"
        }
      }
    ]
  },

  "store_offer_prompt_panel": {
    "type": "panel",
    "size": [ "100%c", 12 ],
    "controls": [
      {
        "offer_status_text": {
          "type": "label",
          "color": "$coin_color",
          "size": [ "default", 10 ],
          "offset": [ 0, 0.5 ],
          "text": "#offer_prompt_text",
          "font_type": "smooth",
          "layer": 4,
          "tts_override_control_value": "#tts_offer_prompt_text",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_name": "#offer_prompt_text",
              "binding_collection_name": "$offer_collection_name"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_name": "#offer_prompt_text_visibility",
              "binding_collection_name": "$offer_collection_name",
              "binding_name_override": "#visible"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_name": "#tts_offer_prompt_text",
              "binding_collection_name": "$offer_collection_name"
            }
          ]
        }
      }
    ]
  },

  "featured_key_art": {
    "type": "panel",
    "controls": [
      {
        "bg@common_store.banner_fill": {
          "layer": 3,
          "$featured_texture_path|default": "#key_art_texture_path",
          "$featured_texture_file_system|default": "#key_art_texture_file_system",
          "$featured_item_does_not_meet_requirements|default": "#item_does_not_meet_requirements",
          "$new_featured_offer|default": "#new_offer_icon_visible",
          "controls": [
            {
              "featured_key_art": {
                "type": "image",
                "layer": 4,
                "size": [ "100% - 2px", "100% - 2px" ],
                "bilinear": true,
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$hero_offer_binding_type",
                    "binding_collection_name": "$hero_offer_collection_name",
                    "binding_name": "$featured_texture_path",
                    "binding_name_override": "#texture"
                  },
                  {
                    "binding_type": "$hero_offer_binding_type",
                    "binding_collection_name": "$hero_offer_collection_name",
                    "binding_name": "$featured_texture_file_system",
                    "binding_name_override": "#texture_file_system"
                  },
                  {
                    "binding_type": "$hero_offer_binding_type",
                    "binding_collection_name": "$hero_offer_collection_name",
                    "binding_name": "$featured_item_does_not_meet_requirements",
                    "binding_name_override": "#grayscale"
                  }
                ]
              }
            },
            {
              "progress_loading@common_store.progress_loading": {
                "size": [ "100%", "100%" ],
                "$source_control_name": "featured_key_art",
                "$source_property_name": "(#texture = '')",
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "$hide_failure_text": true
              }
            },
            {
              "new_offer_icon@common_store.status_new_offer_icon": {
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$hero_offer_binding_type",
                    "binding_collection_name": "$hero_offer_collection_name",
                    "binding_name": "$new_featured_offer",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "focus_border@common.square_image_border_white": {
          "color": "$border_color",
          "layer": 9
        }
      }
    ]
  },

  "price_panel": {
    "type": "stack_panel",
    "size": [ "100%c", 11 ],
    "orientation": "horizontal",
    "controls": [
      {
        "featured_icon_panel": {
          "type": "panel",
          "size": [ "100%c", 11 ],
          "controls": [
            {
              "featured_offer_coin_icon@common_store.coin_icon": {
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$hero_offer_binding_type",
                    "binding_collection_name": "$hero_offer_collection_name",
                    "binding_name": "#offer_coin_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "price_label_panel": {
          "type": "panel",
          "size": [ "100%c", 11 ],
          "controls": [
            {
              "price@common_store.label": {
                "size": [ "default", 10 ],
                "text": "#offer_prompt_text",
                "font_type": "smooth",
                "offset": [ 1, -1 ],
                "color": "$coin_color",
                "anchor_from": "bottom_right",
                "anchor_to": "bottom_right",
                "tts_override_control_value": "#tts_offer_prompt_text",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$hero_offer_binding_type",
                    "binding_collection_name": "$hero_offer_collection_name",
                    "binding_name": "#offer_prompt_text"
                  },
                  {
                    "binding_type": "$hero_offer_binding_type",
                    "binding_name": "#offer_prompt_text_visibility",
                    "binding_collection_name": "$hero_offer_collection_name",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_type": "$hero_offer_binding_type",
                    "binding_name": "#tts_offer_prompt_text",
                    "binding_collection_name": "$hero_offer_collection_name"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "padding": {
          "type": "panel",
          "size": [ 2, "100%" ]
        }
      }
    ]
  },

  "vertical_padding_4": {
    "type": "panel",
    "size": [ 0, 4 ]
  },

  "vertical_padding_2": {
    "type": "panel",
    "size": [ 0, 2 ]
  },

  "sdl_vertical_padding_fill": {
    "type": "panel",
    "$is_non_scrollable_sdl_screen|default": false,
    "$sdl_vertical_padding_fill_size": [ "100%", 0 ],
    "variables": [
      {
        "requires": "$is_non_scrollable_sdl_screen",
        "$sdl_vertical_padding_fill_size": [ "100%", "fill" ]
      }
    ],
    "size": "$sdl_vertical_padding_fill_size"
  },

  "footer": {
    "type": "panel",
    "visible": "$requires_restore_button",
    "size": [ "100%", "100%c + 4px" ],
    "clip_state_change_event": "$store_factory_clipping_event",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      }
    ],
    "controls": [
      {
        "restore_purchases@common_store.restore_purchases": {
          "size": [ "28%", 30 ]
        }
      }
    ]
  },

  "store_section_panel": {
    "type": "panel",
    "size": [ "100%", "100%cm + 4px" ],
    "focus_container": "$allows_sdl_section_focus_container",
    "$store_section_focus_wrap_enabled|default": false,
    "$store_section_panel_nav_mode_left|default": "$main_content_focus_container_left",
    "$store_section_panel_nav_custom_left|default": "$main_content_focus_container_left_custom",
    "variables": [
      {
        "requires": "(not $allows_sdl_section_focus_container)",
        "$store_section_focus_wrap_enabled": true,
        "$store_section_panel_nav_mode_left": "none",
        "$store_section_panel_nav_custom_left": {},
        "focus_wrap_enabled": "$store_section_focus_wrap_enabled",
        "focus_navigation_mode_left": "$store_section_panel_nav_mode_left",
        "focus_container_custom_left": "$store_section_panel_nav_custom_left"
      }
    ],

    "clip_state_change_event": "$store_factory_clipping_event",

    "$store_section_header|default": "common_store.style_header",
    "$store_section_panel_name|default": "section_content",

    // factory binding vars (for when created within a factory)
    "$store_factory_collection_details|default": "none",
    "$store_factory_collection_prefix|default": "",
    "$store_factory_collection_name|default": "",

    "$ignore_store_section_visible_binding|default": false,

    "controls": [
      {
        "store_section_panel_outline": {
          "type": "image",
          "texture": "textures/ui/slider_border",
          "size": [ "100% - 6px", "100%sm + 2px" ],
          "color": "#row_outline_color",
          "bindings": [
            {
              "binding_type": "$store_factory_binding_type",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_name": "#row_outline_color",
              "binding_condition": "once",
              "binding_name_override": "#color"
            },
            {
              "binding_type": "$store_factory_binding_type",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_name": "#show_row_outline",
              "binding_condition": "once",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "section_panel": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100% - 8px", "100%c" ],
          "controls": [
            {
              "header@common_store.style_header": {}
            },
            {
              "section_panel": {
                "type": "panel",
                "size": [ "100%", "100%cm" ],
                "controls": [
                  {
                    "background": {
                      "type": "image",
                      "texture": "textures/ui/recolorable_background",
                      "size": [ "100%", "100%sm + 4px" ],
                      "color": "#row_bg_color",
                      "bindings": [
                        {
                          "binding_type": "$store_factory_binding_type",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_name": "#row_bg_color",
                          "binding_condition": "once",
                          "binding_name_override": "#color"
                        },
                        {
                          "binding_type": "$store_factory_binding_type",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_name": "#show_row_background",
                          "binding_condition": "once",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "$store_section_panel_name@$store_section_object": {}
                  }
                ]
              }
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "ignored": "$ignore_store_section_visible_binding",
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "$store_section_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "store_section_factory": {
    "type": "stack_panel",
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "orientation": "vertical",

    "$is_non_scrollable_sdl_screen|default": false,
    "$store_sdl_factory_size": [ "100%", "100%c" ],
    "variables": [
      {
        "requires": "$is_non_scrollable_sdl_screen",
        "$store_sdl_factory_size": [ "100%", "fill" ]
      }
    ],
    "size": "$store_sdl_factory_size",

    "$store_factory_clipping_event": "factory_section_shown",

    "$store_factory_collection_details": "collection_details",
    "$store_factory_binding_type": "collection",
    "$store_factory_collection_prefix": "factory",
    "$store_factory_collection_name": "factory_collection",
    "$is_subscription_screen|default": false,
    "$content_offer_panel_size|default": [ "100% - 48px", "100%" ],
    "$ignore_search_offer_content": true,
    "$always_show_layer": 200,
    "$always_show_paper_doll": 190,

    "$main_content_focus_container_left|default": "none",
    "$main_content_focus_container_left_custom|default": {},
    "$allows_sdl_section_focus_container|default": true,

    "factory": {
      "name": "store_section_factory",
      "control_ids": {
        "RecentlyViewed": "@common.empty_panel_size_y_0",
        "RelatedItems": "@common.empty_panel_size_y_0",
        "VerticalFillPadding": "@common_store.sdl_vertical_padding_fill",
        "CarouselRow": "@common_store.carousel_row_panel",
        "ScreenshotsHeroBladeRow": "@common_store.hero_blade_row_panel",
        "HeroRow": "@common_store.hero_row_panel",
        "HeroRowL2": "@common_store.hero_row_l2_panel",
        "SinglePageRow": "@common_store.static_offer_row_panel",
        "StoreRow": "@common_store.store_row_panel",
        "GridList": "@common_store.store_offer_grid_panel",
        "TextRow": "@sdl_text_row.solo_text_row",
        "VerticalGridList": "@common_store.vertical_offer_grid_panel",
        "footer_section": "@common_store.footer",
        "NavButtonRow": "@store_layout.nav_button_grid_panel",
        "ItemDescription": "@pdp.description_section",
        "PublicChangelogRow": "@pdp.changelog_section",
        "ItemSummary": "@pdp.summary_factory_object",
        "SearchBar": "@common_store.search_object",
        "ImageGallery": "@pdp.screenshot_carousel_factory_object",
        "ImageRow": "@pdp.image_gallery_factory_object",
        "LeftTextRightImage": "@pdp.left_text_right_image_factory_object",
        "RightTextLeftImage": "@pdp.right_text_left_image_factory_object",
        "SkinPreview": "@pdp.skin_pack_section_factory_object",
        "WorldView": "@pdp.panorama_view_factory_object",
        "RatingRow": "@pdp.ratings_factory_object",
        "BundleSummaryBanner": "@pdp.bundle_summary_factory_object",
        "PromoBanner": "@promo_timeline.promo_banner_factory",
        "CoinScreenRow": "@coin_purchase.main_panel",
        "PromoLanding": "@promo_timeline.promo_landing_panel",
        "ImageMessageRow": "@promo_timeline.image_message_panel",
        "CoinBundleRow": "@coin_purchase.bundle_panel",
        "VerticalLineDivider": "@common_store.vertical_line_divider_row",
        "LightDropdown": "@common_store.sdl_dropdown_header_row",
        "DropdownOptionRow": "@common_store.sdl_dropdown_data_row",
        "PersonaHeightOptions": "@persona_sdl.persona_height_options_row",
        "PersonaArmSizeOptions": "@persona_sdl.persona_arm_size_options_row",
        "CharacterSelectorRow": "@persona_sdl.character_selector",
        "DarkRedirectButton": "@persona_sdl.dark_redirect_button_panel",
        "PersonaSideSelection": "@persona_sdl.side_selection_row",
        "SkinPackList": "@persona_sdl.skin_list_section_panel",
        "ExpandedSkinPackGrid": "@persona_sdl.ExpandedSkinPackGrid",
        "Layout": "@common.empty_panel_size_y_0",
        "DropdownSection": "@sdl_dropdowns.sdl_dropdown_rows"
      },
      "factory_variables": [
        "$ignore_search_offer_content",
        "$store_factory_clipping_event",
        "$store_factory_collection_details",
        "$store_factory_collection_prefix",
        "$store_factory_collection_name",
        "$store_factory_binding_type",
        "$is_subscription_screen",
        "$is_mashup",
        "$main_content_focus_container_left",
        "$main_content_focus_container_left_custom",
        "$allows_sdl_section_focus_container",
        "$always_show_layer",
        "$always_show_paper_doll",
        "$is_non_scrollable_sdl_screen"
      ]
    },
    "collection_name": "$store_factory_collection_name",
    "bindings": [
      {
        "binding_name": "#store_section_content",
        "binding_name_override": "#collection_length"
      }
    ]
  },

  "rtx_label": {
    "type": "panel",
    "size": [ "100%", "20%" ],
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "controls": [
      {
        "banner": {
          "type": "image",
          "$banner_size|default": [ 20, 14 ],
          "size": "$banner_size",
          "texture": "textures/ui/RTX_Label",
          "layer": 2,
          "controls": [
            {
              "icon": {
                "type": "image",
                "layer": 3,
                "size": [ "default", "default" ],
                "offset": [ -3, 0 ],
                "max_size": [ "70%", "70%" ],
                "texture": "textures/ui/RTX_Sparkle"
              }
            }
          ]
        }
      }
    ]
  },

  "subscription_chevron": {
    "type": "panel",
    "size": [ "100%c", "100%c" ],
    "priority": 4,
    "$subscription_offer_binding_type|default": "",
    "$subscription_offer_collection_name|default": "",
    "$subscription_chevron_offset|default": [ 0, 1.25 ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$subscription_offer_binding_type",
        "binding_collection_name": "$subscription_offer_collection_name",
        "binding_name": "#subscription_chevron_visibility",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "subscription_chevron_panel": {
          "type": "panel",
          "size": [ 16, 12 ],
          "offset": "$subscription_chevron_offset", // polish hack - aligns the banner to be flush with the bottom of the background panel
          "controls": [
            {
              "csb_chevron@common_store.csb_banner": {
                "layer": 10,
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  }
                ]
              }
            },
            {
              // Add yellow banner behind the Chevron, visible when we are in a sale (markdown)
              "sales_banner_background@common_store.markdown_banner": {
                "size": [ "100%", "100%" ],
                "layer": 9,
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$subscription_offer_binding_type",
                    "binding_collection_name": "$subscription_offer_collection_name",
                    "binding_name": "#offer_markdown_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "csb_banner": {
    "type": "panel",
    "size": [ "100%c", "100%c" ],
    "controls": [
      {
        "banner": {
          "type": "image",
          "$banner_size|default": [ "139%y", 12 ],
          "size": "$banner_size",
          "texture": "textures/ui/csbChevronArrowLarge",
          "layer": 2
        }
      }
    ]
  },

  "pagination_content_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100% - 8px", 25 ],
    "controls": [
      {
        "padding_left": {
          "type": "panel",
          "size": [ "fill", "100%" ]
        }
      },
      {
        "first_page_button@common_buttons.light_text_button": {
          "size": [ 25, "100%" ],
          "$pressed_button_name": "button.navigate_first_page",
          "$button_text": "<<",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#first_enabled",
              "binding_name_override": "#enabled"
            }
          ]
        }
      },
      {
        "pagination_middle_buttons_panel@common_store.pagination_middle_buttons_panel": {}
      },
      {
        "padding_right_fill": {
          "type": "panel",
          "size": [ "fill", "100%" ]
        }
      },
      {
        "go_to_top_button@common_buttons.light_content_button": {
          "size": [ 25, "100%" ],
          "$pressed_button_name": "button.go_to_top",
          "$button_content": "common_store.pagination_top_button_panel",
          "$focus_id": "up_button",
          "$focus_override_left": "next_button",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            }
          ]
        }
      }
    ]
  },

  "pagination_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],
    "property_bag": {
      "#visible": false
    },
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#pagination_visible",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      { "top_padding@common.vertical_padding_8px": {} },
      { "pagination_content@common_store.pagination_content_panel": {} },
      { "bottom_padding@common.vertical_padding_8px": {} }
    ]
  },

  "store_offer_grid_panel_content": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100% - 8px", "100%c + 2px" ],
    "focus_container": "$allows_sdl_section_focus_container",
    "$focus_id": "store_offer_grid_panel_focus_id",

    "$store_offer_grid_content_focus_wrap_enabled|default": false,
    "variables": [
      {
        "requires": "(not $allows_sdl_section_focus_container)",
        "$store_offer_grid_content_focus_wrap_enabled": true,
        "focus_wrap_enabled": "$store_offer_grid_content_focus_wrap_enabled"
      }
    ],

    "controls": [
      {
        "header_centerer_panel@common.vert_stack_centering_panel": {
          "$vert_stack_centering_content": "common_store.style_header"
        }
      },
      {
        "store_offer_grid_factory@common_store.store_offer_grid_factory": {
          "size": [ "100%", "100%c" ],
          "anchor_from": "center",
          "anchor_to": "center"
        }
      },
      {
        "pagination_centerer@common.vert_stack_centering_panel": {
          "$vert_stack_centering_content": "common_store.pagination_panel"
        }
      },
      {
        "divider@common.section_divider": {
          "ignored": "(not $is_subscription_screen)"
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#offer_collection_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "store_offer_grid_panel@common.vert_stack_centering_panel": {
    "$vert_stack_centering_content": "common_store.store_offer_grid_panel_content"
  },

  "pagination_top_button_panel": {
    "type": "panel",
    "controls": [
      {
        "top_button_image@common_store.up_arrow_icon": {
          // Image isn't centered within its canvas so we offset to center. (11 x 9 image in 12 x 12 canvas)
          "offset": [ 0.5, 1.5 ]
        }
      }
    ]
  },

  "pagination_middle_buttons_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "65%", "100%" ],

    "$page_button_size": [ "fill", "100%" ],

    "controls": [
      {
        "previous_page_button@common_buttons.light_text_button": {
          "size": "$page_button_size",
          "$pressed_button_name": "button.navigate_previous_page",
          "$button_text": "store.pagination.previous",
          "$focus_id": "previous_button",
          "$focus_override_right": "next_button",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$store_factory_binding_type",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_name": "#first_enabled",
              "binding_name_override": "#enabled"
            }
          ]
        }
      },
      {
        "current_page_number_panel": {
          "type": "panel",
          "size": [ "12%", "100%" ],
          "controls": [
            {
              "current_page_number": {
                "type": "label",
                "color": "$body_text_color",
                "anchor_from": "center",
                "anchor_to": "center",
                "text_alignment": "center",
                "text": "#page_number_text",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$store_factory_binding_type",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_name": "#page_number_text"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "next_page_button@common_buttons.light_text_button": {
          "size": "$page_button_size",
          "$pressed_button_name": "button.navigate_next_page",
          "$button_text": "store.pagination.next",
          "$focus_id": "next_button",
          "$focus_override_left": "previous_button",
          "$focus_override_right": "up_button",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$store_factory_binding_type",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_name": "#next_enabled",
              "binding_name_override": "#enabled"
            }
          ]
        }
      }
    ]
  },

  "vertical_store_offer_grid_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c + 4px" ],
    "controls": [
      {
        "header@common_store.style_header": {}
      },
      {
        "centering_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "vertical_store_offer_grid_content@store_item_list.store_offer_grid": {
                "size": [ "100% - 6px", "100%c" ],
                "$store_offer_grid_prefix": "offer",
                "$store_offer_grid_collection_name": "offer_collection",
                "anchor_from": "center",
                "anchor_to": "center"
              }
            }
          ]
        }
      },
      {
        "padding_0": {
          "type": "panel",
          "size": [ "100%", 4 ]
        }
      },
      {
        "divider@common.section_divider": {
          "ignored": "(not $is_subscription_screen)"
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#offer_collection_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "carousel_row_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c + 5px" ],

    "$carousel_row_tab_collection_name|default": "carousel_tab_collection",
    "$ignore_cycle_buttons|default": false,

    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "collection",
        "binding_collection_name": "carousel_row_collection_name",
        "binding_name": "#is_carousel_row_visible",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "top_panel": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100% - 50px", 12 ],
          "controls": [
            {
              "pad_0": {
                "type": "panel",
                "size": [ 30, "100%" ]
              }
            },
            {
              "tab_names_factory_panel": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%", "100%" ],
                "offset": [ 5, 0 ],
                "layer": 2,
                "factory": {
                  "name": "tab_names_factory",
                  "control_ids": {
                    "HeroRow": "@common_store.tab_name_panel",
                    "ScreenshotsHeroBladeRow": "@common_store.tab_name_panel"
                  },
                  "factory_variables": [
                    "$store_factory_collection_name",
                    "$carousel_row_tab_collection_name"
                  ]
                },
                "collection_name": "$carousel_row_tab_collection_name",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#grey_bar_section_content",
                    "binding_name_override": "#collection_length",
                    "binding_type": "collection",
                    "binding_collection_name": "carousel_row_collection_name"
                  }
                ]
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#tab_names_visible",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "carousel_row_collection_name"
            }
          ]
        }
      },
      {
        "top_padding": {
          "type": "panel",
          "size": [ "100%", 2 ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#tab_names_visible",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "carousel_row_collection_name"
            }
          ]
        }
      },
      {
        "middle_panel": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100% - 50px", "100%cm" ],
          "controls": [
            {
              "left_button_panel": {
                "type": "panel",
                "size": [ 25, "100%sm" ],
                "controls": [
                  {
                    "left_button@common_store.cycle_pack_button": {
                      "size": [ 15, 20 ],
                      "$button_tts_header": "#cycle_left_button_accessibility_text",
                      "$pressed_button_name": "button.navigate_carousel_left",
                      "$chevron_image_name": "textures/ui/chevron_left",
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_name": "(not #is_using_gamepad)",
                          "binding_name_override": "#visible"
                        },
                        {
                          "binding_name": "#cycle_left_button_accessibility_text"
                        }
                      ]
                    }
                  },
                  {
                    "left_bumper@common.gamepad_helper_left_bumper": {
                      "$gamepad_helper_icon_size": [ 20, 20 ],
                      "bindings": [
                        {
                          "binding_name": "#is_using_gamepad",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "main_panel_factory@common_store.carousel_factory": {
                "$hero_row_size": [ "100%", "28.125%x + 24.5px" ],
                "$whole_panel_focus_override_right": "carousel_right_button"
              }
            },
            {
              "right_button_panel": {
                "type": "panel",
                "size": [ 25, "100%sm" ],
                "controls": [
                  {
                    "right_button@common_store.cycle_pack_button": {
                      "size": [ 15, 20 ],
                      "$button_tts_header": "#cycle_right_button_accessibility_text",
                      "$pressed_button_name": "button.navigate_carousel_right",
                      "$chevron_image_name": "textures/ui/chevron_right",
                      "$focus_id": "carousel_right_button",
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_name": "(not #is_using_gamepad)",
                          "binding_name_override": "#visible"
                        },
                        {
                          "binding_name": "#cycle_right_button_accessibility_text"
                        }
                      ]
                    }
                  },
                  {
                    "right_bumper@common.gamepad_helper_right_bumper": {
                      "$gamepad_helper_icon_size": [ 20, 20 ],
                      "bindings": [
                        {
                          "binding_name": "#is_using_gamepad",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "bottom_panel": {
          "type": "panel",
          "size": [ "100%", 20 ],
          "controls": [
            {
              "grey_bar_factory_panel": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%c", 5 ],
                "offset": [ 5, 0 ],
                "layer": 2,
                "factory": {
                  "name": "grey_bar_factory",
                  "control_ids": {
                    "HeroRow": "@common_store.grey_bar_panel",
                    "ScreenshotsHeroBladeRow": "@common_store.grey_bar_panel"
                  },
                  "factory_variables": [
                    "$store_factory_collection_name"
                  ]
                },
                "collection_name": "carousel_bar_collection",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#grey_bar_section_content",
                    "binding_name_override": "#collection_length",
                    "binding_type": "collection",
                    "binding_collection_name": "carousel_row_collection_name"
                  }
                ]
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "(not #tab_names_visible)",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "carousel_row_collection_name"
            }
          ]
        }
      },
      {
        "bottom_padding": {
          "type": "panel",
          "size": [ "100%", 10 ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#tab_names_visible",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "carousel_row_collection_name"
            }
          ]
        }
      },
      {
        "divider_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "divider@common.horizontal_divider": {
                "size": [ "100%- 10px", 1 ]
              }
            }
          ]
        }
      }
    ]
  },

  "carousel_factory": {
    "type": "stack_panel",
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "size": [ "100%", "100%c" ],

    "$is_subscription_screen|default": false,
    "$content_offer_panel_size|default": [ "100% - 48px", "100%c" ],

    "factory": {
      "name": "carousel_factory",
      "control_ids": {
        "HeroRow": "@common_store.hero_row_panel",
        "ScreenshotsHeroBladeRow": "@common_store.hero_blade_row_panel"
      },
      "factory_variables": [
        "$whole_panel_focus_override_right",
        "$store_factory_clipping_event",
        "$store_factory_collection_details",
        "$store_factory_collection_prefix",
        "$store_factory_collection_name",
        "$store_factory_binding_type",
        "$is_subscription_screen"
      ]
    },
    "collection_name": "carousel_row_collection_name",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "#carousel_section_content",
        "binding_name_override": "#collection_length",
        "binding_type": "collection",
        "binding_collection_name": "carousel_row_collection_name"
      }
    ]
  },

  "hero_row_l2_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c + 4px" ],
    "$ignore_creator": true,
    "$pressed_button_name": "button.select_offer",
    "controls": [
      {
        "header@common_store.style_header": {}
      },
      {
        "centering_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "l2_featured_stack": {
                "type": "stack_panel",
                "orientation": "horizontal",
                // Adjusted Y slightly after min/max came into RI to take up remaining pixel gap
                // Calculation based upon scaling four 16:9 images to maintain layout and aspect ratio
                // Formula as follows: ((100%x) * (100/177.78)/3) + 27px
                "size": [ "100% - 4px", "18.7498%x + 22px" ],
                "clip_state_change_event": "$store_factory_clipping_event",
                "$offer_size": [ "33.333% - 2px", "100%" ],
                "$offer_collection_details": "collection_details",
                "$offer_binding_type": "collection",
                "$offer_collection_prefix": "offer",
                "$offer_collection_name": "hero_row_l2_collection",
                "collection_name": "hero_row_l2_collection",

                "$content_offer_texture_type": "key_art",

                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  }
                ],
                "controls": [
                  {
                    "padding_0": {
                      "type": "panel",
                      "size": [ 1, "100%" ]
                    }
                  },
                  {
                    "featured_item_1@common_store.store_offer_grid_item": {
                      "size": "$offer_size",
                      "$button_focus_precedence": 4,
                      "collection_index": 0
                    }
                  },
                  {
                    "padding_1": {
                      "type": "panel",
                      "size": [ 2, "100%" ]
                    }
                  },
                  {
                    "featured_item_2@common_store.store_offer_grid_item": {
                      "size": "$offer_size",
                      "collection_index": 1
                    }
                  },
                  {
                    "padding_2": {
                      "type": "panel",
                      "size": [ 2, "100%" ]
                    }
                  },
                  {
                    "featured_item_3@common_store.store_offer_grid_item": {
                      "size": "$offer_size",
                      "collection_index": 2
                    }
                  },
                  {
                    "padding_3": {
                      "type": "panel",
                      "size": [ 1, "100%" ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "padding_0": {
          "type": "panel",
          "size": [ "100%", 4 ]
        }
      },
      {
        "divider@common.section_divider": {
          "ignored": "(not $is_subscription_screen)"
        }
      }
    ]
  },

  "blade_row_key_art": {
    "type": "panel",
    "controls": [
      {
        "blade_row_key_art_image": {
          "type": "image",
          "size": [ "100%", "100%" ],
          "bilinear": true,
          "$blade_row_featured_texture_path|default": "#key_art_texture_path",
          "$blade_row_featured_texture_file_system|default": "#key_art_texture_file_system",
          "$blade_row_featured_item_does_not_meet_requirements|default": "#item_does_not_meet_requirements",
          "controls": [
            {
              "key_art_border": {
                "type": "image",
                "anchor_from": "left_middle",
                "anchor_to": "left_middle",
                "size": [ "100%", "100%" ],
                "texture": "textures/ui/focus_border_white",
                "color": [ 0, 0, 0 ]
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$blade_offer_binding_type",
              "binding_collection_name": "$blade_offer_collection_name",
              "binding_name": "$blade_row_featured_texture_path",
              "binding_name_override": "#texture"
            },
            {
              "binding_type": "$blade_offer_binding_type",
              "binding_collection_name": "$blade_offer_collection_name",
              "binding_name": "$blade_row_featured_texture_file_system",
              "binding_name_override": "#texture_file_system"
            },
            {
              "binding_type": "$blade_offer_binding_type",
              "binding_collection_name": "$blade_offer_collection_name",
              "binding_name": "$blade_row_featured_item_does_not_meet_requirements",
              "binding_name_override": "#grayscale"
            }
          ]
        }
      }
    ]
  },

  "one_key_art_screenshot": {
    "type": "image",
    "bilinear": true,
    "size": [ "100%", "100%" ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "collection",
        "binding_collection_name": "blade_row_collection",
        "binding_name": "#screenshot_texture_path",
        "binding_name_override": "#texture"
      },
      {
        "binding_type": "collection",
        "binding_collection_name": "blade_row_collection",
        "binding_name": "#screenshot_texture_file_system",
        "binding_name_override": "#texture_file_system"
      }
    ]
  },

  "one_key_art_screenshot_panel": {
    "type": "panel",
    "size": [ "25%", "100%" ],
    "layer": 3,
    "$offer_background_asset|default": "common_store.store_description_background",
    "$frame_size|default": [ "100%", "100%" ],

    "controls": [
      {
        "blade_offer_frame@$offer_background_asset": {
          "size": "$frame_size",
          "layer": 3,
          "controls": [
            {
              "one_key_art_screenshot@common_store.one_key_art_screenshot": {
                "size": [ "100%", "56.25%x" ],
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "layer": 1,
                "controls": [
                  {
                    "one_key_art_frame@common.square_image_border_white": {
                      "size": [ "100%", "100%" ],
                      "color": [ 0, 0, 0 ],
                      "layer": 3
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "screenshots_grid": {
    "type": "collection_panel",
    "size": [ "100%", "100%" ],
    "layer": -9,
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "$offer_collection_name": "$blade_offer_collection_name",
    "$offer_background_asset": "common_store.store_description_background",
    "$offer_collection_details": "$blade_offer_collection_details",
    "$offer_binding_type": "$blade_offer_binding_type",
    "$offer_collection_prefix": "$blade_offer_collection_prefix",
    "collection_name": "$offer_collection_name",
    "controls": [
      {
        "screenshot_1@common_store.one_key_art_screenshot_panel": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ "50%", "50%" ],
          "offset": [ 1, 0 ],
          "collection_index": 0
        }
      },
      {
        "screenshot_2@common_store.one_key_art_screenshot_panel": {
          "size": [ "50%", "50%" ],
          "anchor_from": "top_right",
          "anchor_to": "top_right",
          "collection_index": 1
        }
      },
      {
        "screenshot_3@common_store.one_key_art_screenshot_panel": {
          "size": [ "50%", "50%" ],
          "offset": [ 1, -1 ],
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left",
          "collection_index": 2
        }
      },
      {
        "screenshot_4@common_store.one_key_art_screenshot_panel": {
          "size": [ "50%", "50%" ],
          "offset": [ 0, -1 ],
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "collection_index": 3
        }
      }
    ]
  },

  "blade_offer_details_title": {
    "type": "label",
    "size": [ "default", 10 ],
    "max_size": [ "100%", 10 ],
    "text": "#title_label",
    "color": "$body_text_color",
    "font_type": "smooth",
    "layer": 1,
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$blade_offer_binding_type",
        "binding_name": "#title_label",
        "binding_collection_name": "$blade_offer_collection_name"
      }
    ]
  },

  "blade_offer_sale_markdown": {
    "type": "label",
    "color": "$store_sales_banner_text_color",
    "size": [ "default", 10 ],
    "offset": [ 1, -0.5 ],
    "text": "#offer_markdown_percentage",
    "font_type": "smooth",
    "layer": 4,
    "anchor_from": "right_middle",
    "anchor_to": "right_middle",
    "tts_override_control_value": "#tts_offer_markdown_percentage",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$blade_offer_binding_type",
        "binding_collection_name": "$blade_offer_collection_name",
        "binding_name": "#offer_markdown_percentage"
      },
      {
        "binding_type": "$blade_offer_binding_type",
        "binding_collection_name": "$blade_offer_collection_name",
        "binding_name": "#tts_offer_markdown_percentage"
      },
      {
        "binding_type": "$blade_offer_binding_type",
        "binding_collection_name": "$blade_offer_collection_name",
        "binding_name": "#blade_markdown_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "blade_offer_description_details": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100% - 2px", "100%" ],
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right",

    "$timer_field_count_to_show": 2,

    "$ignore_creator|default": false,
    "$offer_title_binding_type": "$blade_offer_binding_type",
    "$offer_title_collection_name": "$blade_offer_collection_name",
    "$is_purchase_button": false,

    "controls": [
      {
        "blade_title_stack": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", 10 ],
          "controls": [
            {
              "blade_title@common_store.blade_offer_details_title": {}
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            }
          ]
        }
      },
      {
        "blade_offer_creator_label@common_store.store_offer_item_creator_panel": {}
      },
      {
        "blade_offer_description_padding_2": {
          "type": "panel",
          "size": [ "100%", "fill" ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            }
          ]
        }
      },
      {
        "ratings_and_coins": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", 13 ],
          "layer": 2,
          "controls": [
            {
              "blade_sales_markdown_percentage_panel": {
                "type": "panel",
                "size": [ "100%c", 12 ],
                "anchor_from": "left_middle",
                "anchor_to": "left_middle",
                "$timer_visible": true,
                "controls": [
                  {
                    "blade_markdown_background@common_store.markdown_background": {
                      "layer": 9, // Needs to be a higher layer than the strikethru text
                      "$markdown_label": "common_store.blade_offer_sale_markdown",
                      "offset": [ -2, 1 ],
                      "$icon_stack_visibility_collection": "$blade_offer_collection_name",
                      "$icon_stack_visibility_type": "$blade_offer_binding_type",
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$blade_offer_binding_type",
                          "binding_collection_name": "$blade_offer_collection_name",
                          "binding_name": "#offer_markdown_visible",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "$timer_bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$blade_offer_binding_type",
                          "binding_collection_name": "$blade_offer_collection_name",
                          "binding_name": "$time_text_binding_name",
                          "binding_condition": "always_when_visible"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "ratings_panel": {
                "type": "panel",
                "size": [ "100%c", "100%" ],
                "controls": [
                  {
                    "blade_ratings@common_store.ratings_description": {
                      "$rating_text_factory_collection_details": "$store_factory_collection_details",
                      "$rating_text_factory_collection_prefix": "$store_factory_collection_prefix",
                      "$rating_text_factory_collection_name": "$store_factory_collection_name",

                      "$rating_text_binding_type": "$blade_offer_binding_type",
                      "$rating_text_collection_name": "$blade_offer_collection_name"
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$blade_offer_binding_type",
                    "binding_collection_name": "$blade_offer_collection_name",
                    "binding_name": "#ratings_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "blade_rating_count_panel@common_store.store_rating_count_panel": {
                "$rating_text_binding_type": "$blade_offer_binding_type",
                "$rating_text_collection_name": "$blade_offer_collection_name"
              }
            },
            {
              "fill_padding": {
                "type": "panel",
                "size": [ "fill", "100%" ]
              }
            },
            {
              "blade_offer_price_markdown_panel@common_store.offer_price_markdown_panel": {
                "$offer_binding_type": "$blade_offer_binding_type",
                "$offer_collection_name": "$blade_offer_collection_name"
              }
            },
            {
              "price_panel": {
                "type": "panel",
                "size": [ "100%c", "100%" ],
                "controls": [
                  {
                    "price@common_store.price_panel": {
                      "anchor_from": "bottom_right",
                      "anchor_to": "bottom_right",
                      "$hero_offer_binding_type": "$blade_offer_binding_type",
                      "$hero_offer_collection_name": "$blade_offer_collection_name"
                    }
                  }
                ]
              }
            },
            {
              "price_panel_padding_right": {
                "type": "panel",
                "size": [ 2, "100%" ]
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$blade_offer_binding_type",
              "binding_name": "(not #progress_visible)",
              "binding_collection_name": "$blade_offer_collection_name",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "blade_offer_description_padding_3": {
          "type": "panel",
          "size": [ "100%", 2 ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            }
          ]
        }
      }
    ]
  },

  "screenshots_and_offer_details_panel": {
    "type": "panel",
    "layer": -3,
    "controls": [
      {
        "blade_offer_screenshots_grid@common_store.screenshots_grid": {
          "size": [ "100%", "56.25%x - 0.4375px" ],
          "anchor_from": "top_left",
          "anchor_to": "top_left"
        }
      },
      {
        "blade_offer_description_area@common_store.store_description_background": {
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "$description_background_alpha": 0.9,
          "size": [ "100% - 1px", "100% - 56.25%x + 1.4375px" ],
          "controls": [
            {
              "blade_offer_description_border": {
                "type": "image",
                "anchor_from": "left_middle",
                "anchor_to": "left_middle",
                "layer": 1,
                "size": [ "100%", "100%" ],
                "texture": "textures/ui/focus_border_white",
                "color": [ 0, 0, 0 ]
              }
            },
            {
              "hero_blade_offer_description_details@common_store.blade_offer_description_details": {}
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            }
          ]
        }
      }
    ]
  },

  "blade_row_featured_panel": {
    "type": "panel",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "$blade_row_size|default": [ "100%", "100%" ],
    "size": "$blade_row_size",
    "controls": [
      {
        "blade_row_featured_key_art@common_store.blade_row_key_art": {
          "size": [ "61.56% + 1.75px", "100%" ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "layer": -2,
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$blade_offer_collection_details",
              "binding_collection_name": "$blade_offer_collection_name",
              "binding_collection_prefix": "$blade_offer_collection_prefix"
            }
          ]
        }
      },
      {
        "blade_offer_screenshots_and_details_panel@common_store.screenshots_and_offer_details_panel": {
          "type": "panel",
          "size": [ "38.44%", "100%" ],
          "anchor_from": "top_right",
          "anchor_to": "top_right"
        }
      }
    ]
  },

  "transparent_content_button@common_buttons.light_content_button": {
    "$button_image": "common_buttons.button_image",
    "$button_content_size": [ "100% + 1px", "100%" ],
    "$default_button_texture": "",
    "$hover_button_texture": "",
    "$pressed_button_texture": "",
    "$locked_button_texture": "",

    "$button_offset": [ 0, 0 ]
  },

  "hero_blade_row_panel": {
    "type": "panel",
    "size": [ "100%", "34.628%x + 2px" ], // The y value is = ((100%)/177.78%)*61.56% for the 16:9 aspect ratio of the key art taking up 61.56% of screen width
    "$blade_offer_collection_details|default": "collection_details",
    "$blade_offer_binding_type|default": "collection",
    "$blade_offer_collection_prefix|default": "blade",
    "$blade_offer_collection_name|default": "blade_row_collection",

    "controls": [
      {
        "blade_row_transparent_button@common_store.transparent_content_button": {
          "size": [ "100%", "100%" ],
          "layer": -1,
          "$pressed_button_name": "button.select_blade_offer",
          "$button_content": "common_store.blade_row_featured_panel",
          "button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_ok",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_tab_right",
              "to_button_id": "button.navigate_carousel_right",
              "mapping_type": "focused"
            },
            {
              "from_button_id": "button.menu_tab_left",
              "to_button_id": "button.navigate_carousel_left",
              "mapping_type": "focused"
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "collection",
              "binding_collection_name": "carousel_row_collection_name",
              "binding_name": "#offer_button_focus_id",
              "binding_name_override": "#focus_identifier"
            }
          ]
        }
      }
    ]
  },

  "hero_row_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c + 4px" ],

    "$store_factory_collection_details|default": "none",
    "$store_factory_collection_prefix|default": "",
    "$store_factory_collection_name|default": "",

    "$hero_offer_collection_details|default": "collection_details",
    "$hero_offer_binding_type|default": "collection",
    "$hero_offer_collection_prefix|default": "offer",
    "$hero_offer_collection_name|default": "hero_row_collection",

    "$offer_button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "button.navigate_carousel_right",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "button.navigate_carousel_left",
        "mapping_type": "focused"
      }
    ],

    "controls": [
      {
        "header@common_store.style_header": {}
      },
      {
        "centering_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "featured_stack": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "$hero_row_size|default": [ "100% - 8px", "28.125%x + 24.5px" ], // The y value is = ((100%)/177.78%)*50% for the 16:9 aspect ratio of the key art taking up half the screen width
                "size": "$hero_row_size",
                "collection_name": "$hero_offer_collection_name",
                "clip_state_change_event": "$store_factory_clipping_event",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  }
                ],
                "controls": [
                  {
                    "hero_offer@common_buttons.single_image_with_border_button": {
                      "size": [ "50% + 42px", "100%" ],
                      "collection_index": 0,
                      "$button_content": "common_store.hero_offer",
                      "$pressed_button_name": "button.select_offer",
                      "$button_content_size": [ "100%", "100%" ],
                      "$border_visible": false,
                      "$button_focus_precedence": 10,
                      "$button_pressed_offset": [ 0, 0 ],
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$hero_offer_collection_details",
                          "binding_collection_name": "$hero_offer_collection_name",
                          "binding_collection_prefix": "$hero_offer_collection_prefix"
                        }
                      ],
                      "button_mappings": "$offer_button_mappings"
                    }
                  },
                  {
                    "padding_0": {
                      "type": "panel",
                      "size": [ 4, "100%" ]
                    }
                  },
                  {
                    "hero_offer_grid@common_store.hero_offer_grid": {}
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "padding_0": {
          "type": "panel",
          "size": [ "100%", 4 ]
        }
      },
      {
        "divider@common.section_divider": {
          "ignored": "(not $is_subscription_screen)"
        }
      }
    ]
  },

  "hero_offer": {
    "type": "panel",
    "controls": [
      {
        "featured_key_art@common_store.featured_key_art": {
          "size": [ "100%", "100%" ]
        }
      },
      {
        "rtx_label@common_store.rtx_label": {
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left",
          "size": [ 20, 15 ],
          "offset": [ 1, 0 ],
          "layer": 6,
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$hero_offer_binding_type",
              "binding_collection_name": "$hero_offer_collection_name",
              "binding_name": "#rtx_label_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "offer_description_area@common_store.store_description_background": {
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "$description_background_alpha": 0.9,
          "size": [ 120, "100%c" ],
          "layer": 8,
          "controls": [
            {
              "hero_offer_description_details@common_store.hero_offer_description_details": {}
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            }
          ]
        }
      }
    ]
  },

  "hero_offer_details_title": {
    "type": "label",
    "size": [ "default", 10 ],
    "max_size": [ "100%", 10 ],
    "text": "#title_label",
    "color": "$body_text_color",
    "font_type": "smooth",
    "layer": 1,
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$hero_offer_binding_type",
        "binding_name": "#title_label",
        "binding_collection_name": "$hero_offer_collection_name"
      }
    ]
  },

  "hero_offer_description_details": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100% - 4px", 35.75 ],
    "offset": [ -2, 0 ],
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right",

    "$timer_field_count_to_show": 2,

    "$ignore_creator|default": false,
    "$offer_title_binding_type": "$hero_offer_binding_type",
    "$offer_title_collection_name": "$hero_offer_collection_name",
    "$is_purchase_button": false,
    "controls": [
      {
        "hero_title_stack": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", 10 ],
          "controls": [
            {
              "title@common_store.hero_offer_details_title": {}
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$hero_offer_binding_type",
              "binding_name": "(not #progress_visible)",
              "binding_collection_name": "$hero_offer_collection_name",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "padding_5": {
          "type": "panel",
          "size": [ "100%", 10 ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$hero_offer_binding_type",
              "binding_name": "#progress_visible",
              "binding_collection_name": "$hero_offer_collection_name",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "progress@common_store.hero_offer_download_progress": {
          "size": [ "100%", 24 ],
          "layer": 6
        }
      },
      {
        "creator_label@common_store.store_offer_item_creator_panel": {}
      },
      {
        "padding_0": {
          "type": "panel",
          "size": [ "100%", 2 ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$hero_offer_binding_type",
              "binding_collection_name": "$hero_offer_collection_name",
              "binding_name": "#is_creator_label_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "durable_offer_info_panel": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100%", "100%c" ],
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$hero_offer_binding_type",
              "binding_name": "(not #progress_visible)",
              "binding_collection_name": "$hero_offer_collection_name",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            {
              "offer_status_panel": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%", 13 ],
                "anchor_from": "bottom_left",
                "anchor_to": "bottom_left",
                "layer": 2,
                "use_priority": true,
                "controls": [
                  {
                    "subscription_panel@common_store.subscription_chevron": {
                      "$subscription_offer_collection_name": "$hero_offer_collection_name",
                      "$subscription_offer_binding_type": "$hero_offer_binding_type",
                      "$subscription_chevron_offset": [ -1, 1 ]
                    }
                  },
                  {
                    "sales_markdown_percentage_panel": {
                      "type": "panel",
                      "size": [ "100%c", 12 ],
                      "anchor_from": "left_middle",
                      "anchor_to": "left_middle",
                      "$timer_visible": true,
                      "priority": 2,
                      "controls": [
                        {
                          "markdown_background@common_store.markdown_background": {
                            "layer": 9, // Needs to be a higher layer than the strikethru text
                            "$markdown_label": "common_store.hero_offer_sale_markdown",
                            "offset": [ -1, 1 ],
                            "$icon_stack_visibility_collection": "$hero_offer_collection_name",
                            "$icon_stack_visibility_type": "$hero_offer_binding_type",
                            "bindings": [
                              {
                                "binding_type": "$store_factory_collection_details",
                                "binding_collection_name": "$store_factory_collection_name",
                                "binding_collection_prefix": "$store_factory_collection_prefix"
                              },
                              {
                                "binding_type": "$hero_offer_binding_type",
                                "binding_collection_name": "$hero_offer_collection_name",
                                "binding_name": "#offer_markdown_visible",
                                "binding_name_override": "#visible"
                              }
                            ],
                            "$timer_bindings": [
                              {
                                "binding_type": "$store_factory_collection_details",
                                "binding_collection_name": "$store_factory_collection_name",
                                "binding_collection_prefix": "$store_factory_collection_prefix"
                              },
                              {
                                "binding_type": "$hero_offer_binding_type",
                                "binding_collection_name": "$hero_offer_collection_name",
                                "binding_name": "$time_text_binding_name",
                                "binding_condition": "always_when_visible"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "ratings_panel": {
                      "type": "panel",
                      "size": [ "100%c", "100%" ],
                      "priority": 6,
                      "controls": [
                        {
                          "ratings@common_store.ratings_description": {
                            "$rating_text_factory_collection_details": "$store_factory_collection_details",
                            "$rating_text_factory_collection_prefix": "$store_factory_collection_prefix",
                            "$rating_text_factory_collection_name": "$store_factory_collection_name",

                            "$rating_text_binding_type": "$hero_offer_binding_type",
                            "$rating_text_collection_name": "$hero_offer_collection_name"
                          }
                        }
                      ],
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$hero_offer_binding_type",
                          "binding_collection_name": "$hero_offer_collection_name",
                          "binding_name": "#ratings_visible",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "rating_count_panel@common_store.store_rating_count_panel": {
                      "$rating_text_binding_type": "$hero_offer_binding_type",
                      "priority": 5,
                      "$rating_text_collection_name": "$hero_offer_collection_name"
                    }
                  },
                  {
                    "pack_icon_panel": {
                      "type": "panel",
                      "size": [ "100%c", "100%" ],
                      "priority": 3,
                      "controls": [
                        {
                          "pack_icon_stack@common_store.pack_icon_stack": {
                            "$icon_stack_visibility": "#hero_featured_pack_icon_section_visible",
                            "$icon_stack_visibility_type": "$hero_offer_binding_type",
                            "$icon_stack_visibility_collection": "$hero_offer_collection_name",
                            "$is_purchase_button": false,
                            "offset": [ 0, 2 ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "fill_padding": {
                      "type": "panel",
                      "size": [ "fill", "100%" ]
                    }
                  },
                  {
                    "offer_price_markdown_panel@common_store.offer_price_markdown_panel": {
                      "$offer_binding_type": "$hero_offer_binding_type",
                      "priority": 1,
                      "$offer_collection_name": "$hero_offer_collection_name"
                    }
                  },
                  {
                    "price_panel": {
                      "type": "panel",
                      "size": [ "100%c", "100%" ],
                      "priority": 0,
                      "controls": [
                        {
                          "price@common_store.price_panel": {
                            "offset": [ 0, -1 ],
                            "anchor_from": "bottom_right",
                            "anchor_to": "bottom_right"
                          }
                        }
                      ]
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "padding_1": {
          "type": "panel",
          "size": [ "100%", 0.75 ]
        }
      }
    ]
  },

  "hero_offer_download_progress": {
    "type": "panel",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$hero_offer_binding_type",
        "binding_collection_name": "$hero_offer_collection_name",
        "binding_name": "#progress_visible",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "label": {
          "type": "label",
          "font_type": "smooth",
          "color": "$body_text_color",
          "layer": 7,
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ "100%", "100%" ],
          "offset": [ 3, 2 ],
          "text": "#offer_download_progress_label",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$hero_offer_binding_type",
              "binding_collection_name": "$hero_offer_collection_name",
              "binding_name": "#offer_download_progress_label"
            }
          ]
        }
      },
      {
        "bar@common_store.store_progress_bar_icon": {
          "size": [ "100% - 4px", 5 ],
          "offset": [ 2, -2 ],
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left",
          "$progress_bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$hero_offer_binding_type",
              "binding_collection_name": "$hero_offer_collection_name",
              "binding_name": "#progress_percentage",
              "binding_name_override": "#clip_ratio"
            }
          ]
        }
      }
    ]
  },

  "rating_text_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", "100%" ],
    "offset": [ 0, 1 ],
    "$rating_panel_anchor|default": "bottom_left",
    "anchor_from": "$rating_panel_anchor",
    "anchor_to": "$rating_panel_anchor",

    "$control_id|default": "",

    // factory binding vars
    "$rating_text_factory_collection_details|default": "none",
    "$rating_text_factory_collection_prefix|default": "",
    "$rating_text_factory_collection_name|default": "",

    // rating binding vars
    "$rating_text_binding_type|default": "global",
    "$rating_text_collection_name|default": "",

    "$rating_text_ignore_left_padding|default": false,
    "$rating_text_padding_size|default": [ 1, "100%" ],
    "$rating_label_text_binding|default": "#rating_text",
    "$rating_star_offset|default": [ 0, -1 ],
    "controls": [
      {
        "left_padding": {
          "ignored": "$rating_text_ignore_left_padding",
          "type": "panel",
          "size": "$rating_text_padding_size"
        }
      },
      {
        "star_panel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "rating_star": {
                "type": "image",
                "offset": "$rating_star_offset",
                "layer": 1,
                "color": "$store_rating_text_panel_color",
                "texture": "textures/ui/ratings_fullstar",
                "size": [ 8, 8 ],
                "bilinear": true
              }
            }
          ]
        }
      },
      {
        "middle_padding": {
          "type": "panel",
          "size": [ 2, "100%" ]
        }
      },
      {
        "rating_label": {
          "type": "label",
          "size": [ "default", "100%" ],
          "layer": 1,
          "font_type": "smooth",
          "color": "$store_rating_text_panel_color",
          "text": "$rating_label_text_binding",
          "bindings": [
            {
              "binding_type": "$rating_text_factory_collection_details",
              "binding_collection_name": "$rating_text_factory_collection_name",
              "binding_collection_prefix": "$rating_text_factory_collection_prefix"
            },
            {
              "binding_type": "$rating_text_binding_type",
              "binding_collection_name": "$rating_text_collection_name",
              "binding_name": "$rating_label_text_binding"
            }
          ]
        }
      }
    ],
    "property_bag": {
      "control_id": "$control_id"
    }
  },

  "ratings_description": {
    "type": "panel",
    "size": [ "100%c", "100%" ],
    "controls": [
      {
        "rating_text_panel@common_store.rating_text_panel": {
          "$offer_collection_name": "",
          "$offer_category_collection_name": "",
          "$rating_panel_anchor": "left_middle",
          "$rating_text_ignore_left_padding": true
        }
      }
    ]
  },

  "store_rating_count_panel": {
    "type": "panel",
    // ADO 722860: Width is constant so the rating count does not appear without the star average rating.
    "size": [ 25, "100%" ],
    "priority": 5,
    "$rating_text_binding_type|default": "global",
    "$rating_text_collection_name|default": "",
    "controls": [
      {
        "rating_count_text": {
          "type": "label",
          "size": [ "default", "100%" ],
          "offset": [ 0, 1 ],
          "layer": 1,
          "font_type": "smooth",
          "color": "$store_rating_text_panel_color",
          "text": "#ratings_count_text",
          "anchor_to": "bottom_left",
          "anchor_from": "bottom_left",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$rating_text_binding_type",
              "binding_collection_name": "$rating_text_collection_name",
              "binding_name": "#ratings_count_text"
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$rating_text_binding_type",
        "binding_collection_name": "$rating_text_collection_name",
        "binding_name": "(not (#ratings_count_text = ''))",
        "binding_name_override": "#visible"
      }
    ]
  },

  "hero_offer_grid": {
    "type": "stack_panel",
    "size": [ "fill", "100%" ],
    "orientation": "vertical",
    "$is_hero_offer": true,
    "$ignore_creator": true,
    "$offer_background_asset": "common_store.store_description_background",
    "$frame_size": [ "100%", "100%" ],
    "$pressed_button_name": "button.select_offer",

    "$timer_field_count_to_show": 2,

    "$offer_collection_details": "collection_details",
    "$offer_binding_type": "$hero_offer_binding_type",
    "$offer_collection_prefix": "$hero_offer_collection_prefix",
    "$offer_collection_name": "$hero_offer_collection_name",
    "$whole_panel_focus_override_right|default": "FOCUS_OVERRIDE_STOP",

    "$timer_bindings|default": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "collection",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "$time_text_binding_name",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$offer_collection_name"
      }
    ],
    "controls": [
      {
        "row_1": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", "50% - 2px" ],
          "collection_name": "$offer_collection_name",
          "controls": [
            {
              "offer_1@common_store.store_offer_grid_item": {
                "size": [ "50% - 2px", "100%" ],
                "collection_index": 1
              }
            },
            {
              "padding_0": {
                "type": "panel",
                "size": [ 4, "100%" ]
              }
            },
            {
              "offer_2@common_store.store_offer_grid_item": {
                "size": [ "50% - 2px", "100%" ],
                "collection_index": 2,
                "$focus_override_right": "$whole_panel_focus_override_right"
              }
            }
          ]
        }
      },
      {
        "padding_0": {
          "type": "panel",
          "size": [ "100%", 4 ]
        }
      },
      {
        "row_2": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", "50% - 2px" ],
          "collection_name": "$offer_collection_name",
          "controls": [
            {
              "offer_1@common_store.store_offer_grid_item": {
                "size": [ "50% - 2px", "100%" ],
                "collection_index": 3
              }
            },
            {
              "padding_0": {
                "type": "panel",
                "size": [ 4, "100%" ]
              }
            },
            {
              "offer_2@common_store.store_offer_grid_item": {
                "size": [ "50% - 2px", "100%" ],
                "collection_index": 4,
                "$focus_override_right": "$whole_panel_focus_override_right"
              }
            }
          ]
        }
      }
    ]
  },

  "offer_download_progress": {
    "type": "panel",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#progress_visible",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "label": {
          "type": "label",
          "font_type": "smooth",
          "color": "$body_text_color",
          "layer": 7,
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ "100%", "100%" ],
          "offset": [ 3, 2 ],
          "text": "#offer_download_progress_label",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#offer_download_progress_label",
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name"
            }
          ]
        }
      },
      {
        "bar@common_store.store_progress_bar_icon": {
          "size": [ "100% - 4px", 5 ],
          "offset": [ 2, -2 ],
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left",
          "$progress_bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name",
              "binding_name": "#progress_percentage",
              "binding_name_override": "#clip_ratio"
            }
          ]
        }
      }
    ]
  },

  "banner_button@common_buttons.new_ui_width_fitting_button_panel": {
    "size": [ "100%c", 16 ],
    "$button_type_panel": "common_buttons.width_fitting_button_content_panel",
    "$button_content": "common_store.promo_banner_button_content",
    "$button_size_override": [ "100%c + 8px", "100%" ],
    "$anchor": "bottom_left",
    "layer": 4,
    "$focus_id": "banner_button",
    "$focus_override_up": "banner_full_button",
    "$pressed_button_name": "button.promotion_page",
    "bindings": [
      {
        "binding_name": "#promo_page_is_ready",
        "binding_name_override": "#enabled"
      }
    ]
  },

  "sdl_text_aligned_panel@common_store.sdl_content_aligned_panel": {
    "$aligned_control": "common_store.sdl_aligned_text",
    "$aligned_text_font_type|default": "smooth",
    "$aligned_text_scale_factor|default": 1,
    "$aligned_text_color|default": "$body_text_color",
    "$aligned_text|default": "",
    "$text_color_binding_type|default": "none"
  },

  "sdl_text_minecraftTen_aligned_panel@common_store.sdl_content_aligned_panel": {
    "$aligned_control": "common_store.sdl_aligned_minecraftTen_text",
    "$aligned_text_scale_factor|default": 1,
    "$aligned_text_color|default": "$body_text_color",
    "$aligned_text|default": "",
    "$text_color_binding_type|default": "none"
  },

  "sdl_content_aligned_panel": {
    "type": "stack_panel",
    "size": [ "100%", "100%cm" ],
    "orientation": "horizontal",
    "$left_padding_visible_binding|default": "",
    "$right_padding_visible_binding|default": "",
    "$alignment_binding_type|default": "none",
    "$alignment_collection_name|default": "",

    "$aligned_control|default": "common.empty_panel",
    "controls": [
      {
        "left__padding_panel": {
          "size": [ "fill", "100%sm" ],
          "type": "panel",
          "bindings": [
            {
              "binding_name": "$left_padding_visible_binding",
              "binding_type": "$alignment_binding_type",
              "binding_collection_name": "$alignment_collection_name",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "control@$aligned_control": {}
      },
      {
        "right_padding_panel": {
          "size": [ "fill", "100%sm" ],
          "type": "panel",
          "bindings": [
            {
              "binding_name": "$right_padding_visible_binding",
              "binding_type": "$alignment_binding_type",
              "binding_collection_name": "$alignment_collection_name",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "sdl_aligned_text": {
    "type": "label",
    "size": [ "default", "default" ],
    "max_size": [ "40%", 20 ],
    "font_type": "$aligned_text_font_type",
    "font_scale_factor": "$aligned_text_scale_factor",
    "color": "$aligned_text_color",
    "text": "$aligned_text",
    "bindings": [
      {
        "binding_name": "$aligned_text",
        "binding_type": "$alignment_binding_type",
        "binding_collection_name": "$alignment_collection_name"
      },
      {
        "binding_name": "$aligned_text_color",
        "binding_type": "$text_color_binding_type",
        "binding_collection_name": "$alignment_collection_name",
        "binding_name_override": "#color"
      }
    ]
  },

  "sdl_aligned_minecraftTen_text@common.minecraftTenLabel": {
    "size": [ "default", "default" ],
    "max_size": [ "100%", "default" ],
    "font_scale_factor": "$aligned_text_scale_factor",
    "color": "$aligned_text_color",
    "text": "$aligned_text",
    "bindings": [
      {
        "binding_name": "$aligned_text",
        "binding_type": "$alignment_binding_type",
        "binding_collection_name": "$alignment_collection_name"
      },
      {
        "binding_name": "$aligned_text_color",
        "binding_type": "$text_color_binding_type",
        "binding_collection_name": "$alignment_collection_name",
        "binding_name_override": "#color"
      }
    ]
  },

  //--------------------------------------------------------------------------------
  // Content offer carousel
  //--------------------------------------------------------------------------------

  "content_offer_key_art": {
    "type": "image",
    "size": [ "100% - 2px", "100% - 2px" ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "collection_details",
        "binding_collection_name": "category_collection",
        "binding_collection_prefix": "category"
      },
      {
        "binding_type": "collection",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "('#' + $content_offer_texture_type + '_texture_path')",
        "binding_name_override": "#texture"
      },
      {
        "binding_type": "collection",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "('#' + $content_offer_texture_type + '_texture_file_system')",
        "binding_name_override": "#texture_file_system"
      },
      {
        "binding_name": "#item_does_not_meet_requirements",
        "binding_name_override": "#grayscale",
        "binding_type": "collection",
        "binding_collection_name": "$offer_collection_name"
      }
    ]
  },

  "vertical_content_offer_header@common_store.store_description_background": {
    "size": [ "100%", "16px" ],
    "layer": 3,
    "controls": [
      {
        "header@common_store.sdl_text_aligned_panel": {
          "$aligned_text_scale_factor": 1.2,
          "$aligned_text": "#section_header",
          "$aligned_text_color": "#section_header_color",
          "$text_color_binding_type": "$store_factory_binding_type",
          "$alignment_binding_type": "$store_factory_binding_type",
          "$alignment_collection_name": "$store_factory_collection_name",
          "$right_padding_visible_binding": "#header_right_padding_visible",
          "$left_padding_visible_binding": "#header_left_padding_visible",
          "layer": 2
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#section_title_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "vertical_content_offer_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],

    "$store_factory_collection_name": "factory_collection",

    "$offer_collection_type": "collection",
    "$offer_collection_name": "vertical_offer_collection",
    "collection_name": "$offer_collection_name",

    "factory": {
      "name": "vertical_row_factory",
      "control_ids": {
        "vertical_coin_offer_content": "@common_store.vertical_coin_offer_content",
        "vertical_offer_content": "@common_store.vertical_offer_content"
      },
      "factory_variables": [
        "$store_factory_collection_details",
        "$store_factory_collection_prefix",
        "$store_factory_collection_name",
        "$offer_collection_name",
        "$offer_collection_type"
      ]
    },
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "#vertical_section_content",
        "binding_name_override": "#collection_length"
      }
    ]
  },

  "vertical_offer_grid_panel@common_store.store_section_panel": {
    "$ignore_store_section_visible_binding": true,
    "$store_section_header": "common_store.vertical_content_offer_header",
    "$store_section_object": "common_store.vertical_content_offer_panel"
  },

  "offer_content": {
    "type": "panel",
    "size": [ "100%", "20%x" ],
    "controls": [
      {
        "offer_item@common_store.store_offer_grid_item": {}
      }
    ]
  },

  "vertical_offer_content": {
    "type": "panel",
    "size": [ "100%", "36px" ],
    "controls": [
      {
        "offer_item@common_store.vertical_store_offer_grid_item": {
          "$offer_collection_details": "collection_details",
          "$offer_binding_type": "collection",
          "$offer_collection_prefix": "offer",
          "$offer_collection_name": "vertical_offer_collection"
        }
      }
    ]
  },

  "vertical_coin_offer_content": {
    "type": "panel",
    "size": [ "100%", "36px" ],
    "controls": [
      {
        "offer_item@common_store.vertical_store_coin_offer_grid_item": {
          "$offer_collection_details": "collection_details",
          "$offer_binding_type": "collection",
          "$offer_collection_prefix": "offer",
          "$offer_collection_name": "vertical_offer_collection"
        }
      }
    ]
  },

  //--------------------------------------------------------------------------------
  // Store offer carousel
  //--------------------------------------------------------------------------------

  "store_offer_key_art": {
    "type": "image",
    "bilinear": true,
    "size": [ "100% - 2px", "100% - 15px" ],
    "$content_offer_texture_type|default": "thumbnail",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "('#' + $content_offer_texture_type + '_texture_path')",
        "binding_name_override": "#texture"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "('#' + $content_offer_texture_type + '_texture_file_system')",
        "binding_name_override": "#texture_file_system"
      },
      {
        "binding_name": "#item_does_not_meet_requirements",
        "binding_name_override": "#grayscale",
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name"
      }
    ]
  },

  "store_offer_grid_show_more": {
    "type": "panel",

    "$store_offer_grid_item_size|default": [ "25%", "100%" ],
    "size": "$store_offer_grid_item_size",

    // offer binding vars
    "$offer_binding_type|default": "global",
    "$offer_collection_name|default": "",

    // offer factory binding vars (for offers that are created within a factory)
    "$store_factory_collection_details|default": "none",
    "$store_factory_collection_prefix|default": "",
    "$store_factory_collection_name|default": "",

    "controls": [
      {
        "frame@common_store.banner_fill": {
          "size": [ "100% - 2px", "100%" ],
          "layer": 3,
          "controls": [
            {
              "title": {
                "type": "label",
                "size": [ "100%", 10 ],
                "text": "#show_more_text",
                "color": "$body_text_color",
                "font_type": "smooth",
                "text_alignment": "center",
                "layer": 1,
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$offer_binding_type",
                    "binding_name": "#show_more_text",
                    "binding_collection_name": "$offer_collection_name"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "offer_button@common.button": {
          "layer": 4,
          "default_control": "",
          "$pressed_button_name": "button.show_more_offers",
          "tts_inherit_siblings": true,
          "bindings": [
            {
              "binding_type": "$offer_collection_details",
              "binding_collection_name": "$offer_collection_name"
            },
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name",
              "binding_name": "#top_row_focus_override_up",
              "binding_name_override": "#focus_change_up"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name",
              "binding_name": "#offer_grid_item_button_focus_id",
              "binding_name_override": "#focus_identifier"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name",
              "binding_name": "#last_item_focus_override_right",
              "binding_name_override": "#focus_change_right"
            }
          ],
          "button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_ok",
              "to_button_id": "$pressed_button_name",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_tab_right",
              "to_button_id": "button.cycle_offer_right",
              "mapping_type": "focused"
            },
            {
              "from_button_id": "button.menu_tab_left",
              "to_button_id": "button.cycle_offer_left",
              "mapping_type": "focused"
            }
          ],
          "controls": [
            {
              "hover@common.focus_border_white": {
                "controls": [
                  {
                    "key_art_size_panel": {
                      "type": "panel",
                      "size": [ "100% - 2px", "56.25%x" ],
                      "anchor_from": "top_middle",
                      "anchor_to": "top_middle",
                      "layer": 1
                    }
                  }
                ]
              }
            },
            {
              "pressed@common.focus_border_white": {
                "controls": [
                  {
                    "key_art_size_panel": {
                      "type": "panel",
                      "size": [ "100% - 2px", "56.25%x" ],
                      "offset": [ 0, 1 ],
                      "anchor_from": "top_middle",
                      "anchor_to": "top_middle",
                      "layer": 1
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#show_more_visible",
        "binding_name_override": "#visible"
      }
    ]
  },


  "persona_grid_show_more@common_buttons.light_text_button": {
    "size": [ "100%", "100%" ],

    // offer binding vars
    "$offer_binding_type|default": "global",
    "$offer_collection_name|default": "",

    // offer factory binding vars (for offers that are created within a factory)
    "$store_factory_collection_details|default": "none",
    "$store_factory_collection_prefix|default": "",
    "$store_factory_collection_name|default": "",

    "$pressed_button_name": "button.show_more_offers",
    "$button_text": "#show_more_text",
    "$button_text_binding_type": "collection",
    "$button_text_grid_collection_name": "$store_factory_collection_name",
    "$button_text_collection_details": "$store_factory_collection_details",
    "$button_text_collection_prefix": "$store_factory_collection_prefix",

    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      }
    ]
  },


  "row_offer_sale_markdown": {
    "type": "label",
    "color": "$store_sales_banner_text_color",
    "size": [ "default", 10 ],
    "offset": [ 1, 0 ],
    "font_type": "smooth",
    "text": "#offer_markdown_percentage",
    "font_scale_factor": 1,
    "layer": 4,
    "tts_override_control_value": "#tts_offer_markdown_percentage",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_name": "#offer_markdown_percentage",
        "binding_collection_name": "$offer_collection_name"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_name": "#tts_offer_markdown_percentage",
        "binding_collection_name": "$offer_collection_name"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_name": "#offer_markdown_visible",
        "binding_collection_name": "$offer_collection_name",
        "binding_name_override": "#visible"
      }
    ]
  },

  "hero_offer_sale_markdown": {
    "type": "label",
    "color": "$store_sales_banner_text_color",
    "size": [ "default", 10 ],
    "offset": [ 1, -0.5 ],
    "text": "#offer_markdown_percentage",
    "font_type": "smooth",
    "layer": 4,
    "anchor_from": "right_middle",
    "anchor_to": "right_middle",
    "tts_override_control_value": "#tts_offer_markdown_percentage",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$hero_offer_binding_type",
        "binding_collection_name": "$hero_offer_collection_name",
        "binding_name": "#offer_markdown_percentage"
      },
      {
        "binding_type": "$hero_offer_binding_type",
        "binding_collection_name": "$hero_offer_collection_name",
        "binding_name": "#tts_offer_markdown_percentage"
      },
      {
        "binding_type": "$hero_offer_binding_type",
        "binding_collection_name": "$hero_offer_collection_name",
        "binding_name": "#offer_markdown_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "offer_price_markdown_panel": {
    "type": "panel",
    "size": [ "100%c + 6px", "100%" ],
    "$offer_price_offset|default": [ 0, 2 ],
    "$offer_price_strikethru_offset|default": [ 0, -1 ],
    "$price_string|default": "",
    "$offer_strikethrough_price_visible_binding|default": "#offer_strikethrough_price_visible",
    "controls": [
      {
        "offer_price": {
          "type": "label",
          "color": "$dark_button_secondary_default_text_color",
          "size": [ "default", "100%" ],
          "offset": "$offer_price_offset",
          "text": "#offer_full_price",
          "font_type": "smooth",
          "layer": 4, // place behind sale banner when possible
          "$offer_price_binding|default": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_name": "#offer_full_price",
              "binding_collection_name": "$offer_collection_name"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_name": "$offer_strikethrough_price_visible_binding",
              "binding_collection_name": "$offer_collection_name",
              "binding_name_override": "#visible"
            },
            {
              "binding_type": "$offer_binding_type",
              "binding_name": "#tts_overrride_offer_full_price",
              "binding_collection_name": "$offer_collection_name"
            }
          ],
          "bindings": "$offer_price_binding",

          "controls": [
            {
              "text_strike_through@common_store.text_strike_through": {
                "size": [ "100% + 2px", 0.5 ],
                "offset": "$offer_price_strikethru_offset",
                "$strike_through_text_bindings|default": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$offer_binding_type",
                    "binding_name": "#offer_markdown_visible",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_name_override": "#visible"
                  }
                ],
                "bindings": "$strike_through_text_bindings"
              }
            }
          ]
        }
      }
    ]
  },

  "store_offer_title": {
    "type": "label",
    "$offer_title_size|default": [ "100%", 10 ],
    "size": "$offer_title_size",
    "text": "#title_label",
    "text_alignment": "left",
    "color": "$body_text_color",
    "font_type": "smooth",
    "$is_hero_offer|default": false,
    "layer": 1,
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#title_label"
      }
    ]
  },

  "store_offer_key_art_frame@common_store.store_description_background": {
    "type": "panel",
    "size": [ "100%", "56.25%x + 2px" ],
    "layer": 3,
    "controls": [
      {
        "key_art@common_store.store_offer_key_art": {
          "size": [ "100% - 2px", "100% - 2px" ],
          "offset": [ 0, 1 ],
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "layer": 1,
          "controls": [
            {
              "key_art_frame@common.square_image_border_white": {
                "size": [ "100% + 2px", "100%" ],
                "color": [ 0, 0, 0 ],
                "layer": 3
              }
            },
            {
              "csb_expiration_banner@common_store.csb_expiration": {}
            }
          ]
        }
      },
      {
        "progress_loading@common_store.progress_loading": {
          "size": [ "100%", "100%" ],
          "$source_control_name": "key_art",
          "$source_property_name": "(#texture = '')",
          "offset": [ 0, 1 ],
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "layer": 4,
          "$hide_failure_text": true
        }
      }
    ]
  },

  "vertical_store_offer_grid_item": {
    "type": "panel",
    "size": [ "100%", "36px" ],

    "$ignore_creator|default": false,
    "$is_hero_offer|default": false,
    "$ignore_durable_status_content|default": false,
    "$timer_visible|default": false,
    "$frame_size|default": [ "100% - 2px", "36px" ],
    "$is_purchase_button": false,

    // offer binding vars
    "$offer_collection_details|default": "none",
    "$offer_collection_prefix|default": "",

    // offer factory binding vars (for offers that are created within a factory)
    "$store_factory_collection_details|default": "none",
    "$store_factory_collection_prefix|default": "",
    "$store_factory_collection_name|default": "",

    "$store_offer_grid_item_bindings|default": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#valid_offer_index",
        "binding_name_override": "#visible"
      }
    ],

    "variables": [
      {
        "requires": "$is_hero_offer",
        "$description_size": [ "100%", 20 ],
        "$store_offer_grid_item_bindings": []
      },
      {
        "requires": "(not $is_hero_offer)",
        "$description_size": [ "100%", 30 ]
      }
    ],

    "bindings": "$store_offer_grid_item_bindings",

    "controls": [
      {
        "frame@common_store.store_description_background": {
          "layer": 3,
          "controls": [
            {
              "horizontal_stack_panel@common_store.vertical_store_offer_grid_inside_frame": {}
            },
            // This is the border hover/press states and click region, since the controls are complex it is better to draw a simple white border
            // around the content rather than create 3 sets of each control when only the border changes
            {
              "offer_button@common_store.store_offer_grid_button": {
                "size": [ "100%", "36px" ],
                "offset": [ "0px", "-1px" ]
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name",
              "binding_name": "#is_odd_row",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "dark_frame@common_store.store_description_background_dark": {
          "layer": 3,
          "controls": [
            {
              "horizontal_stack_panel@common_store.vertical_store_offer_grid_inside_frame": {}
            },
            // This is the border hover/press states and click region, since the controls are complex it is better to draw a simple white border
            // around the content rather than create 3 sets of each control when only the border changes
            {
              "offer_button@common_store.store_offer_grid_button": {
                "size": [ "100%", "36px" ],
                "offset": [ "0px", "-1px" ]
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name",
              "binding_name": "(not #is_odd_row)",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "vertical_store_offer_grid_inside_frame": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%" ],
    "$title_padding_size|default": [ "100%", 14 ],
    "controls": [
      {
        "key_art_size_panel": {
          "type": "panel",
          "size": [ "60px", "100%" ],
          "offset": [ 0, 0 ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "layer": 1,
          "controls": [
            {
              "key_art_frame@common.square_image_border_white": {
                "size": [ "100% + 2px", "36px" ],
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "layer": 2,
                "color": [ 0, 0, 0 ]
              }
            },
            {
              "key_art@common_store.store_offer_key_art": {
                "size": [ "100%", "34px" ],
                "offset": [ 1, 1 ],
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "layer": 1
              }
            }
          ]
        }
      },
      {
        "offer_details_general_panel": {
          "type": "panel",
          "size": [ "fill", "100%" ],
          "controls": [
            {
              "general_offer_details_stack_panel": {
                "type": "stack_panel",
                "orientation": "vertical",
                "size": [ "100%", "100%" ],

                "$offer_title_binding_type": "$offer_binding_type",
                "$offer_title_collection_name": "$offer_collection_name",
                "controls": [
                  {
                    "title_panel_with_padding": {
                      "type": "panel",
                      "size": [ "100%", "100%c" ],
                      "controls": [
                        {
                          "title@common_store.store_offer_item_title_panel": {
                            "offset": [ 4, 2 ],
                            "anchor_from": "top_left",
                            "anchor_to": "top_left"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "creator_label_panel_with_padding": {
                      "type": "panel",
                      "size": [ "100%", "100%c" ],
                      "controls": [
                        {
                          "creator_label@common_store.store_offer_item_creator_panel": {
                            "offset": [ 4, 2 ],
                            "anchor_from": "top_left",
                            "anchor_to": "top_left"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "ratings_and_cost_pannel_with_padding": {
                      "type": "stack_panel",
                      "orientation": "horizontal",
                      "size": [ "100%", "12px" ],
                      "controls": [
                        {
                          "ratings@common_store.store_offer_ratings": {
                            "size": [ "100%c", "12px" ],
                            "anchor_from": "bottom_left",
                            "anchor_to": "bottom_left"
                          }
                        },
                        {
                          "rating_and_price_padding": {
                            "type": "panel",
                            "size": [ "fill", "100%" ]
                          }
                        },
                        {
                          "offer_price_info_panel@common_store.vertical_store_offer_price_info_panel": {}
                        },
                        {
                          "right_side_padding": {
                            "type": "panel",
                            "size": [ "2px", "100%" ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "vertical_store_coin_offer_grid_item": {
    "type": "panel",
    "size": [ "100%", "36px" ],

    "$ignore_creator|default": false,
    "$is_hero_offer|default": false,
    "$ignore_durable_status_content|default": false,
    "$timer_visible|default": false,
    "$frame_size|default": [ "100% - 2px", "36px" ],
    "$is_purchase_button": false,

    // offer binding vars
    "$offer_collection_details|default": "none",
    "$offer_collection_prefix|default": "",

    // offer factory binding vars (for offers that are created within a factory)
    "$store_factory_collection_details|default": "none",
    "$store_factory_collection_prefix|default": "",
    "$store_factory_collection_name|default": "",

    "$store_offer_grid_item_bindings|default": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#valid_offer_index",
        "binding_name_override": "#visible"
      }
    ],

    "variables": [
      {
        "requires": "$is_hero_offer",
        "$description_size": [ "100%", 20 ],
        "$store_offer_grid_item_bindings": []
      },
      {
        "requires": "(not $is_hero_offer)",
        "$description_size": [ "100%", 30 ]
      }
    ],

    "bindings": "$store_offer_grid_item_bindings",

    "controls": [
      {
        "frame@common_store.store_description_background": {
          "$internal_frame_size": "$frame_size",
          "layer": 3,
          "controls": [
            {
              "horizontal_stack_panel@common_store.vertical_coin_offer_grid_inside_frame": {}
            }
          ],
          "bindings": [
            {
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name",
              "binding_name": "#is_odd_row",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "dark_frame@common_store.store_description_background_dark": {
          "$internal_frame_size": "$frame_size",
          "layer": 3,
          "controls": [
            {
              "horizontal_stack_panel@common_store.vertical_coin_offer_grid_inside_frame": {}
            },
            // This is the border hover/press states and click region, since the controls are complex it is better to draw a simple white border
            // around the content rather than create 3 sets of each control when only the border changes
            {
              "offer_button@common_store.store_offer_grid_button": {
                "size": [ "100%", "36px" ],
                "offset": [ "0px", "-1px" ]
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "$offer_binding_type",
              "binding_collection_name": "$offer_collection_name",
              "binding_name": "(not #is_odd_row)",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "vertical_coin_offer_grid_inside_frame": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "36px" ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "$title_padding_size|default": [ "100%", 14 ],
    "controls": [
      {
        "key_art_size_panel": {
          "type": "panel",
          "size": [ "60px", "100%" ],
          "offset": [ 0, 0 ],
          "layer": 1,
          "controls": [
            {
              "key_art_frame@common.square_image_border_white": {
                "size": [ "100% + 2px", "36px" ],
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "layer": 2,
                "color": [ 0, 0, 0 ]
              }
            },
            {
              "key_art@common_store.store_offer_key_art": {
                "size": [ "100%", "34px" ],
                "offset": [ 1, 1 ],
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "layer": 1
              }
            }
          ]
        }
      },
      {
        "padding": {
          "type": "panel",
          "size": [ "2px", "100%" ]
        }
      },
      {
        "coin_panel": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "offer_coin_icon@common_store.coin_icon": {
                "layer": 5,
                "offset": [ 1, 1 ],
                "size": [ "32px", "32px" ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "Minecoins_panel": {
          "type": "panel",
          "size": [ "fill", "100%" ],
          "controls": [
            {
              "minecoins_vert_stack_panel": {
                "type": "stack_panel",
                "orientation": "vertical",
                "size": [ "100%", "100%c" ],
                "anchor_from": "top_left",
                "anchor_to": "top_left",

                "$offer_title_binding_type": "$offer_binding_type",
                "$offer_title_collection_name": "$offer_collection_name",

                "controls": [
                  {
                    "minecoins_panel_with_padding": {
                      "anchor_from": "top_left",
                      "anchor_to": "top_left",
                      "type": "panel",
                      "size": [ "100%c", "100%c" ],
                      "controls": [
                        {
                          "minecoins_prompt_panel": {
                            "type": "panel",
                            "size": [ "100%c", 18 ],
                            "offset": [ 4, 2 ],
                            "anchor_from": "top_left",
                            "anchor_to": "top_left",
                            "controls": [
                              {
                                "minecoins_offer_status_text": {
                                  "type": "label",
                                  "color": "$coin_color",
                                  "size": [ "default", 18 ],
                                  "offset": [ 0, 0.5 ],
                                  "text": "#offer_minecoin_text",
                                  "font_type": "smooth",
                                  "font_scale_factor": 1.5,
                                  "layer": 4,
                                  "bindings": [
                                    {
                                      "binding_type": "$store_factory_collection_details",
                                      "binding_collection_name": "$store_factory_collection_name",
                                      "binding_collection_prefix": "$store_factory_collection_prefix"
                                    },
                                    {
                                      "binding_type": "$offer_binding_type",
                                      "binding_name": "#offer_minecoin_text",
                                      "binding_collection_name": "$offer_collection_name"
                                    },
                                    {
                                      "binding_type": "$offer_binding_type",
                                      "binding_name": "#tts_offer_minecoin_text",
                                      "binding_collection_name": "#tts_override_control_value",
                                      "binding_name_override": "#visible"
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "title_panel_with_padding": {
                      "type": "panel",
                      "size": [ "100%", "100%c" ],
                      "controls": [
                        {
                          "title@common_store.store_offer_item_title_panel": {
                            "offset": [ 4, 2 ],
                            "anchor_from": "top_left",
                            "anchor_to": "top_left",
                            "$body_text_color": "$coin_color"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "offer_prompt_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "size": [ "100%c", 11 ],
    "controls": [
      {
        "coin_panel": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "offer_coin_icon@common_store.coin_icon": {
                "layer": 5,
                "offset": [ 1, 1 ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$offer_binding_type",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_name": "#offer_coin_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "padding_3": {
          "type": "panel",
          "size": [ 2, "100%c" ]
        }
      },
      {
        "offer_status_text_panel": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "offer_status_text": {
                "type": "label",
                "color": "$coin_color",
                "size": [ "default", 10 ],
                "offset": [ 0, 0.5 ],
                "text": "#offer_prompt_text",
                "font_type": "smooth",
                "layer": 4,
                "tts_override_control_value": "#tts_offer_prompt_text",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$offer_binding_type",
                    "binding_name": "#offer_prompt_text",
                    "binding_collection_name": "$offer_collection_name"
                  },
                  {
                    "binding_type": "$offer_binding_type",
                    "binding_name": "#offer_prompt_text_visibility",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_type": "$offer_binding_type",
                    "binding_name": "#tts_offer_prompt_text",
                    "binding_collection_name": "$offer_collection_name"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "store_offer_grid_item": {
    "type": "panel",

    "$store_offer_grid_item_size|default": [ "25%", "100%" ],
    "size": "$store_offer_grid_item_size",

    "$ignore_creator|default": false,
    "$is_hero_offer|default": false,
    "$ignore_durable_status_content|default": false,
    "$timer_visible|default": false,
    "$offer_background_asset|default": "common_store.store_description_background",
    "$frame_size|default": [ "100%", "100%" ],
    "$is_purchase_button": false,

    // offer binding vars
    "$offer_collection_details|default": "none",
    "$offer_binding_type|default": "global",
    "$offer_collection_name|default": "",
    "$offer_collection_prefix|default": "",

    // offer factory binding vars (for offers that are created within a factory)
    "$store_factory_collection_details|default": "none",
    "$store_factory_collection_prefix|default": "",
    "$store_factory_collection_name|default": "",

    "$store_offer_grid_item_bindings|default": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#valid_offer_index",
        "binding_name_override": "#visible"
      }
    ],

    "variables": [
      {
        "requires": "$is_hero_offer",
        "$description_size": [ "100%", 20 ],
        "$store_offer_grid_item_bindings": []
      },
      {
        "requires": "(not $is_hero_offer)",
        "$description_size": [ "100%", 30 ]
      }
    ],

    "bindings": "$store_offer_grid_item_bindings",

    "controls": [
      {
        "frame@$offer_background_asset": {
          "size": "$frame_size",
          "layer": 3,
          "controls": [
            {
              "key_art@common_store.store_offer_key_art": {
                "size": [ "100% - 2px", "56.25%x" ],
                "offset": [ 0, 1 ],
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "layer": 1,
                "controls": [
                  {
                    "key_art_frame@common.square_image_border_white": {
                      "size": [ "100% + 2px", "100% + 2px" ],
                      "color": [ 0, 0, 0 ],
                      "layer": 3
                    }
                  },
                  {
                    "csb_plus_expiration_banner@common_store.csb_expiration": {}
                  }
                ]
              }
            },
            {
              "progress_loading@common_store.progress_loading": {
                "size": [ "100%", "56.25%x" ],
                "$source_control_name": "key_art",
                "$source_property_name": "(#texture = '')",
                "offset": [ 0, 1 ],
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "layer": 4,
                "$hide_failure_text": true,
                "$hide_progress_loading_outline": true
              }
            },
            {
              "progress@common_store.offer_download_progress": {
                "size": "$description_size",
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle",
                "layer": 6
              }
            },
            {
              "durable_offer_info_panel": {
                "type": "stack_panel",
                "orientation": "vertical",
                "size": [ "100%", "100%c" ],
                "anchor_from": "bottom_left",
                "anchor_to": "bottom_left",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$offer_binding_type",
                    "binding_name": "(not #progress_visible)",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_name_override": "#visible"
                  }
                ],
                "controls": [
                  {
                    "title_label_padding_stack": {
                      "type": "panel",
                      "size": [ "100%", "100%c" ],
                      "controls": [
                        {
                          "title_label_vert_stack_panel": {
                            "type": "stack_panel",
                            "orientation": "vertical",
                            "size": [ "100% - 6px", "100%c" ],
                            "$offer_title_binding_type": "$offer_binding_type",
                            "$offer_title_collection_name": "$offer_collection_name",
                            "$title_padding_size|default": [ "100%", 14 ],
                            "controls": [
                              {
                                "title@common_store.store_offer_item_title_panel": {}
                              },
                              {
                                "creator_label@common_store.store_offer_item_creator_panel": {}
                              },
                              {
                                "offer_price_info_panel@common_store.store_offer_price_info_panel": {}
                              }
                            ]
                          }
                        },
                        {
                          "no_durable_status_padding": {
                            "ignored": "(not $ignore_durable_status_content)",
                            "type": "panel",
                            "size": [ "100%", 4 ]
                          }
                        }
                      ],
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$offer_binding_type",
                          "binding_name": "(not #progress_visible)",
                          "binding_collection_name": "$offer_collection_name",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "offer_status_panel": {
                      "ignored": "$ignore_durable_status_content",
                      "type": "stack_panel",
                      "orientation": "horizontal",
                      "size": [ "100%", 13 ],
                      "anchor_from": "bottom_left",
                      "anchor_to": "bottom_left",
                      "use_priority": true,
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        }
                      ],
                      "controls": [
                        {
                          "rtx_label@common_store.rtx_label": {
                            "size": [ 20, 14 ],
                            "priority": 5,
                            "bindings": [
                              {
                                "binding_type": "$store_factory_collection_details",
                                "binding_collection_name": "$store_factory_collection_name",
                                "binding_collection_prefix": "$store_factory_collection_prefix"
                              },
                              {
                                "binding_type": "$offer_binding_type",
                                "binding_collection_name": "$offer_collection_name",
                                "binding_name": "#rtx_label_visible",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        },
                        {
                          "subscription_panel@common_store.subscription_chevron": {
                            "$subscription_offer_binding_type": "$offer_binding_type",
                            "$subscription_offer_collection_name": "$offer_collection_name"
                          }
                        },
                        {
                          "sales_banner": {
                            "type": "stack_panel",
                            "orientation": "horizontal",
                            "size": [ "100%c", "100%" ],
                            "priority": 2,
                            "controls": [
                              {
                                "sales_markdown_percentage_panel": {
                                  "type": "panel",
                                  "size": [ "100%c", "100%" ],
                                  "controls": [
                                    {
                                      "markdown_background@common_store.markdown_background": {
                                        "size": [ "100%c", 12 ],
                                        "offset": [ 0, 0.25 ], // polish hack - aligns the banner to be flush with the bottom of the background panel
                                        "layer": 9, // Needs to be a higher layer than the strikethru text
                                        "$markdown_label": "common_store.row_offer_sale_markdown",
                                        "$timer_visible": false,
                                        "$icon_stack_visibility_collection": "$offer_collection_name",
                                        "$icon_stack_visibility_type": "$offer_binding_type"
                                      }
                                    }
                                  ]
                                }
                              }
                            ],
                            "bindings": [
                              {
                                "binding_type": "$store_factory_collection_details",
                                "binding_collection_name": "$store_factory_collection_name",
                                "binding_collection_prefix": "$store_factory_collection_prefix"
                              },
                              {
                                "binding_type": "$offer_binding_type",
                                "binding_name": "#offer_markdown_visible",
                                "binding_collection_name": "$offer_collection_name",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        },
                        {
                          "ratings@common_store.store_offer_ratings": {
                            "priority": 6
                          }
                        },
                        {
                          "rating_count_panel@common_store.store_rating_count_panel": {
                            "priority": 7,
                            "$rating_text_binding_type": "$offer_binding_type",
                            "$rating_text_collection_name": "$offer_collection_name"
                          }
                        },
                        {
                          "pack_icon_panel": {
                            "type": "panel",
                            "size": [ "100%c + 2px", "100%" ],
                            "priority": 2,
                            "controls": [
                              {
                                "pack_icon_stack@common_store.pack_icon_stack": {
                                  "offset": [ 0, 2 ],
                                  "anchor_from": "top_right",
                                  "anchor_to": "top_right",
                                  "$icon_stack_visibility": "#bundle_or_hero_pack_icon_section_visible",
                                  "$icon_stack_visibility_type": "$offer_binding_type",
                                  "$icon_stack_visibility_collection": "$offer_collection_name",
                                  "$is_purchase_button": false
                                }
                              }
                            ]
                          }
                        },
                        {
                          "fill_markdown_panel_left": {
                            "type": "panel",
                            "size": [ "fill", "100%" ]
                          }
                        },
                        {
                          "markdown_panel@common_store.offer_price_markdown_panel": {
                            "priority": 3,
                            "$offer_price_offset": [ 0, 2 ]
                          }
                        },
                        {
                          "padding_markdown_panel_right": {
                            "type": "panel",
                            "size": [ 2, "100%" ]
                          }
                        },
                        {
                          "offer_prompt_panel@common_store.offer_prompt_panel": {
                            "priority": 0
                          }
                        },
                        {
                          "padding_6": {
                            "type": "panel",
                            "size": [ 2, "100%" ]
                          }
                        },
                        {
                          "timer_panel": {
                            "type": "panel",
                            "size": [ "100%c", "100%" ],
                            "controls": [
                              {
                                "sale_timer@common_store.timer_panel": {
                                  "$timer_label_color": "$dark_button_default_text_color",
                                  "bindings": [
                                    {
                                      "binding_type": "$store_factory_collection_details",
                                      "binding_collection_name": "$store_factory_collection_name",
                                      "binding_collection_prefix": "$store_factory_collection_prefix"
                                    },
                                    {
                                      "binding_type": "$offer_binding_type",
                                      "binding_name": "#is_collection_query_on_sale",
                                      "binding_collection_name": "$offer_collection_name",
                                      "binding_name_override": "#visible"
                                    }
                                  ],
                                  "$timer_bindings|default": [
                                    {
                                      "binding_type": "$store_factory_collection_details",
                                      "binding_collection_name": "$store_factory_collection_name",
                                      "binding_collection_prefix": "$store_factory_collection_prefix"
                                    },
                                    {
                                      "binding_type": "$offer_binding_type",
                                      "binding_collection_name": "$offer_collection_name",
                                      "binding_name": "$time_text_binding_name",
                                      "binding_condition": "always"
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        },
                        {
                          "padding_2": {
                            "type": "panel",
                            "size": [ 2, "100%" ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            },
            // This is the border hover/press states and click region, since the controls are complex it is better to draw a simple white border
            // around the content rather than create 3 sets of each control when only the border changes
            { "offer_button@common_store.store_offer_grid_button": {} }
          ]
        }
      }
    ]
  },

  "thumbnail_only_offer": {
    "type": "panel",

    "size": [ "25%", "100%" ],

    "$ignore_creator|default": false,
    "$is_hero_offer|default": false,
    "$ignore_durable_status_content|default": false,
    "$timer_visible|default": false,
    "$offer_background_asset|default": "common_store.store_description_background",
    "$is_purchase_button": false,

    // offer binding vars
    "$offer_collection_details|default": "none",
    "$offer_binding_type|default": "global",
    "$offer_collection_name|default": "",
    "$offer_collection_prefix|default": "",

    // offer factory binding vars (for offers that are created within a factory)
    "$store_factory_collection_details|default": "none",
    "$store_factory_collection_prefix|default": "",
    "$store_factory_collection_name|default": "",

    "$store_offer_grid_item_bindings|default": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$offer_binding_type",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#valid_offer_index",
        "binding_name_override": "#visible"
      }
    ],

    "bindings": "$store_offer_grid_item_bindings",

    "controls": [
      {
        "frame@$offer_background_asset": {
          "size": [ "100%", "100%" ],
          "layer": 3,
          "controls": [
            {
              "key_art@common_store.store_offer_key_art": {
                "size": [ "100% - 2px", "56.25%x" ],
                "offset": [ 0, 1 ],
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "layer": 1,
                "controls": [
                  {
                    "key_art_frame@common.square_image_border_white": {
                      "size": [ "100% + 2px", "100% + 2px" ],
                      "color": "$0_color_format",
                      "layer": 3
                    }
                  },
                  {
                    "offer_coin_icon@common_store.coin_icon": {
                      "size": [ 10, 10 ],
                      "layer": 3,
                      "offset": [ 1, -1 ],
                      "anchor_to": "bottom_left",
                      "anchor_from": "bottom_left",
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_type": "$offer_binding_type",
                          "binding_collection_name": "$offer_collection_name",
                          "binding_name": "#offer_coin_visible",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "offer_button@common_store.store_offer_grid_button": {
                "offset": [ 0, -1 ],
                "$size_to_cover": [ "100%", "100% + 1px" ]
              }
            }
          ]
        }
      }
    ]
  },

  "store_section_header_label@common_store.label": {
    "$store_section_header_label_text|default": "#section_header",
    "$store_section_binding_condition|default": "always_when_visible",
    "$store_section_header_font_type|default": "default",
    "$store_section_header_font_scalar|default": 1.0,
    "$store_section_header_text_color": "#header_text_color",
    "text": "$store_section_header_label_text",
    "color": "$store_section_header_text_color",
    "font_type": "$store_section_header_font_type",
    "font_scale_factor": "$store_section_header_font_scalar",

    "$store_section_header_label_bindings|default": [
      {
        "binding_type": "collection",
        "binding_collection_name": "factory_collection",
        "binding_name": "$store_section_header_label_text"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "$store_section_header_visible_binding",
        "binding_name_override": "#visible",
        "binding_condition": "$store_section_binding_condition"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#header_text_color",
        "binding_condition": "once",
        "binding_name_override": "#color"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#header_font_type",
        "binding_condition": "once",
        "binding_name_override": "#font_type"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#header_font_scalar",
        "binding_condition": "once",
        "binding_name_override": "#font_scale_factor"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#header_alignment",
        "binding_condition": "once",
        "binding_name_override": "#text_alignment"
      }
    ],
    "bindings": "$store_section_header_label_bindings"
  },

  "persona_store_row_offer": {
    "type": "panel",
    "size": [ "fill", "100%x" ],

    "$pressed_button_function": "button.select_offer",

    "controls": [
      {
        "persona_offer@persona_sdl.persona_piece_offer": {
          "size": [ "100%", "100%" ],

          "$hide_while_loading": false,
          "$hide_failure_text": true,
          "$hide_progress_loading_outline": true,

          "$ignore_emote_keybind_helpers": true,

          "$piece_offer_button_size": [ "100%", "100%" ],

          "$piece_section_collection_details": "$store_factory_collection_details",
          "$piece_section_collection_prefix": "$store_factory_collection_prefix",
          "$piece_section_collection_name": "$store_factory_collection_name",

          "$persona_piece_collection_details": "$offer_collection_details",
          "$persona_piece_collection_name": "$offer_collection_name",
          "$persona_piece_binding_type": "$offer_binding_type",
          "$persona_piece_prefix": "$offer_collection_prefix",

          "$controller_left_bumper_mapping": "button.cycle_offer_left",
          "$controller_right_bumper_mapping": "button.cycle_offer_right",

          "$filesystem_binding_type": "collection"
        }
      }
    ]
  },

  "thumnail_only_row_offer": {
    "type": "panel",
    "size": [ "fill", "56.249%x" ],
    "controls": [
      { "generic_store_offer@common_store.thumbnail_only_offer": { "size": [ "100%", "100%" ] } }
    ]
  },

  "generic_store_row_offer_panel": {
    "type": "panel",
    "size": [ "fill", "56.249%x + 34px" ],
    "controls": [
      { "generic_store_offer@common_store.store_offer_grid_item": { "size": [ "100%", "100%" ] } }
    ]
  },

  "store_row_show_more_button_panel": {
    "type": "panel",
    "size": [ "fill", "56.249%x + 34px" ],
    "controls": [
      { "show_more_button@common_store.store_offer_grid_show_more": { "size": [ "100%", "100%" ] } }
    ]
  },

  "persona_show_more_button_panel": {
    "type": "panel",
    "size": [ "fill", "100%x" ],
    "controls": [
      { "show_more_button@common_store.persona_grid_show_more": { "size": [ "100%", "100%" ] } }
    ]
  },

  "persona_grid_panel_stack": {
    "type": "stack_panel",
    "size": [ "100% + 4px", "100%c" ],
    "controls": [
      { "default_piece_button@persona_sdl.default_piece_button_panel": {} },
      { "persona_grid_panel@common_store.persona_grid_panel": {} }
    ]
  },

  "persona_grid_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      { "persona_offer_grid@store_item_list.persona_offer_grid": {} }
    ]
  },

  "store_offer_grid_factory": {
    "type": "collection_panel",
    "size": [ "100%", "100%c" ],

    "$store_offer_grid_prefix": "offer",
    "$store_offer_grid_collection_name": "offer_collection",

    "collection_name": "offer_grid_factory",

    "factory": {
      "name": "offer_grid_factory",
      "control_ids": {
        "Generic": "@store_item_list.store_offer_grid",
        "Persona": "@common_store.persona_grid_panel_stack"
      },
      "factory_variables": [
        "$store_factory_clipping_event",
        "$store_factory_collection_details",
        "$store_factory_collection_prefix",
        "$store_factory_collection_name",
        "$store_factory_binding_type",
        "$store_offer_grid_collection_name",
        "$store_offer_grid_prefix",
        "$is_subscription_screen",
        "$is_mashup",
        "$main_content_focus_container_left",
        "$main_content_focus_container_left_custom",
        "$always_show_layer"
      ]
    },
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#offer_grid_type",
        "binding_name_override": "#collection_length",
        "binding_condition": "once"
      }
    ]
  },

  "non_collection_item_horizontal_padding@common.horizontal_padding_2px": {
    "ignoreCollectionItem": true
  },

  "horizontal_store_offer_row_factory": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%cm" ],

    "$offer_collection_details": "collection_details",
    "$offer_binding_type": "collection",
    "$offer_collection_prefix": "offer",
    "$offer_collection_name": "offer_collection",

    "factory": {
      "name": "store_section_factory",
      "control_ids": {
        "Generic": "common_store.generic_store_row_offer_panel",
        "Persona": "common_store.persona_store_row_offer",
        "ThumbnailOnly": "common_store.thumnail_only_row_offer",
        "ShowMoreButton": "common_store.store_row_show_more_button_panel",
        "PersonaShowMoreButton": "common_store.persona_show_more_button_panel",
        "Padding": "common_store.non_collection_item_horizontal_padding"
      },
      "factory_variables": [
        "$offer_collection_details",
        "$offer_binding_type",
        "$offer_collection_prefix",
        "$offer_collection_name",
        "$store_factory_collection_details",
        "$store_factory_collection_prefix",
        "$store_factory_collection_name",
        "$store_factory_binding_type",
        "$is_subscription_screen",
        "$is_mashup",
        "$main_content_focus_container_left",
        "$main_content_focus_container_left_custom",
        "$always_show_layer"
      ]
    },
    "collection_name": "$offer_collection_name",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#store_offer_row_content",
        "binding_name_override": "#collection_length"
      }
    ]
  },

  "recently_viewed_row_panel@common_store.store_section_panel": {
    "$store_section_object": "common_store.store_row",
    "$store_offer_section_visible": "#recently_viewed_row_visible"
  },

  "static_offer_row_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],

    "$is_static_row": true,
    "$store_section_object": "common_store.store_row",
    "$store_section_visible": "#offer_collection_visible",

    "controls": [
      {
        "store_row_dropdown_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "property_bag": {
            "#visible": true
          },
          "controls": [
            { "store_row_section_panel@common_store.store_section_panel": {} }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_binding_type",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_name": "#sdl_dropdown_data_row_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "store_row_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],

    "$store_section_object": "common_store.store_row",
    "$store_section_visible": "#offer_collection_visible",

    "controls": [
      {
        "store_row_dropdown_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            { "store_row_section_panel@common_store.store_section_panel": {} }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_binding_type",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_name": "#sdl_dropdown_data_row_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "vertical_store_row_panel@common_store.store_section_panel": {
    "$store_section_header": "common_store.vertical_content_offer_header",
    "$store_section_object": "common_store.vertical_content_offer_panel",
    "$store_section_visible": "#offer_collection_visible"
  },

  "style_header": {
    "type": "panel",
    "size": [ "100%", "100%cm" ],
    "controls": [
      {
        "background": {
          "type": "image",
          "texture": "textures/ui/recolorable_background",
          "size": [ "100%", "100%sm" ],
          "color": "#header_bg_color",
          "bindings": [
            {
              "binding_type": "$store_factory_binding_type",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_name": "#header_bg_color",
              "binding_condition": "once",
              "binding_name_override": "#color"
            },
            {
              "binding_type": "$store_factory_binding_type",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_name": "#show_header_background",
              "binding_condition": "once",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "style_header@common_store.style_header_panel": {}
      }
    ]
  },

  "style_header_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],
    "visible": false,
    "property_bag": {
      "#visible": false
    },
    // factory binding vars (for when created within a factory)
    "$store_factory_collection_details|default": "none",
    "$store_factory_binding_type|default": "none",
    "$store_factory_collection_prefix|default": "",
    "$store_factory_collection_name|default": "",

    "controls": [
      {
        "row_header": {
          "type": "panel",
          "size": [ "100%", "100%cm" ],
          "controls": [
            {
              "label_panel": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%", "100%cm" ],
                "visible": false,
                "anchor_from": "left_middle",
                "anchor_to": "left_middle",
                "bindings": [
                  {
                    "binding_type": "$store_factory_binding_type",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_name": "#offer_collection_ready",
                    "binding_name_override": "#visible"
                  }
                ],
                "controls": [
                  {
                    "indent": {
                      "type": "panel",
                      "size": [ 12, 1 ],
                      "bindings": [
                        {
                          "binding_type": "$store_factory_binding_type",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_name": "#indent",
                          "binding_name_override": "#size_binding_x_absolute"
                        }
                      ]
                    }
                  },
                  {
                    "row_header_label_centering_panel": {
                      "type": "panel",
                      "size": [ "100%", "100%c" ],
                      "controls": [
                        {
                          "row_header_label@common_store.store_section_header_label": {
                            "size": [ "90% - 2px", 10 ],
                            "offset": [ 0, -1 ],
                            "$store_section_header_visible_binding": "#hide_banner",
                            "$store_section_header_text_color": "$main_header_text_color"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "on_sale_banner": {
                      "ignored": "$is_subscription_screen",
                      "type": "image",
                      "texture": "textures/ui/yellow_banner",
                      "size": [ "100%c", 13 ],
                      "$on_sale_banner_offset|default": [ 4, 0 ],
                      "offset": "$on_sale_banner_offset",
                      "anchor_from": "bottom_left",
                      "anchor_to": "bottom_left",
                      "layer": 1,
                      "controls": [
                        {
                          "padding_panel": {
                            "type": "panel",
                            "size": [ "100%c - 50%y + 24px", "100%" ],
                            "controls": [
                              {
                                "sales_row_header_label@common_store.store_section_header_label": {
                                  "size": [ "default", 10 ],
                                  "offset": [ 12, 0.5 ],
                                  "anchor_from": "left_middle",
                                  "anchor_to": "left_middle",
                                  "$store_section_header_visible_binding": "#show_banner",
                                  "$store_section_header_text_color": "$store_sales_banner_text_color",
                                  "layer": 1
                                }
                              },
                              {
                                "triangle": {
                                  "type": "image",
                                  "texture": "textures/ui/saleflagtriangle",
                                  "size": [ "50%y", 13 ],
                                  "offset": [ -1, 0 ],
                                  "anchor_from": "right_middle",
                                  "anchor_to": "left_middle",
                                  "bilinear": true
                                }
                              }
                            ]
                          }
                        }
                      ],
                      "bindings": [
                        {
                          "binding_type": "$store_factory_binding_type",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_name": "#show_banner",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "time_remaining_label@common_store.label": {
                      "ignored": "$is_subscription_screen",
                      "anchor_from": "bottom_right",
                      "anchor_to": "bottom_right",
                      "size": [ "default", 10 ],
                      "offset": [ -3, 1 ],
                      "text": "#time_remaining_label",
                      "text_alignment": "right",
                      "layer": 3,
                      "bindings": [
                        {
                          "binding_type": "$store_factory_binding_type",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_name": "#time_remaining_label",
                          "binding_condition": "always"
                        },
                        {
                          "binding_type": "$store_factory_binding_type",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_name": "#show_timer",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "row_carousel_padding": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#section_title_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "store_row_cycle_button_panel": {
    "$ignore_cycle_buttons|default": false,
    "ignored": "$ignore_cycle_buttons",
    "type": "panel",
    // add 4 px for page indicator and padding below cycle button
    "size": [ "100%c", "100%sm + 4px" ],
    "controls": [
      {
        "cycle_button_panel": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ 24, "100%" ],
          "$ignore_page_indicator|default": false,
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "$store_factory_binding_type",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_name": "#cycle_button_width",
              "binding_name_override": "#size_binding_x_absolute"
            }
          ],
          "controls": [
            {
              "$cycle_button@common_store.$cycle_button": {
                "size": [ "100%", "100% - 4px" ]
              }
            },
            {
              "page_indicator_panel": {
                "ignored": "$ignore_page_indicator",
                "type": "panel",
                "size": [ "100%", 4 ],
                "controls": [
                  { "page_indicator@common_store.page_indicator_panel": {} }
                ]
              }
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$store_factory_binding_type",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_name": "#cycle_buttons_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "store_row": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],

    "$on_sale_banner_offset": [ 0, 0 ],

    "$is_static_row|default": false,
    "$ignore_cycle_buttons|default": false,
    "variables": [
      {
        "requires": "($is_subscription_screen or $is_static_row)",
        "$ignore_cycle_buttons": true
      }
    ],

    "controls": [
      {
        "carousel_panel": {
          "type": "panel",
          "size": [ "100%", "100%cm" ],

          "$cycle_pack_button_factory_collection_details": "$store_factory_collection_details",
          "$cycle_pack_button_factory_collection_prefix": "$store_factory_collection_prefix",
          "$cycle_pack_button_factory_collection_name": "$store_factory_collection_name",
          "controls": [
            {
              "progress_loading@common_store.progress_loading": {
                "size": [ "100%", "100%sm" ],
                "layer": 15,
                "$hide_failure_text": true,
                "bindings": [
                  {
                    "binding_type": "$store_factory_binding_type",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_name": "(not #offer_collection_ready)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "cycle_pack_horizontal_stack": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%", "100%cm" ],
                "controls": [
                  {
                    "cycle_pack_left_button_panel@common_store.store_row_cycle_button_panel": {
                      "$ignore_page_indicator": true,
                      "$cycle_button": "cycle_pack_left_button",
                      "$pressed_button_name": "button.cycle_offer_left",
                      "$cycle_pack_button_name_left": "button.cycle_offer_left",
                      "$cycle_pack_button_name_right": "button.cycle_offer_right"
                    }
                  },
                  {
                    "offer_grid_panel": {
                      "type": "panel",
                      "size": [ "fill", "100%c + 2px" ],
                      "controls": [
                        { "offer_grid@common_store.horizontal_store_offer_row_factory": {} }
                      ]
                    }
                  },
                  {
                    "cycle_pack_right_button_panel@common_store.store_row_cycle_button_panel": {
                      "$cycle_button": "cycle_pack_right_button",
                      "$pressed_button_name": "button.cycle_offer_right",
                      "$cycle_pack_button_name_left": "button.cycle_offer_left",
                      "$cycle_pack_button_name_right": "button.cycle_offer_right"
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "divider@common.section_divider": {
          "ignored": "(not $is_subscription_screen)"
        }
      }
    ]
  },

  "page_indicator_panel": {
    "type": "panel",
    "size": [ "100%", 2 ],
    "anchor_to": "bottom_right",
    "anchor_from": "bottom_right",
    "controls": [
      {
        "first_of_three@common_store.page_indicator": {
          "texture": "textures/ui/first_of_three",
          "$indicator_binding_name": "#first_of_three_visible"
        }
      },
      {
        "second_of_three@common_store.page_indicator": {
          "texture": "textures/ui/second_of_three",
          "$indicator_binding_name": "#second_of_three_visible"
        }
      },
      {
        "third_of_three@common_store.page_indicator": {
          "texture": "textures/ui/third_of_three",
          "$indicator_binding_name": "#third_of_three_visible"
        }
      },
      {
        "first_of_two@common_store.page_indicator": {
          "texture": "textures/ui/first_of_two",
          "$indicator_binding_name": "#first_of_two_visible"
        }
      },
      {
        "second_of_two@common_store.page_indicator": {
          "texture": "textures/ui/second_of_two",
          "$indicator_binding_name": "#second_of_two_visible"
        }
      }
    ]
  },

  "page_indicator": {
    "type": "image",
    "size": [ 8, 2 ],
    "visible": false,

    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "$indicator_binding_name",
        "binding_name_override": "#visible"
      }
    ]
  },

  "popup_dialog__no_store_connection@popup_dialog.popup_dialog": {
    "$middle_button_press": "button.close_dialog",
    "$message_text": "skins.buy.noConnection",
    "$middle_button_text": "gui.ok",
    "controls": [
      { "popup_dialog_bg@popup_dialog.popup_dialog_bg": {} },
      { "popup_dialog_message@popup_dialog.popup_dialog_message": {} },
      { "popup_dialog_middle_button@popup_dialog.popup_dialog_middle_button": {} }
    ]
  },

  "popup_dialog__restore_popup@popup_dialog.popup_dialog": {
    "$middle_button_press": "button.close_dialog",
    "$message_text": "store.restore.description",
    "controls": [
      { "popup_dialog_bg@popup_dialog.popup_dialog_bg": {} },
      { "popup_dialog_message@popup_dialog.popup_dialog_message": {} }
    ]
  },

  "popup_dialog__restore_failed@popup_dialog.popup_dialog": {
    "$middle_button_press": "button.close_dialog",
    "$message_text": "store.restore.failed",
    "$middle_button_text": "gui.ok",
    "controls": [
      { "popup_dialog_bg@popup_dialog.popup_dialog_bg": {} },
      { "popup_dialog_message@popup_dialog.popup_dialog_message": {} },
      { "popup_dialog_middle_button@popup_dialog.popup_dialog_middle_button": {} }
    ]
  },

  //--------------------------------------------------------------------------------
  // Screen
  //--------------------------------------------------------------------------------

  "screen_fade_in_alpha_anim": {
    "anim_type": "alpha",
    "easing": "out_expo",
    "duration": 1.6,
    "from": 0,
    "to": 1
  },

  //--------------------------------------------------------------------------------
  // Suggested content view
  //--------------------------------------------------------------------------------

  "suggested_content_offers_grid_item": {
    "type": "panel",
    "$offer_collection_name|default": "#suggested_offers_collection",
    "$suggested_offers_grid_item_size|default": [ "33.33333%", "100%" ],
    "size": "$suggested_offers_grid_item_size",
    "$is_hero_offer|default": false,
    "variables": [
      {
        "requires": "$is_hero_offer",
        "$description_size": [ "100%", 20 ]
      },
      {
        "requires": "(not $is_hero_offer)",
        "$description_size": [ "100%", 30 ]
      }
    ],
    "controls": [
      {
        "frame@common_store.banner_fill": {
          // overdraw our width by 1 pixel, to work around a layout/rendering rounding error that can result in an extra 1 pixel space showing up between items or after the last item
          "size": [ "100% + 1px", "100%" ],
          "layer": 3,
          "controls": [
            {
              "key_art@common_store.store_offer_key_art": {
                "size": [ "100% - 2px", "56.25%x" ],
                "offset": [ 0, 1 ],
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "layer": 1,
                "controls": [
                  {
                    "key_art_frame@common.square_image_border_white": {
                      "size": [ "100% + 2px", "100% + 2px" ],
                      "color": [ 0, 0, 0 ],
                      "layer": 2
                    }
                  }
                ]
              }
            },
            {
              "progress_loading@common_store.progress_loading": {
                "size": [ "100%", "56.25%x" ],
                "$source_control_name": "key_art",
                "$source_property_name": "(#texture = '')",
                "offset": [ 0, 1 ],
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "layer": 4,
                "$hide_failure_text": true
              }
            },
            {
              "progress@common_store.offer_download_progress": {
                "size": "$description_size",
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle",
                "layer": 6
              }
            },
            {
              "title_label_panel": {
                "type": "stack_panel",
                "size": [ "100% - 6px", 20 ],
                "offset": [ 3, -2 ],
                "anchor_from": "bottom_left",
                "anchor_to": "bottom_left",
                "controls": [
                  {
                    "title": {
                      "type": "label",
                      "size": [ "100%", 10 ],
                      "text": "#title_label",
                      "color": "$body_text_color",
                      "font_type": "smooth",
                      "layer": 1,
                      "bindings": [
                        {
                          "binding_type": "collection_details",
                          "binding_collection_name": "category_collection",
                          "binding_collection_prefix": "category"
                        },
                        {
                          "binding_type": "collection",
                          "binding_collection_name": "$offer_collection_name",
                          "binding_name": "#title_label"
                        }
                      ]
                    }
                  },
                  {
                    "offer_type": {
                      "type": "label",
                      "size": [ "100%", 10 ],
                      "text": "#offer_type_label",
                      "color": "$body_text_color",
                      "font_type": "smooth",
                      "layer": 1,
                      "bindings": [
                        {
                          "binding_type": "collection_details",
                          "binding_collection_name": "category_collection",
                          "binding_collection_prefix": "category"
                        },
                        {
                          "binding_type": "collection",
                          "binding_collection_name": "$offer_collection_name",
                          "binding_name": "#offer_type_label"
                        }
                      ]
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "category_collection",
                    "binding_collection_prefix": "category"
                  },
                  {
                    "binding_type": "collection",
                    "binding_name": "(not #progress_visible)",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            // This is the border hover/press states and click region, since the controls are complex it is better to draw a simple white border
            // around the content rather than create 3 sets of each control when only the border changes
            {
              "offer_button@common.button": {
                "layer": 4,
                "default_control": "",
                "$button.select_offer|default": "button.select_offer",
                "$pressed_button_name": "$button.select_offer",
                "bindings": [
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "category_collection"
                  },
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "category_collection",
                    "binding_collection_prefix": "category"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_name": "#offer_grid_item_button_focus_id",
                    "binding_name_override": "#focus_identifier"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_name": "#left_most_grid_item_focus_override_left",
                    "binding_name_override": "#focus_change_left"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_name": "#right_most_grid_item_focus_override_right",
                    "binding_name_override": "#focus_change_right",
                    "binding_condition": "visible"
                  },
                  {
                    "binding_type": "$offer_binding_type",
                    "binding_collection_name": "$offer_collection_name",
                    "binding_name": "#top_row_focus_override_up",
                    "binding_name_override": "#focus_change_up"
                  }
                ],
                "controls": [
                  {
                    "hover@common.square_image_border_white": {
                      "controls": [
                        {
                          "key_art_size_panel": {
                            "type": "panel",
                            "size": [ "100% - 2px", "56.25%x" ],
                            "offset": [ 0, 1 ],
                            "anchor_from": "top_middle",
                            "anchor_to": "top_middle",
                            "layer": 1,
                            "controls": [
                              {
                                "key_art_frame@common.square_image_border_white": {
                                  "size": [ "100% + 2px", "100% + 2px" ],
                                  "layer": 2
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "pressed@common.square_image_border_white": {
                      "controls": [
                        {
                          "key_art_size_panel": {
                            "type": "panel",
                            "size": [ "100% - 2px", "56.25%x" ],
                            "offset": [ 0, 1 ],
                            "anchor_from": "top_middle",
                            "anchor_to": "top_middle",
                            "layer": 1,
                            "controls": [
                              {
                                "key_art_frame@common.square_image_border_white": {
                                  "size": [ "100% + 2px", "100% + 2px" ],
                                  "layer": 2
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "category_collection",
        "binding_collection_prefix": "category"
      },
      {
        "binding_type": "collection",
        "binding_collection_name": "$offer_collection_name",
        "binding_name": "#valid_offer_index",
        "binding_name_override": "#visible"
      }
    ]
  },

  "suggested_content_offers_grid": {
    "type": "grid",
    "$offer_collection_name|default": "#suggested_offers_collection",
    "size": [ "100% - 24px", "100%" ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "grid_item_template": "common_store.suggested_content_offers_grid_item",
    "collection_name": "$offer_collection_name",
    "$suggested_offers_grid_dimensions|default": [ 3, 1 ],
    "grid_dimensions": "$suggested_offers_grid_dimensions"
  },

  "more_suggested_content_offers_button@common_buttons.dark_glyph_button": {
    "size": [ 24, "100%" ],
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "layer": 3,
    "$button.more_suggested_content_offers|default": "button.more_suggested_content_offers",
    "$pressed_button_name": "$button.more_suggested_content_offers",
    "$button_content": "common_store.plus_icon"
  },

  "suggested_content_offers_panel_base": {
    "type": "panel",
    "$suggested_offers_panel_size|default": [ "100%", "100%" ],
    "$suggested_content_offers_loading_binding|default": "#suggested_offers_loading",
    "size": "$suggested_offers_panel_size",
    "controls": [
      {
        "content": {
          "type": "panel",
          "size": [ "100% - 2px", "100% - 2px" ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "controls": [
            {
              "suggested_content_offers_grid@common_store.suggested_content_offers_grid": {
              }
            },
            {
              "more_suggested_content_offers_button@common_store.more_suggested_content_offers_button": {}
            }
          ],
          "bindings": [
            {
              "binding_name": "(not $suggested_content_offers_loading_binding)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "progress_loading@common_store.progress_loading": {
          "layer": 15,
          "bindings": [
            {
              "binding_name": "$suggested_content_offers_loading_binding",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "suggested_content_offers_panel_3x1@common_store.suggested_content_offers_panel_base": {
    "type": "panel",
    // Calculation based upon scaling three 16:9 images to maintain layout and aspect ratio
    // Formula as follows: ((100%x) * (100/177.78)/3) + 20px
    "$suggested_offers_panel_size": [ "100%", "18.7498%x + 20px" ],
    "$suggested_offers_grid_dimensions": [ 3, 1 ],
    "$suggested_offers_grid_item_size": [ "33.33333%", "100%" ]
  },

  "suggested_content_offers_panel_4x1@common_store.suggested_content_offers_panel_base": {
    "type": "panel",
    // Calculation based upon scaling three 16:9 images to maintain layout and aspect ratio
    // Formula as follows: ((100%x) * (100/177.78)/4) + 20px
    "$suggested_offers_panel_size": [ "100%", "14.0623%x + 20px" ],
    "$suggested_offers_grid_dimensions": [ 4, 1 ],
    "$suggested_offers_grid_item_size": [ "25%", "100%" ]
  },


  //--------------------------------------------------------------------------------
  // Search Objects
  //--------------------------------------------------------------------------------


  "search_text_box_panel": {
    "type": "panel",
    "size": [ "100%", 30 ],
    // dont want text to overlap the clear button
    "$text_edit_clipping_panel_size": [ "100% - 23px", "100%" ],
    "$text_edit_box_label_anchor_point": "left_middle",
    "controls": [
      {
        "search_text_box@common.text_edit_box": {
          "max_length": 50,
          "$text_box_name": "search_text_box",
          "$text_edit_box_content_binding_name": "#search_box_text_content",
          "$place_holder_text": "#place_holder_text",
          "$text_edit_box_placeholder_content_binding_name": "#place_holder_text",
          "$text_edit_box_placeholder_binding_condition": "visibility_changed",
          "$enabled": "#search_bar_enabled",
          "$text_box_enabled_binding_name": "#search_bar_enabled",

          // focus
          "$focus_override_down": "#search_results_close_focus_id",
          "$focus_override_up": "inventory_button",
          "focus_wrap_enabled": false
        }
      },
      {
        "clear_button@common.light_close_button": {
          "anchor_from": "right_middle",
          "anchor_to": "right_middle",
          "visible": false,
          "layer": 2,
          "focus_enabled": true,
          "$close_button_offset": [ -2, 0 ],
          "$close_button_visible_binding_name": "#search_clear_visible",
          "$close_button_visible_binding_type": "global",
          "button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "button.search_clear",
              "mapping_type": "pressed"
            },
            {
              "from_button_id": "button.menu_ok",
              "to_button_id": "button.search_clear",
              "mapping_type": "focused"
            }
          ]
        }
      },
      {
        "loading_spinner@common_store.progress_loading_spinner": {
          "$progress_loading_spinner_anchor": "right_middle",
          "offset": [ -6, 0 ],
          "layer": 2,
          "bindings": [
            {
              "binding_type": "global",
              "binding_name": "#search_spinner_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "search_label_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        // needed to center the label if used in stack panel
        "offset_panel": {
          "type": "panel",
          "size": [ "100%  - 8px", "100%c" ],
          "controls": [
            {
              "label": {
                "type": "label",
                "$label_size|default": [ "100%", "default" ],
                "size": "$label_size",
                "$search_label_text|default": "#search_label_text",
                "text": "$search_label_text",
                "text_alignment": "left",
                "anchor_from": "left_middle",
                "anchor_to": "left_middle",
                "$search_label_color|default": "$body_text_color",
                "color": "$search_label_color",
                "layer": 2,
                "$search_label_panel_bindings|default": [
                  {
                    "binding_name": "$search_label_text"
                  }
                ],
                "bindings": "$search_label_panel_bindings"
              }
            }
          ]
        }
      }
    ]
  },

  "error_text_panel@common_store.banner_fill": {
    "size": [ "100% - 2px", "100%c" ],
    "visible": false,
    "controls": [
      {
        "error_text_content": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "top_padding": {
                "type": "panel",
                "size": [ "100%", 4 ]
              }
            },
            {
              "label_panel@common_store.search_label_panel": {
                "$search_label_text": "#search_error_text",
                "$search_label_color": "$coin_color"
              }
            },
            {
              "bottom_padding": {
                "type": "panel",
                "size": [ "100%", 4 ]
              }
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#search_error_panel_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "results_text_panel@common_store.banner_fill": {
    "size": [ "100%", "100%c + 4px" ],
    "visible": false,
    "controls": [
      {
        "results_panel": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "top_padding": {
                "type": "panel",
                "size": [ "100%", 2 ]
              }
            },
            {
              "results_content": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%", "100%cm" ],
                "controls": [
                  {
                    "label_panel@common_store.search_label_panel": {
                      "size": [ "100% - 38px", "100%c" ],
                      "inherit_max_sibling_height": true,
                      "anchor_to": "left_middle",
                      "anchor_from": "left_middle",
                      "$search_label_text": "#search_results_text"
                    }
                  },
                  {
                    "mid_padding": {
                      "type": "panel",
                      "size": [ "fill", 0 ]
                    }
                  },
                  {
                    "results_close_centering_panel": {
                      "type": "panel",
                      "size": [ 20, 20 ],
                      "inherit_max_sibling_height": true,
                      "controls": [
                        {
                          "results_close_button@common.light_close_button": {
                            "size": [ 20, 20 ],
                            "$close_button_offset": [ 0, 0 ],
                            "focus_enabled": true,
                            "focus_identifier": "#search_results_close_focus_id",
                            "$close_button_to_button_id": "button.close_result_panel",
                            "focus_change_down": "store_offer_grid_panel_focus_id",
                            "bindings": [
                              {
                                "binding_name": "#seach_results_close_button_visible",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "right_padding": {
                      "type": "panel",
                      "size": [ 2, 0 ]
                    }
                  }
                ]
              }
            },
            {
              "bottom_padding": {
                "type": "panel",
                "size": [ "100%", 2 ]
              }
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#search_results_panel_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  //content panels for main filter and sorting buttons
  "filter_logo_content_panel": {
    "type": "panel",
    "size": [ 29, "100%" ],
    "controls": [
      {
        "filter_logo_image": {
          "type": "image",
          "size": [ 17, 17 ],
          "$filter_logo_offset|default": [ 0, 0 ],
          "offset": "$filter_logo_offset",
          "$filter_logo_anchor|default": "left_middle",
          "anchor_from": "$filter_logo_anchor",
          "anchor_to": "$filter_logo_anchor",
          "texture": "textures/ui/store_filter_icon"
        }
      },
      {
        "filter_count_label": {
          "type": "label",
          // only need to display up to "9+"
          "size": [ 12, 10 ],
          "$filter_logo_count_offset|default": [ 1, 2 ],
          "offset": "$filter_logo_count_offset",
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "text": "#filter_selected_count",
          "text_alignment": "center",
          "$filter_count_scale|default": 1.0,
          "font_scale_factor": "$filter_count_scale",
          "color": "$text_color",
          "tts_skip_message": true,
          "bindings": [
            {
              "binding_condition": "always_when_visible",
              "binding_name": "#filter_selected_count"
            }
          ]
        }
      }
    ]
  },

  "filter_sort_toggle@common_toggles.dark_content_toggle": {
    "$button_size_override": [ "100%", "100% + 1px" ],
    "$toggle_name": "($filter_sort_prefix + _filter_sort_toggle)",
    "$toggle_state_binding_name": "('#' + $filter_sort_prefix + _toggle_check)",
    "$toggle_binding_type": "global",
    "$content_toggle_label_tts_override": "#sort_toggle_label_tts_override",
    "$unchecked_locked_texture": "textures/ui/banners_no_border",
    "$checked_locked_texture": "textures/ui/banners_no_border",
    "$default_texture": "textures/ui/banners_no_border",
    "$hover_texture": "textures/ui/banners_no_border",
    "$pressed_texture": "textures/ui/banners_no_border_dark_hover",
    "$pressed_no_hover_texture": "textures/ui/banners_no_border_dark_hover",
    "$default_text_color": "$dark_toggle_checked_default_text_color",
    "$hover_text_color": "$dark_toggle_checked_hover_text_color",
    "$default_checked_glyph_color": "$dark_glyph_toggle_default_color",
    "$hover_checked_glyph_color": "$dark_glyph_toggle_hover_color",
    "$border_visible": true,
    "$toggle_default_state": true,
    "$is_collection|default": false,
    "variables": [
      {
        "requires": "$is_collection",
        "$toggle_binding_type": "collection",
        "$content_toggle_label_binding_type": "collection",
        "$content_toggle_label_tts_override_binding_type": "collection"
      }
    ]
  },

  "filter_sort_submenu_scrolling_panel_section": {
    "type": "panel",
    "size": [ "100%", "fill" ],
    "controls": [
      {
        "submenu_scrolling_panel@common.scrolling_panel": {
          "size": "$filter_sort_scrolling_panel_size",
          "anchor_from": "top_right",
          "anchor_to": "top_right",
          "$scrolling_pane_offset": [ 0, 0 ],
          "$scroll_size": [ 5, "100% - 4px" ],
          "$scroll_bar_left_padding_size": [ 0, 0 ],
          "$bar_visible": false,
          "$show_background": false
        }
      }
    ]
  },

  "filter_sort_grid_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "$filter_sort_collection_name": "($filter_sort_prefix + '_collection')",
    "$filter_sort_dimension_binding": "('#' + $filter_sort_collection_name + _grid_dimensions)",
    "$filter_button_panel_size|default": [ "100%", 30 ],
    "$filter_button_size|default": [ "100% - 16px", "100%" ],
    "controls": [
      {
        "filter_sort_grid": {
          "type": "stack_panel",
          "size": [ "100% - 16px", "100%c" ],
          "anchor_from": "right_middle",
          "anchor_to": "right_middle",
          "collection_name": "$filter_sort_collection_name",
          "$toggle_grid_collection_name": "$filter_sort_collection_name",
          "$is_collection": true,
          "factory": {
            "name": "filter_factory",
            "control_ids": {
              "filter_button": "@filter_menu.filter_checkbox_no_icon_toggle",
              "realms_plus_filter_button": "@filter_menu.realms_plus_filter",
              "csb_filter_button": "@filter_menu.csb_filter",
              "filter_sort_toggle": "@sort_menu.sort_menu_toggle_panel"
            },
            "factory_variables": [
              "$toggle_grid_collection_name",
              "$is_collection",
              "$filter_sort_collection_name",
              "$filter_sort_prefix",
              "$filter_button_panel_size",
              "$filter_button_size"
            ]
          },
          "bindings": [
            {
              "binding_name": "$filter_sort_dimension_binding",
              "binding_name_override": "#collection_length"
            }
          ]
        }
      }
    ]
  },

  "sort_button_content_panel": {
    "type": "image",
    "size": [ 21, 17 ],
    "texture": "textures/ui/store_sort_icon"
  },

  //Panel that includes search text bar, and filter and sort buttons
  "search_panel_filter": {
    "type": "stack_panel",
    "size": [ "100%", 30 ],
    "orientation": "horizontal",
    "controls": [
      {
        "search_text_box@common_store.search_text_box_panel": {
          "size": [ "fill", "100%" ]
        }
      },
      {
        "filter_button@common_buttons.light_content_button": {
          "$pressed_button_name": "button.filter",
          "size": [ 32, "100%" ],
          "$focus_id": "filter_button",
          "$filter_logo_anchor": "center",
          "$filter_count_scale": 0.88,
          "$focus_override_up": "search_header_text_box",
          "$button_content": "common_store.filter_logo_content_panel",
          "$button_tts_header": "accessibility.button.filter",
          "tts_override_control_value": "#tts_filters_appliedCount_text",
          "tts_value_order_priority": 1001,
          "bindings": [
            {
              "binding_name": "#tts_filters_appliedCount_text"
            }
          ]
        }
      },
      {
        "sort_button@common_buttons.light_content_button": {
          "$pressed_button_name": "button.sort",
          "size": [ 32, "100%" ],
          "$focus_override_up": "search_header_text_box",
          "$button_content": "common_store.sort_button_content_panel",
          "$button_tts_header": "accessibility.button.sort"
        }
      }
    ]
  },

  "search_results_and_error_stack": {
    "type": "stack_panel",
    "orientation": "vertical",
    "controls": [
      {
        "mid_padding_1": {
          "type": "panel",
          "size": [ "100%", 4 ],
          "bindings": [
            {
              "binding_name": "#search_error_panel_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "error_text_panel@common_store.error_text_panel": {}
      },
      {
        "mid_padding_2": {
          "type": "panel",
          "size": [ "100%", 4 ],
          "bindings": [
            {
              "binding_name": "#search_results_panel_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "results_text_panel@common_store.results_text_panel": {}
      }
    ]
  },

  //Main Search panel that'll include the 'search_panel_filter' above
  "search_panel": {
    "ignored": "$is_on_3p_server",
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "$content_between_searchbar_and_results|default": "common.empty_panel_size_y_0",
    "controls": [
      {
        "search_panel_content": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "search_text_box@common_store.search_panel_filter": {}
            },
            {
              "content_between_searchbar_and_results@$content_between_searchbar_and_results": {
                "bindings": [
                  {
                    "binding_name": "#search_bar_enabled",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "search_results_and_error_panel@common_store.search_results_and_error_stack": {
                "bindings": [
                  {
                    "binding_name": "#search_bar_enabled",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "bottom_padding": {
                "type": "panel",
                "size": [ "100%", 4 ]
              }
            }
          ]
        }
      }
    ]
  },

  "search_and_offer_content@common.modal_area_panel_base": {
    "size": [ "100% - 8px", "100%c" ],
    "$modal_binding_name": "#search_screen_enabled",
    "$search_offer_object|default": "store_item_list.store_offer_grid_panel",
    "$search_offer_content|default": "store_item_list.store_offer_grid",
    "$has_section_above_search_panel|default": false,
    "$ignore_search_offer_content|default": false,
    "controls": [
      {
        "search_and_offer_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "search_and_offer_content": {
                "type": "stack_panel",
                "orientation": "vertical",
                "size": [ "100%", "100%c + 2px" ],
                "controls": [
                  {
                    "top_padding": {
                      "type": "panel",
                      "size": [ "100%", 4 ]
                    }
                  },
                  {
                    "upper_section_panel": {
                      "ignored": "(not $has_section_above_search_panel)",
                      "type": "panel",
                      "size": [ "100%", "100%c" ],
                      "controls": [
                        {
                          "upper_section@$upper_section_conent": {}
                        }
                      ]
                    }
                  },
                  {
                    "search_panel@common_store.search_panel": {}
                  },
                  {
                    "offer_content_panel": {
                      "ignored": "$ignore_search_offer_content",
                      "type": "panel",
                      "size": [ "100%", "100%c" ],
                      "controls": [
                        {
                          "offer_content@$search_offer_content": {}
                        }
                      ],
                      "bindings": [
                        {
                          "binding_name": "#is_search_offer_list_visible",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "bottom_padding": {
                      "ignored": "$ignore_search_offer_content",
                      "type": "panel",
                      "size": [ "100%", 4 ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "search_object": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "search_object_content@common_store.search_and_offer_content": {}
      }
    ]
  },

  "sort_and_filter_menu_modal_panel": {
    "type": "panel",
    "visible": false,
    "property_bag": {
      "#visible": false
    },
    "controls": [
      {
        "filter_menu@$sort_and_filter_modal_control": {}
      }
    ],
    "bindings": [
      {
        "binding_name": "$sort_and_filter_modal_visible_bind",
        "binding_name_override": "#visible"
      }
    ]
  },

  "sort_and_filter_menu_modals": {
    "type": "panel",
    "visible": false,
    "bindings": [
      {
        "binding_name": "(not #page_loading_visible)",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ],
    "controls": [
      {
        "filter_menu_modal@common_store.sort_and_filter_menu_modal_panel": {
          "$sort_and_filter_modal_control": "filter_menu.filter_menu_screen_content",
          "$sort_and_filter_modal_visible_bind": "#filter_screen_visible"
        }
      },
      {
        "sort_menu_panel@common_store.sort_and_filter_menu_modal_panel": {
          "$sort_and_filter_modal_control": "sort_menu.sort_menu_screen_content",
          "$sort_and_filter_modal_visible_bind": "#sort_screen_visible"
        }
      }
    ]
  },

  "search_filter_sort_background@common.screen_background": {
    "$search_filter_sort_bg_alpha|default": 0.65,
    "alpha": "$search_filter_sort_bg_alpha"
  },

  "search_filter_background_panel": {
    "type": "panel",
    "controls": [
      {
        "search_filter_sort_background@common_store.search_filter_sort_background": {} // Texture is ignored in VR
      }
    ]
  },

  "close_bg_button@common.button": {
    "layer": 0,
    "focus_enabled": false,
    "$pressed_button_name": "$close_bg_exit_button_name",
    "controls": [
      {
        "default@common_store.search_filter_background_panel": {}
      },
      {
        "hover@common_store.search_filter_background_panel": {}
      },
      {
        "pressed@common_store.search_filter_background_panel": {}
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "global"
      }
    ]
  },

  "close_bg_panel": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "header_close_button@common_store.close_bg_button": {
          "size": "$store_header_size",
          "offset": [ 0, -23 ],
          "anchor_from": "top_right",
          "anchor_to": "top_right"
        }
      },
      {
        "main_close_button@common_store.close_bg_button": {}
      }
    ]
  },

  "vertical_line_divider_row": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "10px" ],
    "controls": [
      {
        "vert_line_divider_row_top_buffer": {
          "type": "panel",
          "size": [ "100%", "4px" ]
        }
      },
      {
        "vertical_line_divider_horizontal_panel_with_padding": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", "2px" ],
          "controls": [
            {
              "vert_line_divider_row_left_buffer": {
                "type": "panel",
                "size": [ "8px", "100%" ]
              }
            },
            {
              "vertical_line_divider_row_line@common_store.sdl_texture": {
                "texture": "textures/ui/white_background",
                "size": [ "100% - 16px", "100%" ],
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "fill": true,
                "keep_ratio": false,

                "$ignore_texture_related_binds": true,
                "$ignore_texture_visiblity_bind": true
              }
            },
            {
              "vert_line_divider_row_right_buffer": {
                "type": "panel",
                "size": [ "8px", "100%" ]
              }
            }
          ]
        }
      },
      {
        "vert_line_divider_row_bottom_buffer": {
          "type": "panel",
          "size": [ "100%", "4px" ]
        }
      }
    ]
  },

  "sdl_dropdown_header_row_button@common_toggles.light_content_toggle": {
    "$row_binding_type|default": "collection",

    "$ignore_content_toggle_image": true,
    "$toggle_name": "toggle.dropdown_header",

    "$default_checked_text_color": "$dropdown_radio_background_checked_color",
    "$hover_texture": "textures/ui/button_borderless_lightpressednohover",

    "$content_toggle_label_offset": [ 0, 0 ],
    "$content_toggle_label_font_type": "default",

    "$content_toggle_icon_size": [ 11, 11 ],
    "$checked_toggle_icon": "textures/ui/dropdown_chevron_up",
    "$checked_hover_toggle_icon": "textures/ui/chevron_white_up",
    "$unchecked_toggle_icon": "textures/ui/dropdown_chevron",
    "$unchecked_hover_toggle_icon": "textures/ui/chevron_white_down",

    "$toggle_binding_type": "$row_binding_type",
    "$toggle_binding_condition": "visible",
    "$toggle_state_binding_name": "#is_sdl_dropdown_header_toggle_selected"
  },

  "sdl_subcategory_button@persona_sdl.subcategory_button": {
    "$row_binding_type|default": "collection",
    "$row_binding_collection_details_type|default": "$store_factory_collection_details",
    "$row_binding_collection_name|default": "$store_factory_collection_name",
    "$row_binding_collection_prefix|default": "$store_factory_collection_prefix",

    "size": [ "100%", 25 ],

    // button vars
    "$pressed_button_name": "button.subcategory_selected",
    "$hover_button_name": "button.subcategory_button_hovered",
    "$button_content": "persona_sdl.sub_category_label_image_button_content",
    "$focus_id": "subcategory_button",

    // override textures
    "$default_button_texture": "",
    "$hover_button_texture": "textures/ui/white_background",
    "$pressed_button_texture": "textures/ui/banners_no_border_dark_hover",
    "$locked_button_texture": "textures/ui/banners_no_border",

    // override text colors
    "$default_text_color": "$dark_toggle_checked_default_text_color",
    "$hover_text_color": "$dark_toggle_checked_hover_text_color",
    "$border_visible": false,

    // override image properties
    "$hover_button_image_fill": true,
    "$hover_content_alpha": 0.5,
    "$hover_button_image_color": "$dressing_room_subcategory_button_hover_color",

    // content vars
    "$content_label_image_binding_type": "collection",
    "$content_label_image_collection_name": "$store_factory_collection_name",
    "$content_label_binding_name": "#section_header",
    "$content_image_binding_name": "#sdl_texture_component_image_path",
    "$content_image_binding_system": "#sdl_texture_component_image_system",
    "$content_image_is_dynamic": true,
    "$content_label_image_file_system_binding_type": "$content_label_image_binding_type",

    "bindings": [
      {
        "binding_type": "$row_binding_collection_details_type",
        "binding_collection_name": "$row_binding_collection_name",
        "binding_collection_prefix": "$row_binding_collection_prefix"
      },
      {
        "binding_type": "$row_binding_type",
        "binding_collection_name": "$row_binding_collection_name",
        "binding_name": "#is_sdl_dropdown_header_toggle_selected"
      },
      {
        "binding_type": "$row_binding_type",
        "binding_collection_name": "$row_binding_collection_name",
        "binding_name": "#sdl_texture_component_image_system"
      }
    ]
  },

  "sdl_dropdown_header_row": {
    "type": "panel",
    "size": [ "100%", 28 ],
    "controls": [
      {
        "drowdown_header_row_content": {
          "type": "panel",
          "size": [ "100% - 6px", "100%" ],
          "$header_row_binding_type|default": "collection",
          "$header_row_binding_collection_details_type|default": "$store_factory_collection_details",
          "$header_row_binding_collection_name|default": "$store_factory_collection_name",
          "$header_row_binding_collection_prefix|default": "$store_factory_collection_prefix",

          "$category_collection_prefix": "category",
          "$category_collection_name": "category_collection",

          "controls": [
            {
              "button_aspects@common_store.sdl_dropdown_header_row_button": {
                "$content_toggle_label": "#section_header",
                "$text_color": "#section_header_color",
                "$content_toggle_label_binding_type": "collection",
                "$toggle_grid_collection_name": "$header_row_binding_collection_name",
                "$row_binding_type": "$header_row_binding_type",

                "bindings": [
                  {
                    "binding_type": "$header_row_binding_collection_details_type",
                    "binding_collection_name": "$header_row_binding_collection_name",
                    "binding_collection_prefix": "$header_row_binding_collection_prefix"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "sdl_dropdown_data_row": {
    "type": "panel",
    "size": [ "100%", 28 ],
    "$data_row_binding_type|default": "collection",
    "$data_row_binding_collection_details_type|default": "$store_factory_collection_details",
    "$data_row_binding_collection_name|default": "$store_factory_collection_name",
    "$data_row_binding_collection_prefix|default": "$store_factory_collection_prefix",
    "controls": [
      {
        "row_background": {
          "type": "image",
          "size": [ "100%", "100%" ],
          "texture": "textures/ui/banners_dark"
        }
      },
      {
        "button_aspects@common_store.sdl_subcategory_button": {
          "$row_binding_type": "$data_row_binding_type",
          "$row_binding_collection_details_type": "$data_row_binding_collection_details_type",
          "$row_binding_collection_name": "$data_row_binding_collection_name",
          "$row_binding_collection_prefix": "$data_row_binding_collection_prefix"
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$data_row_binding_collection_details_type",
        "binding_collection_name": "$data_row_binding_collection_name",
        "binding_collection_prefix": "$data_row_binding_collection_prefix"
      },
      {
        "binding_type": "$data_row_binding_type",
        "binding_name": "#sdl_dropdown_data_row_visible",
        "binding_collection_name": "$data_row_binding_collection_name",
        "binding_name_override": "#visible"
      }
    ]
  }
}
