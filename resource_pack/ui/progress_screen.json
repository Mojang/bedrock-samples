{
  "namespace": "progress",

  //--------------------------------------------------------------------------------
  // Popup Dialog for resource packs
  "popup_dialog_base@popup_dialog.popup_dialog": {
    "size": [ "90%", "90%" ],
    "$left_button_press": "button.confirm_download", //"button.download_resourcepack",
    "$left_button_text": "gui.close", //"progress.resourcepack.download",
    "$right_button_press": "button.deny_packs", //"button.close_dialog",
    "$right_button_text": "gui.close", //"progress.resourcepack.cancel",
    "controls": [
      { "background@popup_dialog.popup_dialog_bg": {} },
      {
        "scrolling_panel@common.scrolling_panel": {
          "layer": 1,
          "size": [ "100%", "70c%" ],
          "offset": [ "0%", "10%" ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "$scrolling_pane_size": [ "99c%", "99c%" ],
          "$scrolling_pane_offset": [ "0.5c%", "0.5c%" ],
          "$scrolling_content": "progress.resource_pack_section"
        }
      },
      {
        //total number of selected packs x/y
        "totalSelected": {
          "layer": 100,
          "type": "label",
          "size": [ "100c%", 10 ],
          "color": "$dark_body_text_color",
          "offset": [ "0.75%", "-16%" ],
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left",
          "text": "#selectedPacks",
          "bindings": [
            {
              "binding_name": "#selectedPacks"
            }
          ]
        }
      },
      {
        //total download size of selected packs
        "totalSelectedSize": {
          "type": "label",
          "size": [ "50c%", 10 ],
          "color": "$dark_body_text_color",
          "offset": [ "-0.75%", "-16%" ],
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "text": "#selectedPackSize",
          "bindings": [
            {
              "binding_name": "#selectedPackSize"
            }
          ]
        }
      },
      {
        "left@popup_dialog.popup_dialog_left_button": {
          "size": [ "49.25%", "15%" ],
          "offset": [ "0.5%", "-1%" ]
        }
      },
      {
        "right@popup_dialog.popup_dialog_right_button": {
          "size": [ "49.25%", "15%" ],
          "offset": [ "-0.5%", "-1%" ]
        }
      }
    ]
  },

  // Checkbox with label
  "checkbox_visual": {
    "type": "panel",
    "size": [ "100%", 20 ],
    "$text_alpha|default": 1.0,
    "$checkbox_label_bindings|default": [],
    "controls": [
      {
        "$toggle_visual@$toggle_visual": {
          "anchor_from": "top_left",
          "anchor_to": "top_left"
        }
      },
      {
        "control": {
          "type": "label",
          "color": "$sub_header_text_color",
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "text": "$checkbox_label_text",
          "offset": [ 18, -1.5 ],
          "alpha": "$text_alpha",
          "bindings": "$checkbox_label_bindings"
        }
      }
    ]
  },

  "checkbox_visuals_unchecked@checkbox_visual": {
    "$toggle_visual": "common.checkbox_unchecked_state"
  },

  "checkbox_visuals_checked@checkbox_visual": {
    "$toggle_visual": "common.checkbox_checked_state"
  },

  "checkbox_visuals_unchecked_locked@checkbox_visual": {
    "$toggle_visual": "common.checkbox_unchecked_locked_state",
    "$text_alpha": 0.5
  },

  "checkbox_visuals_checked_locked@checkbox_visual": {
    "$toggle_visual": "common.checkbox_checked_locked_state",
    "$text_alpha": 0.5
  },

  "checkbox_visuals_unchecked_hover@checkbox_visual": {
    "$toggle_visual": "common.checkbox_unchecked_hover_state"
  },

  "checkbox_visuals_checked_hover@checkbox_visual": {
    "$toggle_visual": "common.checkbox_checked_hover_state"
  },

  "checkbox_with_label_core@common.checkbox": {
    "$unchecked_control": "progress.checkbox_visuals_unchecked",
    "$checked_control": "progress.checkbox_visuals_checked",
    "$unchecked_hover_control": "progress.checkbox_visuals_unchecked_hover",
    "$checked_hover_control": "progress.checkbox_visuals_checked_hover",
    "$unchecked_locked_control": "progress.checkbox_visuals_unchecked_locked",
    "$unchecked_locked_hover_control": "progress.checkbox_visuals_unchecked_locked",
    "$checked_locked_control": "progress.checkbox_visuals_checked_locked",
    "$checked_locked_hover_control": "progress.checkbox_visuals_checked_locked",
    "size": [ "100%", "100%c" ],

    "enabled": "$enabled"
  },

  "checkbox_with_label": {
    "type": "panel",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "size": [ "100%", "17px" ],
    "offset": [ 3, 0 ],
    "$enabled|default": true,
    "controls": [
      { "checkbox_with_label_core@progress.checkbox_with_label_core": {} }
    ]
  },

  // Resourcepack button & section
  "resource_pack_grid_item@progress.checkbox_with_label": {

    "$toggle_default_state": true,
    "$enabled": "$optional_pack",

    "$checkbox_label_text": "#resource_pack_name",
    "$checkbox_label_bindings": [
      {
        "binding_name": "#resource_pack_name",
        "binding_type": "collection",
        "binding_condition": "once",
        "binding_collection_name": "$resource_pack_collection"
      }
    ],
    "$toggle_binding_type": "collection",
    "$toggle_name": "$resource_pack_collection",
    "$toggle_grid_collection_name": "$resource_pack_collection"
  },

  "resource_pack_section": {
    "type": "stack_panel",
    "size": [ "99%", "99%c + 4px" ],
    "offset": [ "0.5%", "0.5% + 2px" ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "$default_text_color": [ 0.3, 0.3, 0.3 ],
    "$active_text_color": [ 1.0, 1.0, 1.0 ],

    "controls": [
      {
        "required_resource_pack_list_grid": {
          "type": "grid",
          "size": [ "100%", "100%c" ],

          "grid_item_template": "progress.resource_pack_grid_item",
          //for grid_item_template
          "$optional_pack": false,
          "$resource_pack_collection": "required_resourcepacks",


          "grid_dimension_binding": "#required_resource_pack_grid_dimension",
          "collection_name": "required_resourcepacks",
          "bindings": [
            {
              "binding_name": "#required_resource_pack_grid_dimension",
              "binding_condition": "visible"
            }
          ]
        }
      },
      {
        "optional_resource_pack_list_grid": {
          "type": "grid",
          "size": [ "100%", "100%c" ],


          "grid_item_template": "progress.resource_pack_grid_item",
          //for grid_item_template
          "$optional_pack": true,
          "$resource_pack_collection": "optional_resourcepacks",


          "grid_dimension_binding": "#optional_resource_pack_grid_dimension",
          "collection_name": "optional_resourcepacks",
          "bindings": [
            {
              "binding_name": "#optional_resource_pack_grid_dimension",
              "binding_condition": "visible"
            }
          ]
        }
      }
    ]
  },

  //--------------------------------------------------------------------------------

  "simple_popup_dialog_base@popup_dialog.popup_dialog": {
    "size": [ "50%", "100%c" ],
    "max_size": [ "50%", "100% - 4px" ],
    "min_size": [ "50%", "50%" ],

    "$use_top_button|default": false,
    "$top_button_press|default": "",
    "$top_button_text|default": "",
    "$button_size": [ "100%", 30 ],
    "$has_second_line|default": false,
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "modal.escape",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_up",
        "to_button_id": "button.menu_up",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_down",
        "to_button_id": "button.menu_down",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_left",
        "to_button_id": "button.menu_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_right",
        "to_button_id": "button.menu_right",
        "mapping_type": "global",
        "scope": "view"
      }
    ],

    "controls": [
      {
        "dialog_background_hollow_3@common.dialog_background_hollow_3": {
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "control": {
                "type": "image",
                "texture": "textures/ui/control",
                "layer": -10,
                "size": [ "100% - 16px", "100%c" ],
                "alpha": 1,
                "controls": [
                  {
                    "content_panel": {
                      "type": "stack_panel",
                      "size": [ "100% - 4px", "100%c + 10px" ],
                      "controls": [
                        {
                          "padding_0": {
                            "type": "panel",
                            "size": [ 0, 8 ]
                          }
                        },
                        {
                          "title": {
                            "layer": 101,
                            "type": "label",
                            "offset": [ 0, 8 ],
                            "size": [ "95%", 10 ],
                            "color": "$title_text_color",
                            "shadow": false,
                            "text": "$title_text"
                          }
                        },
                        {
                          "padding_1": {
                            "type": "panel",
                            "size": [ 0, 8 ]
                          }
                        },
                        {
                          "description": {
                            "layer": 101,
                            "type": "label",
                            "size": [ "100%", "default" ],
                            "color": "$body_text_color",
                            "text": "$description_text",
                            "bindings": [
                              {
                                "binding_name": "$description_text"
                              }
                            ]
                          }
                        },
                        {
                          "padding_2": {
                            "type": "panel",
                            "size": [ 0, 8 ],
                            "visible": "$has_second_line",
                            "enabled": "$has_second_line"
                          }
                        },
                        {
                          "description2": {
                            "layer": 101,
                            "type": "label",
                            "size": [ "100%", "default" ],
                            "color": "$body_text_color",
                            "text": "$description_text2",
                            "ignored": "(not $has_second_line)",
                            "bindings": [
                              {
                                "binding_name": "$description_text2"
                              }
                            ]
                          }
                        },
                        {
                          "padding_3": {
                            "type": "panel",
                            "size": [ 0, 8 ]
                          }
                        },
                        {
                          "top_optional_button@popup_dialog.popup_dialog_button_with_binding": {
                            "visible": "$use_top_button",
                            "enabled": "$use_top_button",
                            "size": "$button_size",
                            "$pressed_button_name": "$top_button_press",
                            "$button_binding_condition": "once",
                            "$button_text_binding_type": "global",
                            "$button_text": "$top_button_text"
                          }
                        },
                        {
                          "padding_4": {
                            "type": "panel",
                            "size": [ 0, 2 ],
                            "visible": "$use_top_button",
                            "enabled": "$use_top_button"
                          }
                        },
                        {
                          "middle_button@popup_dialog.popup_dialog_button_with_binding": {
                            "size": "$button_size",
                            "$pressed_button_name": "$middle_button_press",
                            "$button_binding_condition": "once",
                            "$button_text_binding_type": "global",
                            "$button_text": "$middle_button_text"
                          }
                        },
                        {
                          "padding_5": {
                            "type": "panel",
                            "size": [ 0, 2 ]
                          }
                        },
                        {
                          "bottom_button@popup_dialog.popup_dialog_button": {
                            "size": "$button_size",
                            "$pressed_button_name": "$bottom_button_press",
                            "$button_text": "$bottom_button_text"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "resource_pack_download_popup_base@progress.simple_popup_dialog_base": {
    "$title_text": "progressScreen.dialog.title.resourcePack",
    "$has_second_line": "#show_ray_tracing_warning",
    "$description_text": "#pack_download_type_message",
    "$description_text2": "#ray_tracing_warning_message",
    "bindings": [
      {
        "binding_name": "#show_ray_tracing_warning"
      },
      {
        "binding_name": "#pack_download_type_message"
      },
      {
        "binding_name": "#ray_tracing_warning_message"
      }
    ]
  },

  "resource_pack_download_server_required@progress.resource_pack_download_popup_base": {
    "$top_button_text": "#empty_binding",

    "$middle_button_press": "button.join_and_download_everything",
    "$middle_button_text": "#join_and_download_everything",

    "$bottom_button_press": "button.leave",
    "$bottom_button_text": "progressScreen.dialog.button.leave"
  },

  "resource_pack_download_optional_and_required@progress.resource_pack_download_popup_base": {
    "$use_top_button": true,
    "$top_button_press": "button.join_and_download_everything",
    "$top_button_text": "#join_and_download_everything",

    "$middle_button_press": "button.join_and_download_required",
    "$middle_button_text": "#join_and_download_required",

    "$bottom_button_press": "button.leave",
    "$bottom_button_text": "progressScreen.dialog.button.leave"
  },

  "resource_pack_download_optional@progress.resource_pack_download_popup_base": {
    "$top_button_text": "#empty_binding",

    "$middle_button_press": "button.join_and_download_everything",
    "$middle_button_text": "#join_and_download_everything",

    "$bottom_button_press": "button.join",
    "$bottom_button_text": "progressScreen.dialog.button.join"
  },

  "resource_pack_download_required@progress.resource_pack_download_popup_base": {
    "$top_button_text": "#empty_binding",

    "$middle_button_press": "button.join_and_download_required",
    "$middle_button_text": "#join_and_download_required",

    "$bottom_button_press": "button.leave",
    "$bottom_button_text": "progressScreen.dialog.button.leave"
  },

  //--------------------------------------------------------------------------------

  "normal_stroke_button": {
    "type": "image",
    "texture": "textures/ui/NormalButtonThinStroke"
  },
  "progress_screen_text": {
    "type": "label",
    "color": "$loading_text_color",
    "anchor_to": "center",
    "anchor_from": "center",
    "layer": 2,
    "shadow": false
  },

    "progress_title_text@progress.progress_screen_text": {
        "size": [ "default", 20 ],
        "max_size": [ "100% - 8px", 20 ],
        "offset": [ 0, -15 ],
        "$title_text_binding|default": "#title_text",
        "text": "$title_text_binding",
        "bindings": [
            {
                "binding_name": "$title_text_binding"
            }
        ]
    },

    "progress_bar_text@progress.progress_screen_text": {
        "size": [ "default", 20 ],
        "max_size": [ "100% - 8px", 20 ],
        "offset": [ 0, 9 ],
        "$progress_text_binding|default": "#progress_text",
        "text": "$progress_text_binding",
        "bindings": [
            { "binding_name": "$progress_text_binding" }
        ]
    },

  "code_text@progress.progress_screen_text": {
    "size": [ "default", 20 ],
    "max_size": [ "100% - 8px", 20 ],
    "text": "#code_text",
    "bindings": [
      { "binding_name": "#code_text" }
    ]
  },

  "code_number@progress.progress_screen_text": {
    "size": [ "default", 20 ],
    "max_size": [ "100% - 8px", 20 ],
    "text": "#code_number",
    "color": "$e_color_format",
    "bindings": [
      { "binding_name": "#code_number" }
    ]
  },

  "bar_animation": {
    "anim_type": "flip_book",
    "initial_uv": [ 0, 0 ],
    "frame_count": 10,
    "frame_step": 64,
    "fps": 10,
    "reversible": true,
    "easing": "linear"
  },

  "progress_loading_bars": {
    "type": "image",
    "layer": 2,
    "texture": "textures/ui/loading_bar",
    "anchor_from": "center",
    "anchor_to": "center",
    "offset": [ 0, 24 ],
    "size": [ 64, 8 ],
    "uv_size": [ 64, 8 ],
    "uv": "@progress.bar_animation",
    "color": [ 0.7, 0.7, 0.7, 1.0 ],
    "bindings": [
      {
        "binding_name": "#bar_animation_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "spinner_animation": {
    "anim_type": "flip_book",
    "initial_uv": [ 0, 0 ],
    "frame_count": 10,
    "frame_step": 7,
    "fps": 10
  },

  "progress_loading_spinner": {
    "type": "image",
    "layer": 2,
    "texture": "textures/ui/loading_spin",
    "offset": [ 0, 24 ],
    "uv_size": [ 7, 7 ],
    "size": [ 14, 14 ],
    "uv": "@progress.spinner_animation",
    "bindings": [
      {
        "binding_name": "#spinner_animation_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "fancy_progress_loading_bars": {
    "type": "panel",
    "anchor_from": "center",
    "anchor_to": "center",
    "size": [ "90%", 5 ],
    "layer": 5,
    "controls": [
      {
        "full_progress_bar_icon@achievement.full_progress_bar_icon_base": {
          "layer": 2,
          "bindings": [
            {
              "binding_name": "#loading_bar_percentage",
              "binding_name_override": "#clip_ratio"
            }
          ]
        }
      },
      {
        "empty_progress_bar_icon@achievement.empty_progress_bar_icon": {
          "layer": 1
        }
      },
      {
        "progress_bar_nub@progress.progress_bar_nub": {
          "size": [ "100% - 10px", 5 ],
          "layer": 4
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#loading_bar_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "progress_bar": {
    "type": "custom",
    "renderer": "progress_bar_renderer",
    "layer": 2,
    "offset": [ 0, 16 ],
    "size": [ 100, 2 ],
    "primary_color": [ 0.5, 1.0, 0.5, 1.0 ],
    "bindings": [
      {
        "binding_name": "#loading_bar_visible",
        "binding_name_override": "#touch_progress_bar_visible"
      },
      {
        "binding_name": "#loading_bar_total_amount",
        "binding_name_override": "#progress_bar_total_amount"
      },
      {
        "binding_name": "#loading_bar_current_amount",
        "binding_name_override": "#progress_bar_current_amount"
      }
    ]
  },

  "progress_bar_nub": {
    "type": "image",
    "texture": "textures/ui/experiencenub",
    "tiled": true
  },

  "thick_progress_bar_icon_base": {
    "type": "image",
    "texture": "textures/ui/progress_bar_simple",
    "color": "$day_one_experience_import_progress_bar_fill",
    "clip_direction": "left",
    "clip_pixelperfect": false
  },

  "thick_progress_bar_icon_empty": {
    "type": "image",
    "texture": "textures/ui/progress_bar_simple",
    "color": "$day_one_experience_import_progress_bar_empty"
  },

  "thick_progress_bar": {
    "type": "panel",
    "anchor_from": "center",
    "anchor_to": "center",
    "size": [ "90%", 14 ],
    "layer": 5,
    "controls": [
      {
        "full_progress_bar_icon@progress.thick_progress_bar_icon_base": {
          "layer": 2,
          "bindings": [
            {
              "binding_name": "#loading_bar_percentage",
              "binding_name_override": "#clip_ratio"
            }
          ]
        }
      },
      {
        "empty_progress_bar_icon@progress.thick_progress_bar_icon_empty": {
          "layer": 1
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#loading_bar_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "edu_cloud_upload_progress_bar": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "waveform_loading_bar@progress.progress_loading_bars": {
          "bindings": [
            {
              "binding_name": "(not #use_determinate_animation)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "determinate_loading_bar@progress.fancy_progress_loading_bars": {
          "offset": [ 0, 25 ],
          "bindings": [
            {
              "binding_name": "#use_determinate_animation",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#progress_animation_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "cancel_button@common_buttons.light_text_button": {
    "$pressed_button_name|default": "button.menu_exit",
    "$button_text": "#cancel_button_text",
    "$button_text_binding_type": "global",
    "size": [ 66, 26 ],
    "offset": [ 0, 0 ],
    "bindings": [
      {
        "binding_name": "#cancel_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "retry_button@common_buttons.light_text_button": {
    "$pressed_button_name": "button.menu_retry",
    "$button_text": "gui.retry",
    "size": [ 66, 26 ],
    "offset": [ 50, 0 ],
    "bindings": [
      {
        "binding_name": "#retry_and_abort_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "abort_button@common_buttons.light_text_button": {
    "$pressed_button_name": "button.menu_exit",
    "$button_text": "gui.cancel",
    "size": [ 66, 26 ],
    "offset": [ -50, 0 ],
    "bindings": [
      {
        "binding_name": "#retry_and_abort_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "ok_button@common_buttons.light_text_button": {
    "$pressed_button_name": "button.menu_exit",
    "$button_text": "gui.ok",
    "size": [ 66, 26 ],
    "offset": [ 0, 0 ],
    "bindings": [
      {
        "binding_name": "#ok_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "title_panel": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "anchor_from": "center",
    "anchor_to": "center",
    "controls": [
      {
        "progress_title_text@progress.progress_title_text": {}
      },
      {
        "progress_bar_text@progress.progress_bar_text": {}
      },
      {
        "progress_bar@progress.progress_bar": {}
      }
    ]
  },

  "button_panel": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "anchor_from": "center",
    "anchor_to": "center",
    "layer": 2,
    "controls": [
      {
        "cancel_button@progress.cancel_button": {
          "offset": [ 0, 55 ]
        }
      }
    ]
  },

  "modal_button_panel@button_panel": {
    "controls": [
      {
        "cancel_button@progress.cancel_button": {}
      }
    ]
  },

  "modal_button_panel_with_retry@modal_button_panel": {
    "controls": [
      {
        "abort_button@progress.abort_button": {}
      },
      {
        "cancel_button@progress.cancel_button": {}
      },
      {
        "retry_button@progress.retry_button": {}
      }
    ]
  },

  "modal_ok_button_panel@button_panel": {
    "controls": [
      {
        "ok_button@progress.ok_button": {}
      }
    ]
  },

  "gamepad_helpers": {
    "type": "panel",
    "size": [ 100, 10 ],
    "offset": [ 0, "45%" ],
    "controls": [
      {
        "gamepad_helper_a@common.gamepad_helper_a": {
          "anchor_from": "center",
          "anchor_to": "center"
        }
      }
    ]
  },

  "world_image": {
    "type": "image",
    "texture": "textures/ui/worldsIcon",
    "size": [ 16, 16 ]
  },

  "cloud_image": {
    "type": "image",
    "texture": "textures/ui/cloud_only_storage",
    "size": [ 14, 10 ]
  },

  "server_image": {
    "type": "image",
    "texture": "textures/ui/servers",
    "size": [ 16, 16 ]
  },

  "edu_cloud_upload_image": {
    "type": "stack_panel",
    "size": [ "100%c", 20 ],
    "orientation": "horizontal",
    "controls": [
      {
        "world_image_wrapper": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            { "fetch_world_image@progress.world_image": { "offset": [ -6, 0 ] } }
          ]
        }
      },
      {
        "arrow_image_wrapper": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "arrow_image": {
                "type": "image",
                "texture": "textures/ui/arrow",
                "size": [ 16, 16 ]
              }
            }
          ]
        }
      },
      {
        "cloud_image_wrapper": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            { "upload_cloud_image@progress.cloud_image": { "offset": [ 6, 3 ] } }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#edu_cloud_upload_images_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "edu_cloud_fetch_image": {
    "type": "stack_panel",
    "size": [ "100%c", 16 ],
    "orientation": "horizontal",
    "controls": [
      {
        "cloud_image_wrapper": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            { "fetch_cloud_image@progress.cloud_image": { "offset": [ -6, 3 ] } }
          ]
        }
      },
      {
        "spyglass_image_wrapper": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "spyglass_image": {
                "type": "image",
                "texture": "textures/ui/spyglass_flat",
                "size": [ 16, 16 ],
                "offset": [ 0, 0 ]
              }
            }
          ]
        }
      },
      {
        "world_image_wrapper": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            { "fetch_world_image@progress.world_image": { "offset": [ 6, 0 ] } }
          ]
        }
      }
    ]
  },

  "edu_cloud_download_image": {
    "type": "stack_panel",
    "size": [ "100%c", 16 ],
    "orientation": "horizontal",
    "offset": [ 0, 5 ],
    "controls": [
      {
        "cloud_image_wrapper": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            { "download_cloud_image@progress.cloud_image": { "offset": [ -6, 5 ] } }
          ]
        }
      },
      {
        "arrow_image_wrapper": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "arrow_image": {
                "type": "image",
                "texture": "textures/ui/arrow",
                "size": [ 18, 15 ],
                "offset": [ 0, 2 ]
              }
            }
          ]
        }
      },
      {
        "world_image_wrapper": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            { "download_world_image@progress.world_image": { "offset": [ 6, 1 ] } }
          ]
        }
      }
    ]
  },

  "edu_server_fetch_image": {
    "type": "stack_panel",
    "size": [ "100%c", 16 ],
    "orientation": "horizontal",
    "controls": [
      {
        "server_image_wrapper_left": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            { "server_image@progress.server_image": { "offset": [ -6, 0 ] } }
          ]
        }
      },
      {
        "spyglass_image_wrapper": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "spyglass_image": {
                "type": "image",
                "texture": "textures/ui/spyglass_flat",
                "size": [ 16, 16 ],
                "offset": [ 0, 0 ]
              }
            }
          ]
        }
      },
      {
        "server_image_wrapper_right": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            { "server_image@progress.server_image": { "offset": [ 6, 0 ] } }
          ]
        }
      }
    ]
  },

  //---------------------------------------------------------------------------
  // Screens
  //---------------------------------------------------------------------------

  "modal_progress_panel_no_cancel": {
    "type": "panel",
    "size": "$modal_screen_size",
    "$background_fill_alpha|default": 0.8,
    "controls": [
      {
        "common_panel@common.common_panel": {
          "$dialog_background": "dialog_background_hollow_4",
          "$fill_alpha": "$background_fill_alpha",
          "$show_close_button": false
        }
      },
      {
        "content": {
          "type": "panel",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          // magic offset to make the scroll clipping perfect
          "size": [ "100%-12px", "100%-12px" ],
          "offset": [ 6, 6 ],
          "controls": [
            {
              "title_panel@progress.title_panel": {}
            },
            {
              "progress_loading_bars@progress.progress_loading_bars": {}
            }
          ]
        }
      }
    ]
  },

  "modal_progress_panel_with_cancel": {
    "type": "panel",
    "size": "$modal_screen_size",
    "$background_fill_alpha|default": 0.8,
    "controls": [
      {
        "common_panel@common.common_panel": {
          "$dialog_background": "dialog_background_hollow_2",
          "$fill_alpha": "$background_fill_alpha",
          "$show_close_button": false
        }
      },
      {
        "content": {
          "type": "panel",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          // magic offset to make the scroll clipping perfect
          "size": [ "100%-12px", "100%-60px" ],
          "offset": [ 6, 20 ],
          "controls": [
            {
              "title_panel@progress.title_panel": {}
            },
            {
              "progress_loading_bars@progress.progress_loading_bars": {}
            }
          ]
        }
      },
      {
        "modal_button_panel@progress.modal_button_panel": {
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",
          "size": [ "100%", 40 ]
        }
      }
    ]
  },

  "progress_panel": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "progress_loading_bars@progress.progress_loading_bars": {}
      },
      {
        "title_panel@progress.title_panel": {}
      },
      {
        "button_panel@progress.button_panel": {}
      }
    ]
  },

  "modal_progress_screen@progress_screen": {
    "$screen_content": "progress.modal_screen_content"
  },

  "delete_progress_screen@modal_progress_screen": {
    "$screen_animations": [
      "@common.screen_exit_animation_push_fade",
      "@common.screen_exit_animation_pop_fade",
      "@common.screen_entrance_animation_push_fade",
      "@common.screen_entrance_animation_pop_fade"
    ]
  },

  "realms_loading_background@realms_loading_screen_background": {
    "type": "panel",
    "controls": [
      {
        "solid_blue": {
          "type": "image",
          "texture": "textures/ui/navy_blue",
          "fill": true,
          "controls": [
            {
              "gradient": {
                "type": "image",
                "texture": "textures/ui/realms_gradient_top",
                "size": [ "100%", "25%" ],
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "$background_fill_alpha": 0.8,
                "tiled": "x"
              }
            }
          ]
        }
      }
    ]
  },

  "realms_stories_loading_progress_screen@progress_screen": {
    "$screen_content": "progress.realms_loading_world_modal_progress_screen_content",
    "$screen_bg_content": "progress.realms_loading_background"
  },

  "world_loading_progress_screen@progress_screen": {
    "$screen_content": "progress.world_convert_modal_progress_screen_content"
  },

  "world_loading_screen_background@common.dirt_background": {
    "tiled_scale": [ 2, 2 ]
  },

  "overworld_loading_background@world_loading_screen_background": {
    "texture": "textures/blocks/dirt",
    "controls": [
      {
        "background_gradient": {
          "type": "custom",
          "renderer": "gradient_renderer",
          "color1": [ 0, 0, 0, 0.5 ],
          "color2": [ 0, 0, 0, 0.7 ]
        }
      }
    ]
  },

  "overworld_loading_progress_screen@world_loading_progress_screen": {
    "$screen_bg_content": "progress.overworld_loading_background"
  },

  "nether_loading_background@world_loading_screen_background": {
    "texture": "textures/blocks/netherrack",
    "color": [ 0.5, 0.5, 0.5 ],
    "controls": [
      {
        "background_gradient": {
          "type": "custom",
          "renderer": "gradient_renderer",
          "color1": [ 0.3, 0.3, 0.3, 0.2 ],
          "color2": [ 0.5, 0.188, 0.188, 0.4 ]
        }
      }
    ]
  },

  "nether_loading_progress_screen@world_loading_progress_screen": {
    "$screen_bg_content": "progress.nether_loading_background"
  },

  "theend_loading_background@world_loading_screen_background": {
    "texture": "textures/blocks/end_stone",
    "controls": [
      {
        "background_gradient": {
          "type": "custom",
          "renderer": "gradient_renderer",
          "color1": [ 0, 0, 0, 0.2 ],
          "color2": [ 0, 0, 0, 0.4 ]
        }
      }
    ]
  },

  "theend_loading_progress_screen@world_loading_progress_screen": {
    "$screen_bg_content": "progress.theend_loading_background"
  },

  "world_saving_progress_screen@progress_screen": {
    "variables": [
      {
        "requires": "($education_edition and $edu_save_to_cloud_on)",
        "$screen_content": "progress.cloud_upload_screen_content"
      },
      {
        "requires": "(not $education_edition or not $edu_save_to_cloud_on)",
        "$screen_content": "progress.world_save_modal_progress_screen_content"
      }
    ]
  },

  "fetching_edu_cloud_worlds@progress_screen": {
    "variables": [
      {
        "requires": "($education_edition and $edu_save_to_cloud_on)",
        "$screen_content": "progress.edu_cloud_fetch_screen_content"
      }
    ]
  },

  "edu_cloud_download_progress_screen@progress_screen": {
    "variables": [
      {
        "requires": "($education_edition and $edu_save_to_cloud_on)",
        "$screen_content": "progress.cloud_download_screen_content"
      }
    ]
  },

  "fetching_edu_servers@progress_screen": {
    "variables": [
      {
        "requires": "($education_edition)",
        "$screen_content": "progress.edu_server_fetch_screen_content"
      }
    ]
  },

  "world_convert_modal_progress_screen@progress.progress_screen": {
    "$screen_content": "progress.world_convert_modal_progress_screen_content"
  },

  "progress_screen@common.base_screen": {
    "force_render_below": "$force_render_below",
    "$screen_animations": [
      "@common.screen_exit_animation_push_fade",
      "@common.screen_exit_animation_pop_fade"
    ],

    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "button.menu_exit",
        "mapping_type": "global"
      }
    ]
  },

  "popup_dialog_factory": {
    "type": "factory",
    "control_ids": {
      "test": "dialog@progress.popup_dialog_base",
      "resource_pack_download_server_required": "resource_pack_download_server_required@progress.resource_pack_download_server_required",
      "resource_pack_download_optional_and_required": "resource_pack_download_optional_and_required@progress.resource_pack_download_optional_and_required",
      "resource_pack_download_optional": "resource_pack_download_optional@progress.resource_pack_download_optional",
      "resource_pack_download_required": "resource_pack_download_required@progress.resource_pack_download_required"
    }
  },

  "progress_screen_content": {
    "type": "panel",
    "variables": [
      {
        "requires": "$desktop_screen",
        "$button_state_default_base": "common.button_state_default",
        "$button_state_hover_base": "common.button_state_hover",
        "$button_state_pressed_base": "common.button_state_pressed"
      },
      {
        "requires": "$pocket_screen",
        "$button_state_default_base": "common-classic.button_state_default",
        "$button_state_hover_base": "common-classic.button_state_hover",
        "$button_state_pressed_base": "common-classic.button_state_pressed"
      }
    ],
    "controls": [
      { "progress_content_panel@progress.progress_content_panel": {} },
      { "popup_dialog_factory@progress.popup_dialog_factory": {} }
    ]
  },

  "progress_content_panel": {
    "type": "panel",
    "controls": [
      {
        "progress_panel@progress.progress_panel": {}
      },
      {
        "gamepad_helpers@progress.gamepad_helpers": {}
      }
    ]
  },

  "modal_screen_content": {
    "type": "panel",
    "variables": [
      {
        "requires": "$desktop_screen",
        "$button_state_default_base": "progress.normal_stroke_button",
        "$button_state_hover_base": "progress.normal_stroke_button",
        "$button_state_pressed_base": "progress.normal_stroke_button"
      },
      {
        "requires": "$pocket_screen",
        "$button_state_default_base": "common-classic.button_state_default",
        "$button_state_hover_base": "common-classic.button_state_hover",
        "$button_state_pressed_base": "common-classic.button_state_pressed"
      }
    ],
    "controls": [
      {
        "modal_progress_panel@progress.modal_progress_panel_with_cancel": {}
      }
    ]
  },

  "world_modal_progress_panel": {
    "type": "panel",
    "size": "$world_modal_screen_size",
    "variables": [
      {
        "requires": "$desktop_screen",
        "$button_state_default_base": "common.button_state_default",
        "$button_state_hover_base": "common.button_state_hover",
        "$button_state_pressed_base": "common.button_state_pressed"
      },
      {
        "requires": "$pocket_screen",
        "$button_state_default_base": "common-classic.button_state_default",
        "$button_state_hover_base": "common-classic.button_state_hover",
        "$button_state_pressed_base": "common-classic.button_state_pressed"
      }
    ],
    "controls": [
      {
        "common_panel@common.common_panel": {
          "$dialog_background": "dialog_background_hollow_3",
          "$show_close_button": false
        }
      },
      {
        "base_content": {
          "type": "panel",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          // magic offset to make the scroll clipping perfect
          "size": [ "100%-12px", "100%-12px" ],
          "offset": [ 6, 6 ],
          "controls": [
            {
              "progress_title_text@progress.progress_title_text": {
                "color": "$title_text_color",
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "offset": [ 0, 3 ]
              }
            },
            {
              "progress_bar_text@progress.progress_bar_text": {
                "localize": false,
                "size": [ "default", 40 ],
                "max_size": [ "100% - 8px", 40 ],
                "offset": [ 0, -3 ]
              }
            }
          ]
        }
      },
      {
        "inside_content": {
          "type": "stack_panel",
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",
          "size": [ "100%-12px", "100%c" ],
          "controls": [
            {
              "loading_bar_panel": {
                "type": "panel",
                "size": [ "100%", "100%c" ],
                "controls": [
                  {
                    "fancy_progress_loading_bars@progress.fancy_progress_loading_bars": {}
                  },
                  {
                    "progress_loading_bars@progress.progress_loading_bars": {
                      "offset": [ 0, 0 ]
                    }
                  }
                ]
              }
            },

            {
              "vertical_padding": {
                "type": "panel",
                "size": [ 0, 5 ]
              }
            },
            {
              "modal_button_panel@$modal_button_panel_type": {
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle",
                "size": [ "100%", "100%c" ]
              }
            },
            {
              "vertical_padding_2": {
                "type": "panel",
                "size": [ 0, 14 ]
              }
            }
          ]
        }
      }
    ]
  },

  "cloud_upload_panel": {
    "type": "panel",
    "size": [ 270, 84 ],
    "controls": [
      {
        "common_panel@common.common_panel": {
          "$dialog_background": "dialog_background_hollow_3",
          "$show_close_button": false
        }
      },
      {
        "base_content": {
          "type": "panel",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          // magic offset to make the scroll clipping perfect
          "size": [ "100%-12px", "100%-12px" ],
          "offset": [ 6, 6 ],
          "controls": [
            {
              "progress_title_text@progress.progress_title_text": {
                "color": "$title_text_color",
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "offset": [ 0, 3 ]
              }
            },
            {
              "progress_text": {
                "type": "label",
                "size": [ "default", 60 ],
                "max_size": [ "100% - 8px", 60 ],
                "offset": [ 0, 15 ],
                "color": "$loading_text_color",
                "layer": 2,
                "anchor_from": "center",
                "anchor_to": "center",
                "text": "#progress_text",
                "bindings": [
                  { "binding_name": "#progress_text" }
                ]
              }
            },
            {
              "edu_cloud_upload_image@progress.edu_cloud_upload_image": { "offset": [ 0, 10 ] }
            },
            {
              "loading_bar_panel": {
                "type": "panel",
                "size": [ "100%", "100%c" ],
                "controls": [
                  { "progress_loading_bars@progress.edu_cloud_upload_progress_bar": {} }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "cloud_error_panel": {
    "type": "panel",
    "size": [ 300, "100%" ],
    "variables": [
      {
        "requires": "$desktop_screen",
        "$button_state_default_base": "common.button_state_default",
        "$button_state_hover_base": "common.button_state_hover",
        "$button_state_pressed_base": "common.button_state_pressed"
      },
      {
        "requires": "$pocket_screen",
        "$button_state_default_base": "common-classic.button_state_default",
        "$button_state_hover_base": "common-classic.button_state_hover",
        "$button_state_pressed_base": "common-classic.button_state_pressed"
      }
    ],
    "controls": [
      {
        "common_panel@common.common_panel": {
          "size": [ "100%", "100%sm" ],
          "$dialog_background": "dialog_background_hollow_3",
          "$show_close_button": false
        }
      },
      {
        "content_wrapper": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "title_wrapper": {
                "type": "panel",
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                // magic offset to make the scroll clipping perfect
                "size": [ "100%-12px", "100%c" ],
                "offset": [ 6, 6 ],
                "controls": [
                  {
                    "progress_title_text@progress.progress_title_text": {
                      "color": "$title_text_color",
                      "anchor_from": "top_middle",
                      "anchor_to": "top_middle",
                      "offset": [ 0, 3 ]
                    }
                  }
                ]
              }
            },
            {
              "error_text_tts_wrapper": {
                "type": "panel",
                "size": [ "100%", "100%cm" ],
                "controls": [
                  {
                    "tts_border@common.non_interact_focus_border_button": {
                      "tts_inherit_siblings": true,
                      "size": [ "100%sm + 5px", "100%sm" ],
                      "offset": [ 0, -8 ],
                      "bindings": [
                        {
                          "binding_name": "#tts_enabled",
                          "binding_name_override": "#enabled"
                        }
                      ]
                    }
                  },
                  {
                    "edu_cloud_error_text_wrapper": {
                      "type": "stack_panel",
                      // magic offset to make the text wrapping perfect
                      "size": [ "100%-24px", "100%c" ],
                      "offset": [ 0, -8 ],
                      "controls": [
                        {
                          "edu_cloud_error_text": {
                            "type": "label",
                            "size": [ "default", "default" ],
                            "max_size": [ "100% - 8px", 60 ],
                            "color": "$loading_text_color",
                            "layer": 2,
                            "anchor_from": "top_left",
                            "anchor_to": "top_left",
                            "text": "#progress_text",
                            "font_type": "smooth",
                            "bindings": [
                              { "binding_name": "#progress_text" }
                            ]
                          }
                        },
                        {
                          "vertical_padding": {
                            "type": "panel",
                            "size": [ 0, 5 ]
                          }
                        },
                        {
                          "error_code": {
                            "type": "stack_panel",
                            "size": [ "100% - 8px", 15 ],
                            "orientation": "horizontal",
                            "controls": [
                              {
                                "code_text@progress.code_text": {
                                  "size": [ "default", "default" ],
                                  "font_type": "smooth",
                                  "anchor_from": "top_left",
                                  "anchor_to": "top_left"
                                }
                              },
                              {
                                "code_number@progress.code_number": {
                                  "size": [ "default", "default" ],
                                  "font_type": "smooth",
                                  "anchor_from": "top_left",
                                  "anchor_to": "top_left"
                                }
                              }
                            ]
                          }
                        },
                        {
                          "vertical_padding_2": {
                            "type": "panel",
                            "size": [ 0, 5 ],
                            "bindings": [
                              {
                                "binding_name": "#cloud_link_visible",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        },
                        {
                          "cloud_support_link": {
                            "type": "stack_panel",
                            "orientation": "horizontal",
                            "size": [ "100%c", "100%c" ],
                            "bindings": [
                              {
                                "binding_name": "#cloud_link_visible",
                                "binding_name_override": "#visible"
                              }
                            ],
                            "controls": [
                              {
                                "cloud_support_hypertext@edu_common.underline_button": {
                                  "size": [ "98%c", "100%c" ],
                                  "$single_label_size": [ "default", "default" ],
                                  "$single_line_font_scale_factor": 1,
                                  "$pressed_button_name": "button.edu_cloud_hyperlink",
                                  "$single_line_label_text": "#edu_cloud_error_hyperlink_label",
                                  "$font_type": "smooth",
                                  "anchor_from": "top_left",
                                  "anchor_to": "top_left",
                                  "$label_text_bindings": [
                                    {
                                      "binding_name": "#edu_cloud_error_hyperlink_label"
                                    }
                                  ]
                                }
                              },
                              {
                                "padded_icon@common.empty_panel": {
                                  "size": [ "100%c", "100%c" ],
                                  "controls": [
                                    {
                                      "icon": {
                                        "type": "image",
                                        "texture": "textures/ui/icon_external_link",
                                        "size": [ 9, 9 ],
                                        "offset": [ 7, 0.6 ]
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "button_content": {
                "type": "stack_panel",
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle",
                "size": [ "100%", 52 ],
                "bindings": [
                  {
                    "binding_name": "#one_button_panel",
                    "binding_name_override": "#visible"
                  }
                ],
                "controls": [
                  {
                    "modal_button_panel@$modal_button_panel_type": {}
                  }
                ]
              }
            },
            {
              "error_button_content": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle",
                "size": [ "100%", 52 ],
                "offset": [ 80, 13 ],
                "bindings": [
                  {
                    "binding_name": "(not #one_button_panel)",
                    "binding_name_override": "#visible"
                  }
                ],
                "controls": [
                  {
                    "download_ok_button@common_buttons.light_text_button": {
                      "$pressed_button_name": "button.download_failed_open",
                      "$button_text": "edu.cloudError.local.download.open",
                      "size": [ 70, 26 ]
                    }
                  },
                  {
                    "download_cancel_button@common_buttons.light_text_button": {
                      "$pressed_button_name": "button.download_failed_cancel",
                      "$button_text": "#cancel_button_text",
                      "$button_text_binding_type": "global",
                      "size": [ 70, 26 ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "cloud_fetch_panel": {
    "type": "panel",
    "size": [ 270, 84 ],
    "controls": [
      {
        "common_panel@common.common_panel": {
          "$dialog_background": "dialog_background_hollow_3",
          "$show_close_button": false
        }
      },
      {
        "base_content": {
          "type": "panel",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          // magic offset to make the scroll clipping perfect
          "size": [ "100%-12px", "100%-12px" ],
          "offset": [ 6, 6 ],
          "controls": [
            {
              "progress_title_text@progress.progress_title_text": {
                "color": "$title_text_color",
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "offset": [ 0, 3 ]
              }
            },
            {
              "progress_text": {
                "type": "label",
                "size": [ "default", 60 ],
                "max_size": [ "100% - 8px", 60 ],
                "offset": [ 0, 15 ],
                "color": "$loading_text_color",
                "layer": 2,
                "anchor_from": "center",
                "anchor_to": "center",
                "text": "#progress_text",
                "bindings": [
                  { "binding_name": "#progress_text" }
                ]
              }
            },
            {
              "edu_cloud_fetch_image@progress.edu_cloud_fetch_image": { "offset": [ 0, 10 ] }
            },
            {
              "loading_bar_panel": {
                "type": "panel",
                "size": [ "100%", "100%c" ],
                "controls": [
                  {
                    "progress_loading_bars@progress.progress_loading_bars": { "offset": [ 0, 25 ] }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "server_fetch_panel": {
    "type": "panel",
    "size": [ 270, 84 ],
    "controls": [
      {
        "common_panel@common.common_panel": {
          "$dialog_background": "dialog_background_hollow_3",
          "$show_close_button": false
        }
      },
      {
        "base_content": {
          "type": "panel",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ "100%-12px", "100%-12px" ],
          "offset": [ 6, 6 ],
          "controls": [
            {
              "progress_title_text@progress.progress_title_text": {
                "color": "$title_text_color",
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "offset": [ 0, 3 ]
              }
            },
            {
              "progress_text": {
                "type": "label",
                "size": [ "default", 60 ],
                "max_size": [ "100% - 8px", 60 ],
                "offset": [ 0, 15 ],
                "color": "$loading_text_color",
                "layer": 2,
                "anchor_from": "center",
                "anchor_to": "center",
                "text": "#progress_text",
                "bindings": [
                  { "binding_name": "#progress_text" }
                ]
              }
            },
            {
              "edu_server_fetch_image@progress.edu_server_fetch_image": { "offset": [ 0, 6 ] }
            },
            {
              "loading_bar_panel": {
                "type": "panel",
                "size": [ "100%", "100%c" ],
                "controls": [
                  {
                    "progress_loading_bars@progress.progress_loading_bars": { "offset": [ 0, 25 ] }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "cloud_download_panel": {
    "type": "panel",
    "size": [ 270, 84 ],
    "controls": [
      {
        "common_panel@common.common_panel": {
          "$dialog_background": "dialog_background_hollow_3",
          "$show_close_button": false
        }
      },
      {
        "base_content": {
          "type": "panel",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          // magic offset to make the scroll clipping perfect
          "size": [ "100%-12px", "100%-12px" ],
          "offset": [ 6, 6 ],
          "controls": [
            {
              "progress_title_text@progress.progress_title_text": {
                "color": "$title_text_color",
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",
                "offset": [ 0, 3 ]
              }
            },
            {
              "progress_bar_text@progress.progress_bar_text": {
                "localize": false,
                "size": [ "default", 40 ],
                "max_size": [ "100% - 8px", 40 ],
                "offset": [ 0, 5 ]
              }
            },
            {
              "edu_cloud_download_image@progress.edu_cloud_download_image": {}
            }
          ]
        }
      },
      {
        "loading_bar_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            { "progress_loading_bars@progress.progress_loading_bars": {} }
          ]
        }
      }
    ]
  },

  "world_convert_modal_progress_screen_content": {
    "type": "panel",

    "layer": 3,

    "controls": [
      { "mobile_data_icon@progress.mobile_data_icon": {} },
      {
        "title_panel_content@common_art.title_panel_content": {
          "$splash_text_visible": false,
          "layer": -2
        }
      },
      {
        "world_modal_progress_panel@progress.world_modal_progress_panel": {
          "$modal_button_panel_type": "progress.modal_button_panel"
        }
      },
      { "popup_dialog_factory@progress.popup_dialog_factory": {} }
    ]
  },

  "realms_loading_world_modal_progress_screen_content": {
    "type": "panel",
    "controls": [
      { "mobile_data_icon@progress.mobile_data_icon": {} },
      {
        "realms_title_image": {
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "type": "image",
          "offset": [ 0, -7 ],
          "size": [ 220, "38%x" ],
          "texture": "textures/ui/realms_title"
        }
      },
      {
        "world_modal_progress_panel@progress.world_modal_progress_panel": {
          "$modal_button_panel_type": "progress.modal_button_panel"
        }
      },
      { "popup_dialog_factory@progress.popup_dialog_factory": {} },
      {
        "server_region_connected": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "offset": [ 0, 30 ],
          "size": [ "100%c", "100%c" ],
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",
          "controls": [
            {
              "server_region_label": {
                "type": "label",
                "text": "progressScreen.label.serverRegion",
                "color": "$loading_text_color",
                "size": [ "default", 35 ]
              }
            },
            {
              "server_region_connected_text": {
                "type": "label",
                "text": "#server_region_text",
                "color": "$loading_text_color",
                "size": [ "default", 35 ],
                "bindings": [
                  {
                    "binding_name": "#server_region_text"
                  }
                ]
              }
            },
            {
              "padding": {
                "type": "panel",
                "size": [ 8, 0 ]
              }
            },
            {
              "server_region_ping_icon": {
                "type": "image",
                "texture": "#server_region_ping_icon",
                "size": [ 8, 8 ],
                "bindings": [
                  {
                    "binding_name": "#server_region_ping_icon",
                    "binding_name_override": "#texture"
                  }
                ]
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#server_region_connected_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "world_save_modal_progress_screen_content": {
    "type": "panel",
    "controls": [
      {
        "title_panel_content@common_art.title_panel_content": {
          "$splash_text_visible": false
        }
      },
      {
        "world_modal_progress_panel@progress.world_modal_progress_panel": {
          "$modal_button_panel_type": "progress.modal_button_panel_with_retry"
        }
      },
      {
        "save_icon@progress.auto_save": {}
      },
      { "popup_dialog_factory@progress.popup_dialog_factory": {} }
    ]
  },

  "cloud_upload_screen_content": {
    "type": "panel",
    "layer": 3,
    "controls": [
      {
        "title_panel_content@common_art.title_panel_content": {
          "$splash_text_visible": false,
          "layer": -2
        }
      },
      {
        "cloud_upload_panel@progress.cloud_upload_panel": {
          "bindings": [
            { "binding_name": "#progress_text" },
            {
              "binding_name": "(not #edu_cloud_upload_error)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "cloud_upload_error_panel@progress.cloud_error_panel": {
          "$modal_button_panel_type": "progress.modal_ok_button_panel",
          "bindings": [
            { "binding_name": "#progress_text" },
            {
              "binding_name": "#edu_cloud_upload_error",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      { "popup_dialog_factory@progress.popup_dialog_factory": {} },
      { "cloud_conflict_resolution_popup_factory@edu_common.edu_cloud_conflict_resolution_popup_dialog_factory": {} }
    ]
  },

  "edu_cloud_fetch_screen_content": {
    "type": "panel",
    "controls": [
      { "cloud_fetch_panel@progress.cloud_fetch_panel": {} },
      { "popup_dialog_factory@progress.popup_dialog_factory": {} }
    ]
  },

  "edu_server_fetch_screen_content": {
    "type": "panel",
    "controls": [
      { "server_fetch_panel@progress.server_fetch_panel": {} },
      { "popup_dialog_factory@progress.popup_dialog_factory": {} }
    ]
  },

  "cloud_download_screen_content": {
    "type": "panel",
    "controls": [
      { "background@common.screen_background": {} },
      {
        "cloud_download_panel@progress.cloud_download_panel": {
          "bindings": [
            { "binding_name": "#progress_text" },
            {
              "binding_name": "(not #edu_cloud_download_error)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "cloud_download_error_panel@progress.cloud_error_panel": {
          "$modal_button_panel_type": "progress.modal_ok_button_panel",
          "bindings": [
            { "binding_name": "#progress_text" },
            {
              "binding_name": "#edu_cloud_download_error",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      { "popup_dialog_factory@progress.popup_dialog_factory": {} }
    ]
  },

  "auto_save_animation": {
    "anim_type": "flip_book",
    "initial_uv": [ 0, 0 ],
    "frame_count": 9,
    "frame_step": 18,
    "fps": 10,
    "reversible": true,
    "easing": "linear"
  },

  "auto_save": {
    "type": "image",
    "layer": 31,
    "texture": "textures/ui/auto_save",
    "anchor_from": "center",
    "anchor_to": "center",
    "offset": [ 0, 20 ],
    "size": [ 18, 30 ],
    "uv_size": [ 18, 30 ],
    "uv": "@auto_save_animation",
    "disable_anim_fast_forward": true,
    "bindings": [
      {
        "binding_name": "#auto_save_animation_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "mobile_data_ios_icon": {
    "type": "image",
    "texture": "textures/ui/mobile_data_icon_ios",
    "size": [ 12, 13 ],
    "offset": [ 0, -2 ]
  },

  "mobile_data_android_icon": {
    "type": "image",
    "texture": "textures/ui/mobile_data_icon_android",
    "size": [ 16, 9 ],
    "offset": [ 0, -2 ]
  },

  "mobile_data_icon_text": {
    "type": "label",
    "text": "progressScreen.label.mobileData",
    "color": "$mobile_data_icon_text_color",
    "size": [ "default", 35 ]
  },

  "mobile_data_icon": {
    "type": "panel",
    "ignored": "(not ($is_android or $is_ios))",
    "layer": -5,
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "offset": [ -3, 10 ],
    "size": [ "100%c", "100%c" ],
    "controls": [
      {
        "icon_android@mobile_data_android_icon": {
          "ignored": "(not $is_android)",
          "anchor_to": "top_middle",
          "anchor_from": "top_middle"
        }
      },
      {
        "icon_ios@mobile_data_ios_icon": {
          "ignored": "(not $is_ios)",
          "anchor_to": "top_middle",
          "anchor_from": "top_middle"
        }
      },
      {
        "text@mobile_data_icon_text": {
          "anchor_to": "bottom_middle",
          "anchor_from": "bottom_middle"
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#mobile_data_icon_visible",
        "binding_name_override": "#visible",
        "binding_condition": "once"
      }
    ]
  }
}

