{
  "namespace": "promo_timeline",

  "promo_banner_factory": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],

    "factory": {
      "name": "promo_banner_factory",
      "control_ids": {
        "mpass_banner": "@csb_banner.csb_banner",
        "mpass_banner_slim": "@csb_banner.csb_banner_slim",
        "mpass_banner_portal": "@csb_banner.csb_banner_portal",
        "promo_banner": "@promo_timeline.promo_banner_holiday_panel"
      },
      "factory_variables": [
        "$store_factory_collection_details",
        "$store_factory_collection_prefix",
        "$store_factory_collection_name"
      ]
    },
    "bindings": [
      {
        "binding_name": "#section_content",
        "binding_name_override": "#collection_length"
      },
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      }
    ]
  },

  "promo_banner_button_content": {
    "type": "panel",
    "size": [ "100%c", "100%" ],
    "controls": [
      {
        "promo_banner_button@common.minecraftTenLabel": {
          "size": [ "default", "default" ],
          "offset": [ 0, -1 ],
          "color": "$text_color",
          "text": "#banner_button_text",
          "font_scale_factor": 0.8,
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#promo_page_is_ready",
              "binding_name_override": "#visible"
            },
            {
              "binding_name": "#banner_button_text"
            }
          ]
        }
      },
      {
        "progress_loading_spinner@common_store.progress_loading_spinner": {
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "(not #promo_page_is_ready)",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "promo_banner_image": {
    "type": "image",
    "size": [ "100%", "13.67%x" ],
    "layer": 1,
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "#banner_texture_name",
        "binding_name_override": "#texture"
      },
      {
        "binding_name": "#banner_texture_filepath",
        "binding_name_override": "#texture_file_system"
      }
    ]
  },

  "promo_banner_panel_content": {
    "type": "panel",
    "size": [ "100% - 8px", "100%cm + 8px" ],
    "controls": [
      {
        "banner_image@promo_timeline.promo_banner_image": {}
      },
      {
        "banner_text_panel": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100% - 10px", "100%sm - 10px" ],
          "offset": [ 2, 2 ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "layer": 2,
          "controls": [
            {
              "padding_0": {
                "type": "panel",
                "size": [ "100%", 2 ]
              }
            },
            {
              "title_stack_panel": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%", "100%cm" ],
                "controls": [
                  {
                    "banner_title@promo_timeline.sdl_text_minecraftTen_aligned_panel": {
                      "$aligned_text_scale_factor": 1.2,
                      "$aligned_text": "#banner_title_text",
                      "$aligned_text_color": "#title_text_color",
                      "$text_color_binding_type": "global",
                      "$alignment_binding_type": "global",
                      "$left_padding_visible_binding": "#banner_title_left_padding_visible",
                      "$right_padding_visible_binding": "#banner_title_right_padding_visible"

                    }
                  }
                ]
              }
            },
            {
              "description@promo_timeline.sdl_text_aligned_panel": {
                "$aligned_text_scale_factor": 0.8,
                "$aligned_text": "#banner_description_text",
                "$aligned_text_color": "#description_text_color",
                "$text_color_binding_type": "global",
                "$alignment_binding_type": "global",
                "$left_padding_visible_binding": "#banner_description_left_padding_visible",
                "$right_padding_visible_binding": "#banner_description_right_padding_visible"
              }
            }
          ]
        }
      },
      {
        "button_stack_panel": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100% - 10px", "100%cm" ],
          "offset": [ 2, -6 ],
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left",

          "$left_padding_visible_binding": "#banner_button_left_padding_visible",
          "$right_padding_visible_binding": "#banner_button_right_padding_visible",

          "controls": [
            {
              "left_offset": {
                "type": "panel",
                "size": [ 5, "100%sm" ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "$left_padding_visible_binding",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "banner_button@promo_timeline.sdl_content_aligned_panel": {
                "$aligned_text_scale_factor": 0.8,
                "$aligned_control": "promo_timeline.banner_button",
                "$aligned_text": "#banner_description_text",
                "$aligned_text_color": "#description_text_color",
                "$text_color_binding_type": "global",
                "$alignment_binding_type": "global"
              }
            },
            {
              "right_offset": {
                "type": "panel",
                "size": [ 5, "100%sm" ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "$right_padding_visible_binding",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "promo_banner_holiday_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "banner_full_button@common.button": {
          "size": [ "100%", "100%c" ],
          "layer": 3,
          "$focus_id": "banner_full_button",
          "$focus_override_down": "banner_button",
          "$pressed_button_name": "button.promotion_page",

          "$button_offset|default": [ 0, 0 ],
          "$button_pressed_offset|default": [ 0, 1 ],
          "$pressed_alpha|default": 1,
          "$button_type_panel|default": "common_buttons.button_content_panel",
          "$button_content|default": "common.empty_panel",
          "$button_state_panel|default": "common_buttons.new_ui_button_panel",

          "$default_button_alpha|default": 1,
          "$default_hover_alpha|default": 1,
          "$default_pressed_alpha|default": 1,
          "$border_default_alpha|default": 1,

          // These states are for passing the button state to the button content - do not set these in a parent!
          "$default_state|default": false,
          "$hover_state|default": false,
          "$pressed_state|default": false,
          "$locked_state|default": false,
          "$default_state_border_visible|default": true,
          "$hover_state_border_visible|default": true,
          "$pressed_state_border_visible|default": true,
          "$locked_state_border_visible|default": true,

          "$default_text_color|default": "$light_button_default_text_color",

          "$default_button_texture|default": "textures/ui/button_borderless_light",
          "$default_content_alpha|default": 1,
          "$hover_content_alpha|default": 1,
          "$hover_button_texture|default": "textures/ui/button_borderless_lighthover",
          "$pressed_button_texture|default": "textures/ui/button_borderless_lightpressed",
          "$locked_button_texture|default": "textures/ui/disabledButtonNoBorder",

          "locked_control": "",

          "$default_font|default": "default",
          "$font_type": "$default_font",
          "$locked_alpha": 1,

          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#promo_page_is_ready",
              "binding_name_override": "#enabled"
            }
          ],
          "controls": [
            {
              "default@promo_timeline.promo_banner_panel_content": {
                "$new_ui_button_texture": "$default_button_texture",
                "$text_color": "$default_text_color",
                "$content_alpha": "$default_content_alpha",
                "$secondary_text_color": "$light_button_secondary_default_text_color",
                "$glyph_color": "$light_glyph_default_color",
                "$border_color": "$light_border_default_color",
                "$button_alpha": "$default_button_alpha",
                "$border_visible": "$default_state_border_visible",
                "$border_layer": 2,
                "$default_state": true,
                "$border_alpha": "$border_default_alpha",
                "layer": 1
              }
            },
            {
              "hover@promo_timeline.promo_banner_panel_content": {
                "$new_ui_button_texture": "$hover_button_texture",
                "$text_color": "$light_button_hover_text_color",
                "$secondary_text_color": "$light_button_secondary_hover_text_color",
                "$glyph_color": "$light_glyph_hover_color",
                "$content_alpha": "$hover_content_alpha",
                "$border_color": "$light_border_hover_color",
                "$border_visible": "$hover_state_border_visible",
                "$border_layer": 3,
                "$hover_state": true,
                "$button_alpha": "$default_hover_alpha",
                "layer": 2
              }
            },
            {
              "pressed@promo_timeline.promo_banner_panel_content": {
                "$new_ui_button_texture": "$pressed_button_texture",
                "$text_color": "$light_button_pressed_text_color",
                "$secondary_text_color": "$light_button_secondary_pressed_text_color",
                "$glyph_color": "$light_glyph_pressed_color",
                "$content_alpha": "$pressed_alpha",
                "$button_offset": "$button_pressed_offset",
                "$border_color": "$light_border_pressed_color",
                "$border_visible": "$pressed_state_border_visible",
                "$border_layer": 3,
                "$button_alpha": "$default_pressed_alpha",
                "$pressed_state": true,
                "layer": 3
              }
            }
          ]
        }
      }
    ]
  },

  "image_message_panel": {
    "type": "stack_panel",
    "size": [ "100%", "100%c" ],
    "orientation": "vertical",
    "controls": [
      {
        "image_message_row_content@promo_timeline.image_message_row_content": {}
      },
      {
        "padding_0": {
          "type": "panel",
          "size": [ "100%", 4 ]
        }
      }
    ]
  },

  "image_message_row_content": {
    "type": "panel",
    "size": [ "100%", "100%cm" ],
    "controls": [
      {
        "gray_background@common_store.store_description_background": {
          "size": [ "100% - 8px", "100%c" ],
          "layer": 2,
          "controls": [
            {
              "message_text": {
                "type": "label",
                "layer": 3,
                "size": [ "100% - 20px", "default" ],
                "min_size": [ "100% - 20px", "10%x" ],
                "anchor_to": "top_middle",
                "anchor_from": "top_middle",
                "offset": [ 0, 8 ],
                "text": "#row_message_text",
                "color": "$body_text_color",
                "text_alignment": "center",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#row_message_text"
                  }
                ]
              }
            },
            {
              "row_image@promo_timeline.promo_image_panel": {}
            }
          ]
        }
      },
      {
        "row_button@common_buttons.light_content_button": {
          "size": [ "100% - 8px", "100%sm" ],
          "$focus_id": "row_button",
          "$pressed_button_name": "button.row_button",
          "$default_button_alpha": 0,
          "$default_hover_alpha": 0,
          "$default_pressed_alpha": 0,
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#is_using_gamepad",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "promo_image_panel": {
    "type": "image",
    "layer": 3,
    "size": [ 194, "100%c" ],
    "controls": [
      {
        "button_image_panel@promo_timeline.promo_button_image_panel": {
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "(#store_row_image_animation_name = '')", // static image is visible if no animation is available
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "button_animated_panel@promo_timeline.promo_button_image_panel": {
          "$promo_button_image_content": "promo_timeline.promo_button_animation",
          "$promo_texture_binding_name": "#store_row_image_animation_name",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "(not (#store_row_image_animation_name = ''))", // animation is visible if service response contains animation field
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "promo_button_image_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "$promo_button_image_content|default": "promo_timeline.promo_button_image",
    "$promo_texture_binding_name|default": "#store_row_image_texture_name",
    "controls": [
      {
        "button_image@$promo_button_image_content": {
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#image_is_ready",
              "binding_name_override": "#visible"
            },
            {
              "binding_name": "$promo_texture_binding_name",
              "binding_name_override": "#texture"
            },
            {
              "binding_name": "#store_row_image_texture_filepath",
              "binding_name_override": "#texture_file_system"
            }
          ]
        }
      }
    ]
  },

  "promo_button_image": {
    "type": "image",
    "size": [ 194, 80 ],
    "texture": "$promo_texture_binding_name",
    "allow_debug_missing_texture": false,
    "layer": 1
  },

  "promo_button_animation": {
    "type": "image",
    "texture": "$promo_texture_binding_name",
    "size": [ 194, 80 ],
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "offset": [ 0, 0 ],
    "layer": 50,
    "uv_size": [ 194, 80 ],
    "uv": "@promo_timeline.wishlist_rabbit_ui_animation",
    "disable_anim_fast_forward": true
  },

  "wishlist_rabbit_ui_animation": {
    "anim_type": "aseprite_flip_book",
    "initial_uv": [ 0, 0 ]
  },

  "banner_button@common_buttons.new_ui_width_fitting_button_panel": {
    "size": [ "100%c", 16 ],
    "$button_type_panel": "common_buttons.width_fitting_button_content_panel",
    "$button_content": "promo_timeline.promo_banner_button_content",
    "$button_size_override": [ "100%c + 8px", "100%" ],
    "$anchor": "bottom_left",
    "layer": 4,
    "$focus_id": "banner_button",
    "$focus_override_up": "banner_full_button",
    "$pressed_button_name": "button.promotion_page",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "#promo_page_is_ready",
        "binding_name_override": "#enabled"
      }
    ]
  },

  "sdl_text_aligned_panel@promo_timeline.sdl_content_aligned_panel": {
    "$aligned_control": "promo_timeline.sdl_aligned_text",
    "$aligned_text_font_type|default": "smooth",
    "$aligned_text_scale_factor|default": 1,
    "$aligned_text_color|default": "$body_text_color",
    "$aligned_text|default": "",
    "$text_color_binding_type|default": "none"
  },

  "sdl_text_minecraftTen_aligned_panel@promo_timeline.sdl_content_aligned_panel": {
    "size": [ "fill", "100%cm" ],
    "$aligned_control": "promo_timeline.sdl_aligned_minecraftTen_text",
    "$aligned_text_scale_factor|default": 1,
    "$aligned_text_color|default": "$body_text_color",
    "$aligned_text|default": "",
    "$text_color_binding_type|default": "none"
  },

  "sdl_content_aligned_panel": {
    "type": "stack_panel",
    "size": [ "100%", "100%cm" ],
    "orientation": "horizontal",
    "$left_padding_visible_binding|default": "",
    "$right_padding_visible_binding|default": "",
    "$alignment_binding_type|default": "none",
    "$alignment_collection_name|default": "",

    "$aligned_control|default": "common.empty_panel",
    "controls": [
      {
        "left__padding_panel": {
          "size": [ "fill", "100%sm" ],
          "type": "panel",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "$left_padding_visible_binding",
              "binding_type": "$alignment_binding_type",
              "binding_collection_name": "$alignment_collection_name",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "control@$aligned_control": {}
      },
      {
        "right_padding_panel": {
          "size": [ "fill", "100%sm" ],
          "type": "panel",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "$right_padding_visible_binding",
              "binding_type": "$alignment_binding_type",
              "binding_collection_name": "$alignment_collection_name",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "sdl_aligned_text": {
    "type": "label",
    "size": [ "default", "default" ],
    "max_size": [ "40%", 20 ],
    "font_type": "$aligned_text_font_type",
    "font_scale_factor": "$aligned_text_scale_factor",
    "color": "$aligned_text_color",
    "text": "$aligned_text",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "$aligned_text",
        "binding_type": "$alignment_binding_type",
        "binding_collection_name": "$alignment_collection_name"
      },
      {
        "binding_name": "$aligned_text_color",
        "binding_type": "$text_color_binding_type",
        "binding_collection_name": "$alignment_collection_name",
        "binding_name_override": "#color"
      }
    ]
  },

  "sdl_aligned_minecraftTen_text@common.minecraftTenLabel": {
    "size": [ "default", "default" ],
    "max_size": [ "100%", "default" ],
    "font_scale_factor": "$aligned_text_scale_factor",
    "color": "$aligned_text_color",
    "text": "$aligned_text",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "$aligned_text",
        "binding_type": "$alignment_binding_type",
        "binding_collection_name": "$alignment_collection_name"
      },
      {
        "binding_name": "$aligned_text_color",
        "binding_type": "$text_color_binding_type",
        "binding_collection_name": "$alignment_collection_name",
        "binding_name_override": "#color"
      }
    ]
  },

  //--------------------------------------------------------------------------------
  // Reusable Promotion Landing
  //--------------------------------------------------------------------------------

  "colored_direction_button_panel": {
    "type": "panel",
    "$direction_gamepad_button_helper|default": "gamepad_helper@common.gamepad_helper_right_bumper",
    "controls": [
      {
        "chevron_image@common.chevron_image": {
          "color": "$text_color",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "(not #is_using_gamepad)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "$direction_gamepad_button_helper": {
          "offset": [ 0, 4 ],
          "anchor_from": "center",
          "anchor_to": "center",
          "$hide_description|default": true,
          "$gamepad_helper_icon_size|default": [ 18, 18 ]
        }
      }
    ]
  },

  "left_corner_art": {
    "type": "image",
    "size": [ "103.22%y", 96 ],
    "offset": [ -3, -5 ],
    "bilinear": true,
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "layer": 0,
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "#left_corner_image_texture_path",
        "binding_name_override": "#texture"
      },
      {
        "binding_name": "#left_corner_image_texture_file_system",
        "binding_name_override": "#texture_file_system"
      }
    ]
  },

  "right_corner_art": {
    "type": "image",
    "size": [ "103.22%y", 96 ],
    "offset": [ 0, -5 ],
    "bilinear": true,
    "anchor_to": "top_right",
    "anchor_from": "top_right",
    "layer": 0,
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "#right_corner_image_texture_path",
        "binding_name_override": "#texture"
      },
      {
        "binding_name": "#right_corner_image_texture_file_system",
        "binding_name_override": "#texture_file_system"
      }
    ]
  },

  "promo_landing_panel": {
    "type": "input_panel",
    "size": [ "100%", "100%cm" ],
    "$use_transparent_background": false,
    "controls": [
      {
        "promo_landing_panel_content": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100%", "100%c" ],
          "offset": [ -2, 2 ],
          "controls": [
            {
              "promo_top@promo_timeline.promotion_screen_top_section": {}
            },
            {
              "pad_0": {
                "type": "panel",
                "size": [ "100%", 2 ]
              }
            },
            {
              "promo_bottom_panel": {
                "type": "panel",
                "size": [ "100%", "100%c" ],
                "controls": [
                  {
                    "promo_bottom": {
                      "type": "image",
                      "size": [ "100% - 4px", "100%cm" ],
                      "offset": [ 1, 0 ],
                      "texture": "textures/ui/promo_background",
                      "anchor_from": "bottom_middle",
                      "anchor_to": "bottom_middle",
                      "layer": 5,
                      "controls": [
                        {
                          "promotion_period_carousel_panel": {
                            "type": "input_panel",
                            "size": [ "100% - 2px", "100%cm" ],
                            "layer": 3,
                            "$ignore_cycle_buttons": false,
                            "$focus_id": "period_carousel_panel",
                            "controls": [
                              {
                                "left_button_panel": {
                                  "type": "panel",
                                  "size": [ "100%c", "100%sm - 10px" ],
                                  "offset": [ 3, 0 ],
                                  "anchor_from": "left_middle",
                                  "anchor_to": "left_middle",
                                  "controls": [
                                    {
                                      "left_button@common_store.cycle_pack_left_button": {
                                        "$pressed_button_name": "button.cycle_promotions_left",
                                        "$button_content": "promo_timeline.colored_direction_button_panel",
                                        "size": [ 20, "100%" ],
                                        "$focus_id": "left_cycle_button_focus",
                                        "bindings": [
                                          {
                                            "binding_type": "$store_factory_collection_details",
                                            "binding_collection_name": "$store_factory_collection_name",
                                            "binding_collection_prefix": "$store_factory_collection_prefix"
                                          },
                                          {
                                            "binding_name": "#cycle_promotions_left_button_enabled",
                                            "binding_name_override": "#enabled"
                                          },
                                          {
                                            "binding_name": "#left_cycle_button_right_focus_override",
                                            "binding_name_override": "#focus_change_right"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                }
                              },
                              {
                                "offer_grid@promo_timeline.promotion_period_offer_panel": {}
                              },
                              {
                                "right_button_panel": {
                                  "type": "panel",
                                  "size": [ "100%c", "100%sm - 10px" ],
                                  "offset": [ -1, 0 ],
                                  "anchor_from": "right_middle",
                                  "anchor_to": "right_middle",
                                  "controls": [
                                    {
                                      "right_button@common_store.cycle_pack_right_button": {
                                        "$pressed_button_name": "button.cycle_promotions_right",
                                        "$button_content": "promo_timeline.colored_direction_button_panel",
                                        "size": [ 20, "100%" ],
                                        "$focus_id": "right_cycle_button_focus",
                                        "bindings": [
                                          {
                                            "binding_type": "$store_factory_collection_details",
                                            "binding_collection_name": "$store_factory_collection_name",
                                            "binding_collection_prefix": "$store_factory_collection_prefix"
                                          },
                                          {
                                            "binding_name": "#cycle_promotions_right_button_enabled",
                                            "binding_name_override": "#enabled"
                                          },
                                          {
                                            "binding_name": "#right_cycle_button_left_focus_override",
                                            "binding_name_override": "#focus_change_left"
                                          }
                                        ]
                                      }
                                    }
                                  ]
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "pad_1": {
                "type": "panel",
                "size": [ "100%", 4 ]
              }
            }
          ]
        }
      },
      {
        "left_corner_art@promo_timeline.left_corner_art": {}
      },
      {
        "right_corner_art@promo_timeline.right_corner_art": {}
      }
    ]
  },

  "promotion_screen_top_section": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "layer": 1,
    "controls": [
      {
        "main_panel@promo_timeline.promotion_top_main_panel": {}
      }
    ]
  },

  "promotion_top_main_panel": {
    "type": "image",
    "size": [ "90%", "100%c + 8px" ],
    "texture": "textures/ui/promo_background",
    "layer": 4,
    "controls": [
      {
        "promotion_top_main_stack": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100% - 2px", "100%c" ],
          "controls": [
            {
              "main_panel_title@promo_timeline.main_panel_title": {}
            },
            {
              "promo_single_top": {
                "type": "input_panel",
                "size": [ "100%", "100%c + 6px" ],
                "controls": [
                  {
                    "single_item_view@promo_timeline.promo_detail_panel": {
                      "anchor_from": "bottom_middle",
                      "anchor_to": "bottom_middle",
                      "$tooltip_button_collection_name": "",
                      "$tooltip_text_binding_type": "global"
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#promo_single_item_selected",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "promo_multi_item@common.scrolling_panel": {
                "size": [ "100%", "28.125%x + 22px" ], //Half of the original aspect accounting for static elements
                "$scrolling_pane_size": [ "100%", "100%" ],
                "$scrolling_pane_offset": [ 0, 0 ],
                "$scroll_size": [ 5, "100% - 8px" ],
                "$scrolling_content": "promo_timeline.promo_multi_item_grid",
                "$scroll_bar_left_padding_size": [ 0, 0 ],
                "$show_background": false,
                "$bar_visible": false,
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "(not #promo_single_item_selected)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "main_panel_title": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],
    "layer": 1,
    "controls": [
      {
        "padding_0": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      },
      {
        "header_stack": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100% - 8px", 10 ],
          "controls": [
            {
              "padding_0": {
                "type": "panel",
                "size": [ 8, "100%" ]
              }
            },
            {
              "back_button_centering_panel": {
                "type": "panel",
                "size": [ "100%c", "100%" ],
                "controls": [
                  {
                    "button@common.back_button": {
                      "$button_text": "",
                      "$back_button_pressed_button_name": "button.go_back",
                      "$button_content": "common.back_title_button_content",
                      "$button_tts_header": "accessibility.button.back",
                      "$default_text_color": "$store_white_text_color",
                      "$focus_override_right": "claim_day_button",
                      "$focus_id": "multi_promo_back_button",
                      "bindings": [
                        {
                          "binding_name": "#back_button_visible",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "button_mappings": [
                        {
                          "from_button_id": "button.menu_select",
                          "to_button_id": "$back_button_pressed_button_name",
                          "mapping_type": "pressed"
                        },
                        {
                          "from_button_id": "button.menu_ok",
                          "to_button_id": "$back_button_pressed_button_name",
                          "mapping_type": "pressed"
                        },
                        {
                          "from_button_id": "button.menu_cancel",
                          "to_button_id": "$back_button_pressed_button_name",
                          "mapping_type": "global",
                          "button_up_right_of_first_refusal": true
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "padding_1": {
                "type": "panel",
                "size": [ 2, "100%" ]
              }
            },
            {
              "header_panel": {
                "type": "panel",
                "size": [ "100%c", "100%" ],
                "min_size": [ "fill", "100%" ],
                "controls": [
                  {
                    "title_and_description": {
                      "type": "label",
                      "size": [ "default", 10 ],
                      "color": "$main_header_text_color",
                      "text": "#promotion_day_header",
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_name": "#promotion_day_header"
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "padding_2": {
                "type": "panel",
                "size": [ "fill", "100%" ]
              }
            },
            {
              "claim_all_button_panel": {
                "type": "panel",
                "size": [ "100%c", "100% - 2px" ],
                "controls": [
                  {
                    "claim_all_button@common_buttons.light_text_form_fitting_button": {
                      "size": [ "100%c", "100%c - 2px" ],
                      "offset": [ 0, -1 ],
                      "$pressed_button_name": "button.claim_all",
                      "$button_text": "store.promo.claimDay",
                      "$button_font_scale_factor": 0.7,
                      "$button_text_max_size": [ "default", 6 ],
                      "$locked_text_color": "$0_color_format",
                      "$focus_id": "claim_day_button",
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_name": "#is_claim_all_enabled",
                          "binding_name_override": "#enabled"
                        },
                        {
                          "binding_name": "#is_claim_all_visible",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "padding_1": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      },
      {
        "divdier_centering_panel": {
          "type": "panel",
          "size": [ "100%", 1 ],
          "controls": [
            {
              "divider": {
                "size": [ "100% - 12px", 1 ],
                "type": "image",
                "texture": "textures/ui/divider2",
                "alpha": 0.2,
                "layer": 1
              }
            }
          ]
        }
      },
      {
        "padding_2": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      }
    ]
  },

  "promo_multi_item_grid": {
    "type": "grid",
    "size": [ "100%", "100%c" ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "focus_identifier": "promo_multi_item_grid",
    "grid_item_template": "promo_timeline.promo_grid_item",
    "$tooltip_button_collection_name": "gift_promotion_collection_items",
    "collection_name": "$tooltip_button_collection_name",
    "grid_rescaling_type": "horizontal",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "#promo_grid_offers",
        "binding_name_override": "#maximum_grid_items"
      }
    ]
  },

  "promo_button@common.button": {
    "layer": 11,
    "$pressed_button_name": "button.select_promotion_item",
    "tts_inherit_siblings": true,
    "$focus_override_up": "claim_day_button",
    "$focus_override_down": "period_carousel_panel",
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "collection_details",
        "binding_collection_name": "gift_promotion_collection_items",
        "binding_name": "(not #platform_restricted)",
        "binding_name_override": "#enabled"
      }
    ],
    "controls": [
      {
        "default": {
          "type": "panel",
          "controls": [
            {
              "key_art_size_panel": {
                "type": "panel",
                "size": [ "100%", "100%" ],
                "layer": 1,
                "controls": [
                  {
                    "key_art_frame@common.focus_border_black": {
                      "size": [ "100%cm + 1.1249px", "100%" ], // additive px based on aspect up the tree
                      "anchor_from": "top_left",
                      "anchor_to": "top_left",
                      "layer": 2,
                      "controls": [
                        {
                          "sizing_panel": {
                            "type": "panel",
                            "size": [ "177.78%y", "100% - 2px" ] //rounded width based on height
                          }
                        },
                        {
                          "platform_restricted_warning_image": {
                            "type": "image",
                            "size": [ 10, 20 ],
                            "layer": 5,
                            "texture": "textures/ui/WarningGlyph",
                            "bindings": [
                              {
                                "binding_type": "$store_factory_collection_details",
                                "binding_collection_name": "$store_factory_collection_name",
                                "binding_collection_prefix": "$store_factory_collection_prefix"
                              },
                              {
                                "binding_type": "collection",
                                "binding_collection_name": "gift_promotion_collection_items",
                                "binding_name": "(#platform_restricted)",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "button_frame@common.focus_border_black": {
                      "size": [ "100%", "100%" ],
                      "layer": 3
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "hover": {
          "type": "panel",
          "controls": [
            {
              "key_art_size_panel": {
                "type": "panel",
                "size": [ "100%", "100%" ],
                "layer": 1,
                "controls": [
                  {
                    "key_art_frame@common.square_image_border_white": {
                      "size": [ "100%c + 1.1249px", "100%" ], // additive px based on aspect up the tree
                      "anchor_from": "top_left",
                      "anchor_to": "top_left",
                      "layer": 2,
                      "controls": [
                        {
                          "sizing_panel": {
                            "type": "panel",
                            "size": [ "177.78%y", "100% - 2px" ] //rounded width based on height
                          }
                        }
                      ]
                    }
                  },
                  {
                    "button_frame@common.square_image_border_white": {
                      "size": [ "100%", "100%" ],
                      "layer": 3
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "pressed": {
          "type": "panel",
          "controls": [
            {
              "key_art_frame@common.square_image_border_white": {
                "size": [ "100%c + 1.1249px", "100%" ], //additive px based on aspect up the tree
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "layer": 2,
                "controls": [
                  {
                    "sizing_panel": {
                      "type": "panel",
                      "size": [ "177.78%y", "100% - 2px" ] //rounded width based on height
                    }
                  }
                ]
              }
            },
            {
              "button_frame@common.square_image_border_white": {
                "size": [ "100%", "100%" ],
                "layer": 3
              }
            }
          ]
        }
      }
    ]
  },

  "promo_grid_item": {
    "type": "panel",
    "size": [ "50% - 4px", 40 ],
    "controls": [
      {
        "background_image@common_store.store_description_background": {
          "size": [ "100% - 6px", "100% - 6px" ],
          "layer": 1,
          "controls": [
            {
              "promo_content@promo_timeline.promo_grid_item_content": {
                "layer": 1
              }
            }
          ]
        }
      },
      {
        "promo_button@promo_timeline.promo_button": {
          "size": [ "100% - 4px", "100% - 4px" ]
        }
      },
      {
        "platform_restricted_error_multi_item@promo_timeline.platform_restricted_error": {}
      }
    ]
  },

  "platform_restricted_error": {
    "type": "panel",
    "size": [ "100% - 4px", "100% - 4px" ],
    "layer": 18,
    "controls": [
      {
        "platform_restricted_error_button@common.button": {
          "$pressed_button_name": "button.platform_restricted",
          "controls": [
            {
              "default": {
                "type": "panel",
                "size": [ "100%", "100%" ],
                "layer": 5
              }
            },
            {
              "hover@common.square_image_border_white": {}
            },
            {
              "pressed": {
                "type": "panel",
                "size": [ "100%, 100%" ]
              }
            },
            {
              "white_overlay_to_gray_out": {
                "type": "image",
                "size": [ "100%", "100%" ],
                "texture": "textures/ui/button_borderless_light",
                "alpha": 0.5
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "collection",
              "binding_collection_name": "gift_promotion_collection_items",
              "binding_name": "#platform_restricted",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "promo_grid_item_content": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "thumbnail_image": {
          "type": "image",
          "bilinear": true,
          "size": [ "177.78%y", "100%" ], //rounded width based on height
          "layer": 1,
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "collection",
              "binding_collection_name": "gift_promotion_collection_items",
              "binding_name": "(not #promo_item_is_persona)",
              "binding_name_override": "#visible"
            },
            {
              "binding_type": "collection",
              "binding_collection_name": "gift_promotion_collection_items",
              "binding_name": "#promotion_thumbnail_texture_path",
              "binding_name_override": "#texture"
            },
            {
              "binding_type": "collection",
              "binding_collection_name": "gift_promotion_collection_items",
              "binding_name": "#promotion_thumbnail_texture_file_system",
              "binding_name_override": "#texture_file_system"
            }
          ]
        }
      },
      {
        "persona_key_art_frame": {
          "type": "panel",
          "size": [ "177.78%y", "100%" ],
          "layer": 6,
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "collection",
              "binding_collection_name": "gift_promotion_collection_items",
              "binding_name": "#promo_item_is_persona",
              "binding_name_override": "#visible"
            },
            {
              "binding_type": "collection",
              "binding_collection_name": "gift_promotion_collection_items",
              "binding_name": "#promo_item_is_persona",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            {
              "persona_image_panel": {
                "type": "image",
                "size": [ "100% - 2px", "100% - 2px" ],
                "layer": 5,
                "bilinear": true,
                "anchor_from": "center",
                "anchor_to": "center",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection_items",
                    "binding_name": "#promo_persona_thumbnail_texture",
                    "binding_name_override": "#texture"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection_items",
                    "binding_name": "#promo_persona_thumbnail_file_system",
                    "binding_name_override": "#texture_file_system"
                  }
                ]
              }
            },
            {
              "background@persona_common.item_rarity_color_background": {
                "size": [ "100%", "100%" ],
                "$rarity_background_alpha": 1,
                "$rarity_color_background_texture": "textures/ui/button_borderless_light",
                "$rarity_binding_type": "collection",
                "$rarity_collection_name": "gift_promotion_collection_items",
                "layer": 1,
                "$rarity_background_bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$rarity_binding_type",
                    "binding_collection_name": "$rarity_collection_name",
                    "binding_name": "#rarity_color",
                    "binding_name_override": "#color"
                  }
                ]
              }
            },
            {
              "rarity_bar_panel@persona_common.rarity_bar": {
                "size": [ "100%", 3 ],
                "layer": 6,
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection_items",
                    "binding_name": "#rarity_bar_texture",
                    "binding_name_override": "#texture"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection_items",
                    "binding_name": "#promotion_offer_visible",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "padding_0": {
          "type": "panel",
          "size": [ 4, "100%" ]
        }
      },
      {
        "title_tooltip": {
          "type": "stack_panel",
          "size": [ "fill", "100%" ],
          "controls": [
            {
              "promo_title@common.minecraftTenLabel": {
                "size": [ "100%", 24 ],
                "text": "#item_title_text",
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#item_title_text",
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection_items"
                  }
                ]
              }
            },
            {
              "tooltip@promo_timeline.promo_timer_panel": {
                "$indent_padding_visible": false,
                "$valid_tooltip_binding_type": "collection",
                "$valid_tooltip_binding_collection_name": "gift_promotion_collection_items"
              }
            }
          ]
        }
      }
    ]
  },

  "promotion_period_grid_panel": {
    "type": "panel",
    "size": [ "fill", "100%c" ],
    "controls": [
      {
        "promotion_offer_grid_image": {
          "type": "panel",
          "size": [ "100%", "100%cm" ],
          "layer": 1,
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "collection_details",
              "binding_collection_name": "gift_promotion_collection"
            },
            {
              "binding_name": "#is_valid",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "gift_promotion_collection"
            }
          ],
          "controls": [
            {
              "item_selected_bg": {
                "type": "image",
                "size": [ "100% + 4px", "100%sm" ],
                "texture": "textures/ui/white_background",
                "color": "black",
                "fill": true,
                "keep_ratio": true,
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#this_promo_selected",
                    "binding_name_override": "#visible",
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection"
                  }
                ]
              }
            },
            {
              "promotion_offer_grid_stack_panel": {
                "type": "stack_panel",
                "orientation": "vertical",
                "size": [ "100%", "100%c + 2px" ],
                "layer": 2,
                "controls": [
                  {
                    "day_label_panel": {
                      "type": "panel",
                      "size": [ "100%", 13 ],
                      "controls": [
                        {
                          "day_label@common.minecraftTenLabel": {
                            "size": [ "default", "default" ],
                            "color": "$body_text_color",
                            "text": "#promotion_day_text",
                            "anchor_from": "top_middle",
                            "anchor_to": "top_middle",
                            "layer": 5,
                            "offset": [ 0, 0 ],
                            "bindings": [
                              {
                                "binding_type": "$store_factory_collection_details",
                                "binding_collection_name": "$store_factory_collection_name",
                                "binding_collection_prefix": "$store_factory_collection_prefix"
                              },
                              {
                                "binding_type": "collection_details",
                                "binding_collection_name": "gift_promotion_collection"
                              },
                              {
                                "binding_name": "#promotion_day_text",
                                "binding_type": "collection",
                                "binding_collection_name": "gift_promotion_collection"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "pad": {
                      "type": "panel",
                      "size": [ "100%", 2 ]
                    }
                  },
                  {
                    "image_centering_panel": {
                      "type": "panel",
                      "size": [ "100%", "100%c" ],
                      "controls": [
                        {
                          "image_panel": {
                            "type": "panel",
                            "size": [ "90%", "100%x" ],
                            "controls": [
                              {
                                "item_button@promo_timeline.promotion_period_grid_item": {}
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "promotion_period_offer_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100% - 46px", "100%cm" ],
    "offset": [ 1, 0 ],
    "focus_container": true,
    "use_last_focus": true,
    "collection_name": "gift_promotion_collection",
    "controls": [
      {
        "period_1@promo_timeline.promotion_period_grid_panel": {
          "collection_index": 0,
          "$focus_id": "period_1"
        }
      },
      {
        "padding_0": {
          "type": "panel",
          "size": [ 1, "100%sm" ]
        }
      },
      {
        "period_2@promo_timeline.promotion_period_grid_panel": {
          "collection_index": 1,
          "$focus_id": "period_2"
        }
      },
      {
        "padding_1": {
          "type": "panel",
          "size": [ 1, "100%sm" ]
        }
      },
      {
        "period_3@promo_timeline.promotion_period_grid_panel": {
          "collection_index": 2,
          "$focus_id": "period_3"
        }
      },
      {
        "padding_2": {
          "type": "panel",
          "size": [ 1, "100%sm" ]
        }
      },
      {
        "period_4@promo_timeline.promotion_period_grid_panel": {
          "collection_index": 3,
          "$focus_id": "period_4"
        }
      },
      {
        "padding_3": {
          "type": "panel",
          "size": [ 1, "100%sm" ]
        }
      },
      {
        "period_5@promo_timeline.promotion_period_grid_panel": {
          "collection_index": 4,
          "$focus_id": "period_5"
        }
      },
      {
        "padding_4": {
          "type": "panel",
          "size": [ 1, "100%sm" ]
        }
      },
      {
        "period_6@promo_timeline.promotion_period_grid_panel": {
          "collection_index": 5,
          "$focus_id": "period_6"
        }
      },
      {
        "padding_5": {
          "type": "panel",
          "size": [ 1, "100%sm" ]
        }
      },
      {
        "period_7@promo_timeline.promotion_period_grid_panel": {
          "collection_index": 6,
          "$focus_id": "period_7"
        }
      }
    ]
  },

  "toggle_button_control": {
    "type": "panel",
    "layer": 2,
    "size": "$size",
    "focus_container": true,
    "controls": [
      {
        "green_check": {
          "type": "image",
          "size": [ 15, 12 ],
          "texture": "textures/ui/realms_green_check",
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "offset": [ 3, -1 ],
          "layer": 15,
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#period_has_been_claimed",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "gift_promotion_collection"
            }
          ]
        }
      },
      {
        "key_art_image_panel": {
          "type": "panel",
          "size": [ "80%", "80%" ],
          "controls": [
            {
              "image_loading_panel@common_store.progress_loading": {
                "layer": 100, // Make this on top
                "$hide_failure_text": true,
                "$hide_progress_loading_outline": true,
                "$source_control_name": "key_art_image",
                "$source_property_name": "(#texture = '')"
              }
            },
            {
              "key_art_image": {
                "type": "image",
                "bilinear": false,
                "layer": 4,
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection",
                    "binding_name": "(not (#promotion_thumbnail_texture_path = ''))",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection",
                    "binding_name": "#promotion_thumbnail_texture_path",
                    "binding_name_override": "#texture"
                  },
                  {
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection",
                    "binding_name": "#promotion_thumbnail_texture_file_system",
                    "binding_name_override": "#texture_file_system"
                  }
                ]
              }
            }
          ]
        }
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "collection_details",
        "binding_collection_name": "gift_promotion_collection"
      }
    ]
  },

  "checked_border@common_toggles.toggle_checked": {
    "$border_visible": true,
    "$border_color": [ 1, 1, 1 ]
  },

  "promotion_period_grid_item": {
    "type": "panel",
    "$size": [ "100%", "100%" ],
    "$is_world_item|default": false,

    "variables": [
      {
        "requires": "(not $is_world_item)",
        "$size": [ "100%", "100%x" ]
      }
    ],

    "controls": [
      {
        "frame": {
          "type": "panel",
          "size": "$size",
          "controls": [
            {
              "offer_button": {
                "type": "panel",
                "layer": 11,
                "controls": [
                  {
                    "offer_toggle_button@common_toggles.dark_ui_toggle": {
                      "$button_type_panel": "promo_timeline.toggle_button_control",
                      "$toggle_name": "promo_day_button",
                      "$radio_toggle_group": true,
                      "$toggle_binding_type": "collection",
                      "$toggle_grid_collection_name": "gift_promotion_collection",
                      "$toggle_state_binding_name": "#promo_day_toggle_check",
                      "$toggle_on_hover_binding_type": "global",
                      "$toggle_on_hover_binding_name": "#toggle_on_hover",
                      "$checked_control": "promo_timeline.checked_border",
                      "$pressed_texture": "textures/ui/button_borderless_dark",
                      "$pressed_no_hover_texture": "textures/ui/button_borderless_dark",
                      "$toggle_enabled_binding_name": "#promotion_offer_visible",

                      "$toggle_tab_focus_override_right": "#promo_day_focus_override_right",
                      "$toggle_tab_focus_override_right_binding_type": "collection",

                      "$button_mappings": [
                        {
                          "from_button_id": "button.menu_tab_right",
                          "to_button_id": "button.cycle_promotions_right",
                          "mapping_type": "global"
                        },
                        {
                          "from_button_id": "button.menu_tab_left",
                          "to_button_id": "button.cycle_promotions_left",
                          "mapping_type": "global"
                        },
                        {
                          "from_button_id": "button.menu_select",
                          "to_button_id": "button.menu_select",
                          "mapping_type": "pressed"
                        },
                        {
                          "from_button_id": "button.menu_ok",
                          "to_button_id": "button.menu_ok",
                          "mapping_type": "focused"
                        },
                        {
                          "ignored": "(not $enable_directional_toggling)",
                          "from_button_id": "button.menu_left",
                          "to_button_id": "$toggle_off_button",
                          "mapping_type": "pressed",
                          "input_mode_condition": "gamepad"
                        },
                        {
                          "ignored": "(not $enable_directional_toggling)",
                          "from_button_id": "button.menu_right",
                          "to_button_id": "$toggle_on_button",
                          "mapping_type": "pressed",
                          "input_mode_condition": "gamepad"
                        },
                        {
                          "ignored": "(not $enable_hover_event_mapping)",
                          "to_button_id": "$toggle_hover_event_mapping",
                          "mapping_type": "pressed"
                        }
                      ],
                      "$toggle_bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_collection_name": "$toggle_grid_collection_name",
                          "binding_type": "collection_details"
                        },
                        {
                          "binding_type": "$toggle_binding_type",
                          "binding_collection_name": "$toggle_grid_collection_name",
                          "binding_name": "$toggle_state_binding_name",
                          "binding_name_override": "#toggle_state"
                        },
                        {
                          "binding_type": "$toggle_binding_type",
                          "binding_collection_name": "$toggle_grid_collection_name",
                          "binding_name": "$toggle_enabled_binding_name",
                          "binding_name_override": "#enabled"
                        },
                        {
                          "binding_type": "$toggle_property_bag_binding_type",
                          "binding_condition": "$toggle_property_bag_binding_condition",
                          "binding_collection_name": "$toggle_grid_collection_name",
                          "binding_name": "$toggle_property_bag_binding_name"
                        },
                        {
                          "binding_type": "$toggle_tab_focus_binding_type",
                          "binding_name": "$toggle_tab_focus_binding_name",
                          "binding_name_override": "#default_focus_precedence"
                        },
                        {
                          "binding_type": "$toggle_tab_focus_id_binding_type",
                          "binding_collection_name": "$toggle_grid_collection_name",
                          "binding_name": "$toggle_tab_focus_id_binding_name",
                          "binding_name_override": "#focus_identifier"
                        },
                        {
                          "binding_type": "$toggle_tab_focus_override_right_binding_type",
                          "binding_collection_name": "$toggle_grid_collection_name",
                          "binding_name": "$toggle_tab_focus_override_right",
                          "binding_name_override": "#focus_change_right"
                        },
                        {
                          "binding_type": "$toggle_tab_focus_override_left_binding_type",
                          "binding_collection_name": "$toggle_grid_collection_name",
                          "binding_name": "$toggle_tab_focus_override_left",
                          "binding_name_override": "#focus_change_left"
                        },
                        {
                          "binding_type": "$toggle_tab_focus_override_down_binding_type",
                          "binding_collection_name": "$toggle_grid_collection_name",
                          "binding_name": "$toggle_tab_focus_override_down",
                          "binding_name_override": "#focus_change_down"
                        },
                        {
                          "binding_type": "$toggle_tab_focus_override_up_binding_type",
                          "binding_collection_name": "$toggle_grid_collection_name",
                          "binding_name": "$toggle_tab_focus_override_up",
                          "binding_name_override": "#focus_change_up"
                        },
                        {
                          "binding_type": "$toggle_on_hover_binding_type",
                          "binding_name": "$toggle_on_hover_binding_name",
                          "binding_name_override": "#toggle_on_hover"
                        },
                        {
                          "binding_type": "$custom_toggle_binding_type",
                          "binding_condition": "$custom_toggle_binding_condition",
                          "binding_collection_name": "$toggle_grid_collection_name",
                          "binding_name": "$custom_toggle_state_binding_name",
                          "binding_name_override": "$custom_toggle_state_binding_name_override"
                        },
                        {
                          "binding_type": "$toggle_tts_header_binding_type",
                          "binding_condition": "$toggle_tts_header_binding_condition",
                          "binding_collection_name": "$toggle_tts_header_binding_collection_name",
                          "binding_name": "$toggle_tts_header"
                        },
                        {
                          "ignored": "(not $enable_focus_id_bind)",
                          "binding_name": "$focus_id_binding_name",
                          "binding_name_override": "#focus_identifier"
                        },
                        {
                          "ignored": "(not $enable_focus_enabled_bind)",
                          "binding_name": "$focus_enabled_binding_name",
                          "binding_name_override": "#focus_enabled"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  //--------------------------------------------------------------------------------
  // Single Item View For Reusable Promo
  //--------------------------------------------------------------------------------

  "vertical_padding_2px": {
    "type": "panel",
    "size": [ 1, 2 ]
  },

  "timer_icon_tooltip_panel": {
    "type": "panel",
    "size": [ 8, 8 ],
    "layer": 10,
    "controls": [
      {
        "limited_status_image": {
          "type": "image",
          "size": [ "100%", "100%" ],
          "offset": [ 0, -1 ],
          "bilinear": true,
          "texture": "textures/ui/timer",
          "layer": 1
        }
      }
    ]
  },

  "timer_tooltip_panel_right_extending@common.button": {
    "size": [ 8, 8 ],
    "layer": 10,
    "$tooltip_button_content_size|default": [ "100%", "100%" ],
    "$tooltip_panel_offset": [ -11, 8 ],
    "$tooltip_background_texture": "textures/ui/tooltip_default_background",
    "$tooltip_chevron_anchor": "top_left",
    "$tooltip_popup_chevron_offset": [ 2, "-100%y + 4px" ],
    "$tooltip_popup_chevron_texture": "textures/ui/tooltip_inverted_chevron",
    "$pressed_button_name": "button.ignore_me",
    "$tooltip_button_binding_type": "none",
    "$tooltip_text_binding_name": "#promo_timer_tool_tip",
    "$tooltip_text_font_type": "smooth",
    "$tooltip_text_font_scale": 0.8,
    "$tooltip_popup_override_image_panel": "promo_timeline.timer_icon_tooltip_panel",
    "$override_tooltip_popup_image": true,
    "$tooltip_text_binding_type": "$valid_tooltip_binding_type",
    "$tooltip_button_collection_name": "$valid_tooltip_binding_collection_name",
    "$tooltip_text_bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "$tooltip_text_binding_name",
        "binding_collection_name": "$tooltip_button_collection_name",
        "binding_type": "$tooltip_text_binding_type"
      }
    ],
    "controls": [
      {
        "default@common.empty_panel": {}
      },
      {
        "hover@common.dynamic_tooltip_popup_with_image_and_text": {
          "anchor_to": "top_left",
          "anchor_from": "bottom_middle"
        }
      },
      {
        "pressed@common.dynamic_tooltip_popup_with_image_and_text": {
          "anchor_to": "top_left",
          "anchor_from": "bottom_middle"
        }
      }
    ]
  },

  "timer_tooltip_panel_left_extending@common.button": {
    "size": [ 8, 8 ],
    "layer": 10,
    "$tooltip_button_content_size|default": [ "100%", "100%" ],
    "$tooltip_panel_offset": [ -11, 8 ],
    "$tooltip_background_texture": "textures/ui/tooltip_default_background",
    "$tooltip_chevron_anchor": "top_right",
    "$tooltip_popup_chevron_offset": [ -2, "-100%y + 4px" ],
    "$tooltip_popup_chevron_texture": "textures/ui/tooltip_inverted_chevron",
    "$pressed_button_name": "button.ignore_me",
    "$tooltip_button_binding_type": "none",
    "$tooltip_text_binding_name": "#promo_timer_tool_tip",
    "$tooltip_text_font_type": "smooth",
    "$tooltip_text_font_scale": 0.8,
    "$tooltip_popup_override_image_panel": "promo_timeline.timer_icon_tooltip_panel",
    "$override_tooltip_popup_image": true,
    "$tooltip_text_binding_type": "$valid_tooltip_binding_type",
    "$tooltip_button_collection_name": "$valid_tooltip_binding_collection_name",
    "$tooltip_text_bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_name": "$tooltip_text_binding_name",
        "binding_collection_name": "$tooltip_button_collection_name",
        "binding_type": "$tooltip_text_binding_type"
      }
    ],
    "controls": [
      {
        "default@common.empty_panel": {}
      },
      {
        "hover@common.dynamic_tooltip_popup_with_image_and_text": {
          "offset": [ "-100%x + 12px", 7 ],
          "anchor_to": "top_left",
          "anchor_from": "bottom_middle"
        }
      },
      {
        "pressed@common.dynamic_tooltip_popup_with_image_and_text": {
          "anchor_to": "top_left",
          "anchor_from": "bottom_middle"
        }
      }
    ]
  },

  "no_timer_tooltip_panel@common.button": {
    "size": [ 8, 8 ],
    "layer": 10,
    "$tooltip_button_content_size|default": [ "100%", "100%" ],
    "$tooltip_panel_offset": [ -11, 8 ],
    "$tooltip_background_texture": "textures/ui/tooltip_default_background",
    "$tooltip_chevron_anchor": "top_left",
    "$tooltip_popup_chevron_offset": [ 2, "-100%y + 4px" ],
    "$tooltip_popup_chevron_texture": "textures/ui/tooltip_inverted_chevron",
    "$pressed_button_name": "button.ignore_me",
    "$tooltip_button_binding_type": "none",
    "$tooltip_text_binding_name": "#promo_timer_tool_tip",
    "$tooltip_text_font_type": "smooth",
    "$tooltip_text_font_scale": 0.8,
    "$tooltip_popup_override_image_panel": "promo_timeline.timer_icon_tooltip_panel",
    "$override_tooltip_popup_image": true,
    "$tooltip_text_binding_type": "$valid_tooltip_binding_type",
    "$tooltip_button_collection_name": "$valid_tooltip_binding_collection_name",
    "controls": [
      {
        "default@common.empty_panel": {}
      },
      {
        "hover@common.empty_panel": {}
      },
      {
        "pressed@common.empty_panel": {}
      }
    ]
  },

  "promo_timer_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%cm" ],
    "$valid_tooltip_binding_type|default": "collection",
    "$valid_tooltip_binding_collection_name|default": "gift_promotion_collection_items",
    "$ignore_padding|default": true,
    "controls": [
      {
        "timer_icon_and_tooltip_panel": {
          "type": "panel",
          "size": [ 12, 8 ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "collection_details",
              "binding_collection_name": "gift_promotion_collection"
            },
            {
              "binding_name": "#promo_item_timer_visible",
              "binding_collection_name": "$tooltip_button_collection_name",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            {
              "tooltip_button_right_extending@promo_timeline.timer_tooltip_panel_right_extending": {
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#promo_timer_tool_tip_right_visible",
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection_items",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "tooltip_button_left_extending@promo_timeline.timer_tooltip_panel_left_extending": {
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#promo_timer_tool_tip_left_visible",
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection_items",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "notooltip_button@promo_timeline.no_timer_tooltip_panel": {
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#promo_timer_tool_tip_not_visible",
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection_items",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "timer_icon": {
                "type": "image",
                "size": [ 8, 8 ],
                "offset": [ 0, 1 ],
                "bilinear": true,
                "texture": "textures/ui/timer"
              }
            }
          ]
        }
      },
      {
        "padding": {
          "type": "panel",
          "size": [ 3, 0 ],
          "ignored": "$ignore_padding",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "(not #promo_item_timer_visible)",
              "binding_type": "global",
              "binding_collection_name": "",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "timer_text": {
          "type": "label",
          "size": [ "100%", "default" ],
          "font_type": "smooth",
          "font_scale_factor": 0.8,
          "color": "$coin_color",
          "text": "#promo_item_timer_text",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#promo_item_timer_text",
              "binding_type": "$valid_tooltip_binding_type",
              "binding_collection_name": "$valid_tooltip_binding_collection_name"
            }
          ]
        }
      }
    ]
  },

  "offer_title_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "offer_title_label": {
          "type": "label",
          "size": [ "100%", 10 ],
          "offset": [ 3, 0 ],
          "color": "$main_header_text_color",
          "text": "#promo_item_title_text",
          "font_type": "smooth",
          "text_alignment": "left",
          "layer": 1,
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "collection_details",
              "binding_collection_name": "gift_promotion_collection"
            },
            {
              "binding_name": "#promo_item_title_text"
            }
          ]
        }
      }
    ]
  },

  "title_and_author_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "author_button_panel": {
          "type": "panel",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "summary_author_button@common_buttons.underline_button": {
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "offset": [ 0, -4 ],
                "$pressed_button_name": "button.seeMoreBy",
                "$single_line_label_text": "#promo_item_creator_text",
                "$label_text_bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "$single_line_label_text"
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "glyph_panel": {
    "type": "panel",
    "size": [ "100%", "100%cm" ],
    "layer": 2,
    "controls": [
      {
        "item_glyph_count_panel": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%c", 10 ],
          "offset": [ 1, -2 ],
          "layer": 2,
          "controls": [
            {
              "glyph_icon_panel": {
                "type": "panel",
                "size": [ 8, "100%" ],
                "controls": [
                  {
                    "glyph_icon": {
                      "type": "image",
                      "size": [ 8, 8 ],
                      "offset": [ 0, -1.5 ],
                      "texture": "$item_glyph_texture",
                      "color": "$body_text_color",
                      "bilinear": true,
                      "anchor_from": "bottom_left",
                      "anchor_to": "bottom_left"
                    }
                  }
                ]
              }
            },
            {
              "center_item_glyph_padding": {
                "type": "panel",
                "size": [ 2, "100%" ]
              }
            },
            {
              "item_glyph_count_panel_label": {
                "type": "label",
                "size": [ "default", 8 ],
                "text_alignment": "left",
                "font_type": "smooth",
                "font_scale_factor": 0.8,
                "color": "$body_text_color",
                "text": "$item_glyph_text_binding",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "$mashup_collection_binding_type",
                    "binding_collection_name": "$mashup_collection_name",
                    "binding_name": "$item_glyph_text_binding",
                    "binding_condition": "visible"
                  }
                ]
              }
            },
            {
              "item_glyph_panel_padding@pdp.horizontal_padding_8px": {}
            }
          ]
        }
      }
    ]
  },

  "vertical_glyph_section_content": {
    "size": [ "100%", "100%cm" ],
    "type": "stack_panel",
    "orientation": "vertical",
    "controls": [
      {
        "glyph_content@promo_timeline.glyph_panel": {}
      },
      {
        "bottom_glyph_content_padding@promo_timeline.vertical_padding_2px": {}
      }
    ],
    "bindings": [
      {
        "binding_type": "$store_factory_collection_details",
        "binding_collection_name": "$store_factory_collection_name",
        "binding_collection_prefix": "$store_factory_collection_prefix"
      },
      {
        "binding_type": "$mashup_collection_binding_type",
        "binding_collection_name": "$mashup_collection_name",
        "binding_name": "$item_glyph_count_visible_binding",
        "binding_name_override": "#visible"
      }
    ]
  },

  "glyph_section_panel": {
    "type": "panel",
    "size": [ "100%", "100%cm" ],
    "layer": 2,
    "anchor_to": "top_right",
    "anchor_from": "top_right",

    "controls": [
      {
        "glyphs": {
          "type": "stack_panel",
          "orientation": "$glyph_section_orientation",
          "size": "$glyph_section_size",

          "$mashup_collection_binding_type|default": "global",
          "$mashup_collection_name|default": "",
          "$glyph_section_only_show_count|default": false,

          "controls": [
            {
              "skin_glyph_section@$glyph_section_content": {
                "$item_glyph_texture": "textures/ui/glyph_skin_pack",
                "$item_glyph_text_binding": "#promo_item_skin_count_and_label",
                "$item_glyph_count_visible_binding": "#promo_item_skin_count_visible",
                "variables": [
                  {
                    "requires": "$glyph_section_only_show_count",
                    "$item_glyph_text_binding": "#promo_item_skin_count"
                  }
                ]
              }
            },
            {
              "world_glyph_section@$glyph_section_content": {
                "$item_glyph_texture": "textures/ui/glyph_world_template",
                "$item_glyph_text_binding": "#promo_item_world_template_count_and_label",
                "$item_glyph_count_visible_binding": "#promo_item_world_template_count_visible",
                "variables": [
                  {
                    "requires": "$glyph_section_only_show_count",
                    "$item_glyph_text_binding": "#promo_item_world_template_count"
                  }
                ]
              }
            },
            {
              "resource_pack_glyph_section@$glyph_section_content": {
                "$item_glyph_texture": "textures/ui/glyph_resource_pack",
                "$item_glyph_text_binding": "#promo_item_resource_pack_count_and_label",
                "$item_glyph_count_visible_binding": "#promo_item_resource_pack_count_visible",
                "variables": [
                  {
                    "requires": "$glyph_section_only_show_count",
                    "$item_glyph_text_binding": "#promo_item_resource_pack_count"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "vertical_glyph_section_panel@promo_timeline.glyph_section_panel": {
    "size": [ "100%", "100%cm" ],
    "$glyph_section_orientation": "vertical",
    "$glyph_section_size": [ "100%", "100%c" ],
    "$glyph_section_content": "promo_timeline.vertical_glyph_section_content"
  },

  "image_glyphs_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100% - 8px", "100%cm" ],
    "controls": [
      {
        "world_panel": {
          "type": "panel",
          "size": [ "50%", "56.25%x" ], //image aspect ratio
          "controls": [
            {
              "border@common.square_image_border_white": {
                "type": "image",
                "layer": 6,
                "size": [ "100%", "100%" ],
                "anchor_from": "center",
                "anchor_to": "center",
                "texture": "textures/ui/black_border"
              }
            },
            {
              "world_key_image": {
                "type": "image",
                "layer": 1,
                "size": [ "100%", "100%" ],
                "bilinear": true,
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#promo_key_art_texture",
                    "binding_name_override": "#texture"
                  },
                  {
                    "binding_name": "#promo_key_art_file_system",
                    "binding_name_override": "#texture_file_system"
                  }
                ]
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "(not #promo_item_is_persona)",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "persona_panel": {
          "type": "panel",
          "size": [ "25%", "100%x" ], //image aspect ratio
          "controls": [
            {
              "border@common.square_image_border_white": {
                "type": "image",
                "layer": 7,
                "size": [ "100%", "100%" ],
                "anchor_from": "center",
                "anchor_to": "center",
                "texture": "textures/ui/black_border"
              }
            },
            {
              "persona_image": {
                "type": "image",
                "size": [ "100%", "100%" ],
                "layer": 5,
                "bilinear": true,
                "anchor_from": "center",
                "anchor_to": "center",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#promo_persona_thumbnail_texture",
                    "binding_name_override": "#texture"
                  },
                  {
                    "binding_name": "#promo_persona_thumbnail_file_system",
                    "binding_name_override": "#texture_file_system"
                  }
                ]
              }
            },
            {
              "background@persona_common.item_rarity_color_background": {
                "size": [ "100%", "100%" ],
                "$rarity_background_alpha": 1,
                "$rarity_color_background_texture": "textures/ui/button_borderless_light",
                "layer": 1,
                "anchor_from": "center",
                "anchor_to": "center",
                "$rarity_background_bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#rarity_color",
                    "binding_name_override": "#color"
                  }
                ]
              }
            },
            {
              "rarity_bar_panel@persona_common.rarity_bar": {
                "size": [ "100%", 3 ],
                "layer": 6,
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#rarity_bar_texture",
                    "binding_name_override": "#texture"
                  }
                ]
              }
            }
          ],
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#promo_item_is_persona",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "divider": {
          "type": "panel",
          "size": [ 3, 0 ],
          "inherit_max_sibling_height": true
        }
      },
      {
        "info": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "fill", "100%sm" ],
          "controls": [
            {
              "summary_title_and_author_panel@promo_timeline.title_and_author_panel": {}
            },
            {
              "glyph_section": {
                "type": "panel",
                "size": [ "100%", "100%c" ],
                "controls": [
                  {
                    "glyph_section_panel@promo_timeline.vertical_glyph_section_panel": {
                      "offset": [ 0, 1 ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "promo_lower_button_content": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "promo_banner_button@common.minecraftTenLabel": {
          "size": [ "100%", "12px" ],
          "text_alignment": "center",
          "offset": [ 0, -1 ],
          "color": "$text_color",
          "text": "#promo_button_text",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#promo_page_is_ready",
              "binding_name_override": "#visible"
            },
            {
              "binding_name": "#promo_button_text"
            }
          ]
        }
      },
      {
        "progress_loading_spinner@common_store.progress_loading_spinner": {
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#page_loading_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "free_discount_label": {
    "type": "label",
    "size": [ "default", 10 ],
    "offset": [ 2, 0 ],
    "font_type": "smooth",
    "text": "storageManager.share.totalPercent",
    "color": "$store_sales_banner_text_color",
    "layer": 10
  },

  "promo_upper_button_content": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "markdown": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%c", "100%" ],
          "anchor_to": "left_middle",
          "anchor_from": "left_middle",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#item_is_not_owned",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            {
              "sales_banner_offset_panel": {
                "priority": 0,
                "type": "panel",
                "size": [ "100%c", "100%" ],
                "controls": [
                  {
                    "sales_banner_panel": {
                      "type": "panel",
                      "size": [ "100%c", "100% + 4px" ],
                      "offset": [ -2, 0 ],
                      "anchor_from": "left_middle",
                      "anchor_to": "left_middle",
                      "controls": [
                        {
                          "markdown_banner@common_store.markdown_background": {
                            "$markdown_label": "promo_timeline.free_discount_label",
                            "size": [ "100%c", "100%" ],
                            "$banner_size": [ "20px", "100%" ],
                            "$triangle_offset": [ 0, 0 ],
                            "layer": 9,
                            "$triangle_texture": "textures/ui/saleflagtrianglebeveldefault",
                            "$banner_texture": "textures/ui/sale_button_borderless_lighthoverflag"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "price_markdown_panel": {
                "type": "panel",
                "size": [ "100%c", "100%" ],
                "controls": [
                  {
                    "offer_price": {
                      "type": "label",
                      "size": [ "default", 10 ],
                      "layer": 4,
                      "color": "$text_color",
                      "text": "#promo_item_full_price",
                      "font_type": "smooth",
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_name": "#promo_item_full_price"
                        }
                      ],
                      "controls": [
                        {
                          "text_strike_through@common_store.text_strike_through": {
                            "size": [ "100% + 2px", 1 ],
                            "offset": [ 0, 1 ],
                            "color": "$text_color",
                            "alpha": 0.6,
                            "layer": 5
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "promo_item_action_text_panel": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "warning_image_panel": {
                "type": "panel",
                "size": [ "100%c", "100%" ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#platform_restricted_item",
                    "binding_name_override": "#visible",
                    "binding_type": "collection",
                    "binding_collection_name": "gift_promotion_collection_items"
                  }
                ],
                "controls": [
                  {
                    "platform_restricted_warning_image": {
                      "type": "image",
                      "size": [ 7, 11 ],
                      "offset": [ 0, -1 ],
                      "layer": 20,
                      "texture": "textures/ui/WarningGlyph"
                    }
                  },
                  {
                    "padding": {
                      "type": "panel",
                      "size": [ 4, "100%" ]
                    }
                  }
                ]
              }
            },
            {
              "promo_item_action_text@common.minecraftTenLabel": {
                "size": [ "default", "default" ],
                "offset": [ 0, -1 ],
                "text": "#promo_item_action_button_text",
                "color": "$text_color",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "(not #world_download_info_visible)",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_name": "#promo_item_action_button_text"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "download_progress_bar@common_store.store_progress_bar_icon": {
          "size": [ "90%", 5 ],
          "anchor_from": "center",
          "anchor_to": "center",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#world_download_info_visible",
              "binding_name_override": "#visible"
            }
          ],
          "$progress_bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#world_download_progress_bar_percentage",
              "binding_name_override": "#clip_ratio",
              "binding_condition": "always_when_visible"
            }
          ]
        }
      }
    ]
  },

  "description_section_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "$description_size|default": [ "100% - 2px", "default" ],
    "controls": [
      {
        "contents_description": {
          "type": "label",
          "size": "$description_size",
          "layer": 1,
          "color": "$body_text_color",
          "font_type": "smooth",
          "font_scale_factor": 0.8,
          "$description_label_binding_name": "#promo_description_label",
          "text": "$description_label_binding_name",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#promo_description_label"
            },
            {
              "binding_name": "#has_promo_item_description",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "offset_title_offer": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%cm" ],
    "controls": [
      {
        "pad_0": {
          "type": "panel",
          "size": [ 4, "100%sm" ]
        }
      },
      {
        "title_panel@promo_timeline.offer_title_panel": {}
      }
    ]
  },

  "offset_promo_timer": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%cm" ],
    "controls": [
      {
        "pad_0": {
          "type": "panel",
          "size": [ 4, "100%sm" ]
        }
      },
      {
        "promo_timer@promo_timeline.promo_timer_panel": {
          "$ignore_padding": false,
          "layer": 1
        }
      }
    ]
  },

  "offset_image_glyphs_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%cm" ],
    "controls": [
      {
        "pad_0": {
          "type": "panel",
          "size": [ 4, "100%sm" ]
        }
      },
      {
        "smaller_panel": {
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100%-4px", "100%c" ],
          "controls": [
            {
              "details@promo_timeline.image_glyphs_panel": {}
            },
            {
              "description@promo_timeline.description_section_panel": {}
            }
          ]
        }
      }
    ]
  },

  "promo_pack_detail_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "offset_title_panel@promo_timeline.offset_title_offer": {}
      },
      {
        "offsetted_promo_timer@promo_timeline.offset_promo_timer": {}
      },
      {
        "pad_0": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      },
      {
        "offsetted_details@promo_timeline.offset_image_glyphs_panel": {}
      },
      {
        "pad_1": {
          "type": "panel",
          "size": [ "100%", 4 ]
        }
      }
    ]
  },

  "promo_left_inner_top_scrolling_content": {
    "type": "input_panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      {
        "details@promo_timeline.promo_pack_detail_panel": {}
      }
    ]
  },

  "promo_left_inner_top": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "fill" ],
    "controls": [
      {
        "top@common.scrolling_panel": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "size": [ "100%", "fill" ],
          "$scrolling_pane_size": [ "100%", "100%" ],
          "$scrolling_pane_offset": [ 1, 0 ],
          "$scroll_size": [ 5, "100%" ],
          "$scrolling_content": "promo_timeline.promo_left_inner_top_scrolling_content",
          "$scroll_bar_left_padding_size": [ 0, 0 ],
          "$show_background": false,
          "$bar_visible": false
        }
      },
      {
        "padding2@promo_timeline.vertical_padding_2px": {}
      }
    ]
  },

  "promo_left_inner_bottom": {
    "type": "stack_panel",
    "size": [ "100% - 4px", "100%c" ],
    "orientation": "vertical",
    "anchor_to": "bottom_middle",
    "anchor_from": "bottom_middle",
    "controls": [
      {
        "banner_button_top_panel": {
          "type": "panel",
          "size": [ "100%", "100%cm" ],
          "controls": [
            {
              "banner_button_top@common_buttons.light_content_button": {
                "size": [ "100%", 22 ],
                "$is_purchase_button": true,
                "anchor_from": "center",
                "anchor_to": "center",
                "$button_content": "promo_timeline.promo_upper_button_content",
                "$anchor": "center",
                "layer": 4,
                "$focus_id": "promo_top_button",
                "$pressed_button_name": "button.item_action",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "gift_promotion_collection_items"
                  },
                  {
                    "binding_name": "#promo_action_button_visible",
                    "binding_name_override": "#visible"
                  },
                  {
                    "binding_name": "(not #platform_restricted_item)",
                    "binding_name_override": "#enabled"
                  }
                ]
              }
            },
            {
              "platform_restricted_error_single_item@promo_timeline.platform_restricted_error": {
                "size": [ "100%", 22 ],
                "layer": 25,
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "gift_promotion_collection_items"
                  },
                  {
                    "binding_name": "#platform_restricted_item",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "banner_button_bottom@common_buttons.light_content_button": {
          "size": [ "100%", 22 ],
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left",
          "$button_content": "promo_timeline.promo_lower_button_content",
          "$anchor": "bottom_left",
          "layer": 4,
          "$focus_id": "promo_bottom_button",
          "$focus_override_up": "banner_full_button",
          "$focus_override_down": "period_carousel_panel",
          "$pressed_button_name": "button.item_pdp",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_type": "collection_details",
              "binding_collection_name": "gift_promotion_collection_items"
            },
            {
              "binding_name": "(not #platform_restricted_item)",
              "binding_name_override": "#visible"
            },
            {
              "binding_name": "#promo_bottom_button_focus_override_down",
              "binding_name_override": "#focus_change_down"
            }
          ]
        }
      }
    ]
  },

  "promo_left_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "fill", "56.25%x + 18.2px" ], //image aspect ratio + some buffer space
    "anchor_to": "bottom_left",
    "anchor_from": "bottom_left",
    "controls": [
      {
        "top@promo_timeline.promo_left_inner_top": {}
      },
      {
        "bottom_buttons_padded": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%", "100%cm" ],
          "controls": [
            {
              "pad_0": {
                "type": "panel",
                "size": [ "4px", "100%sm" ]
              }
            },
            {
              "bottom@promo_timeline.promo_left_inner_bottom": {}
            }
          ]
        }
      },
      {
        "padding": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      }
    ]
  },

  "promo_world_image_panel": {
    "type": "panel",
    "size": [ "100%", "fill" ],
    "controls": [
      {
        "image": {
          "type": "panel",
          "size": [ "177.78%y", "100% - 1px" ],
          "controls": [
            {
              "key_image": {
                "type": "image",
                "layer": 1,
                "bilinear": true,
                "controls": [
                  {
                    "border@common.focus_border_white": {
                      "size": [ "100% + 2px", "100% + 2px" ],
                      "color": "$light_border_default_color",
                      "layer": 1
                    }
                  }
                ],
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_name": "#promo_screenshot_texture",
                    "binding_name_override": "#texture"
                  },
                  {
                    "binding_name": "#promo_screenshot_location",
                    "binding_name_override": "#texture_file_system"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "promo_grey_bar_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "fill", "100%" ],
    "controls": [
      {
        "grey_bar": {
          "type": "image",
          "size": [ "100% - 1px", "100%" ],
          "texture": "textures/ui/white_background",
          "keep_ratio": false,
          "tiled": true,
          "color": "$servers_screenshot",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "(not #this_promo_screenshot_selected)",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "promo_world_screenshot_collection"
            }
          ]
        }
      },
      {
        "green_bar": {
          "type": "image",
          "size": [ "100% - 1px", "100%" ],
          "texture": "textures/ui/white_background",
          "keep_ratio": false,
          "tiled": true,
          "color": "$servers_current_screenshot",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#this_promo_screenshot_selected",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "promo_world_screenshot_collection"
            }
          ]
        }
      },
      {
        "padding": {
          "type": "panel",
          "size": [ 1, "100%" ]
        }
      }
    ]
  },

  "promo_world_button_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", 20 ],
    "$ignore_cycle_buttons": false,
    "controls": [
      {
        "pan_left_button@common_store.cycle_pack_left_button": {
          "size": [ 20, 20 ],
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "$button_content": "promo_timeline.colored_direction_button_panel",
          "$pressed_button_name": "button.navigate_screenshots_left",
          "$direction_gamepad_button_helper": "@common.empty_panel",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            }
          ]
        }
      },
      {
        "navigation_bar": {
          "type": "panel",
          "size": [ "fill", "100%" ],
          "controls": [
            {
              "grey_bar": {
                "type": "image",
                "size": [ "100%", 5 ],
                "texture": "textures/ui/Black",
                "layer": 1,
                "controls": [
                  {
                    "grey_bar_factory_panel": {
                      "type": "stack_panel",
                      "orientation": "horizontal",
                      "size": [ "100% - 1px", 5 ],
                      "anchor_from": "right_middle",
                      "anchor_to": "right_middle",
                      "layer": 2,
                      "factory": {
                        "name": "grey_bar_factory",
                        "control_name": "promo_timeline.promo_grey_bar_panel"
                      },
                      "collection_name": "promo_world_screenshot_collection",
                      "bindings": [
                        {
                          "binding_type": "$store_factory_collection_details",
                          "binding_collection_name": "$store_factory_collection_name",
                          "binding_collection_prefix": "$store_factory_collection_prefix"
                        },
                        {
                          "binding_name": "#promo_screenshot_collection_length",
                          "binding_name_override": "#collection_length"
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "pan_right_button@common_store.cycle_pack_right_button": {
          "size": [ 20, 20 ],
          "anchor_from": "right_middle",
          "anchor_to": "right_middle",
          "$button_content": "promo_timeline.colored_direction_button_panel",
          "$pressed_button_name": "button.navigate_screenshots_right",
          "$direction_gamepad_button_helper": "@common.empty_panel",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            }
          ]
        }
      }
    ]
  },

  "promo_world_panel": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "image@promo_timeline.promo_world_image_panel": {
          "anchor_to": "top_middle",
          "anchor_from": "top_middle"
        }
      },
      {
        "padding1": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      },
      {
        "buttons@promo_timeline.promo_world_button_panel": {
          "anchor_to": "bottom_middle",
          "anchor_from": "bottom_middle"
        }
      },
      {
        "padding_3": {
          "type": "panel",
          "size": [ "100%", 2 ]
        }
      }
    ]
  },

  "promo_skin_panel": {
    "type": "panel",
    "size": [ "25% - 2px", "153.3%x - 2px" ],
    "clips_children": true,
    "controls": [
      {
        "size_control": {
          "type": "panel",
          "size": [ "100%", "100% - 2px" ],
          "controls": [
            {
              "background": {
                "type": "image",
                "texture": "textures/ui/slots_bg",
                "layer": 1
              }
            },
            {
              "skin_button@common.button": {
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "collection_details",
                    "binding_collection_name": "skin_pack_collection",
                    "binding_collection_prefix": "skin"
                  }
                ],
                "button_mappings": [
                  {
                    "to_button_id": "button.skin_hovered",
                    "mapping_type": "pressed"
                  },
                  {
                    "to_button_id": "button.skin_unhovered",
                    "mapping_type": "pressed"
                  }
                ],
                "controls": [
                  { "default@common.empty_panel": {} },
                  {
                    "hover@common.square_image_border_white": {
                      "layer": 15
                    }
                  },
                  { "pressed@common.empty_panel": {} },
                  {
                    "content_panel": {
                      "type": "panel",
                      "clips_children": true,
                      "layer": 2,
                      "controls": [
                        {
                          "paper_doll": {
                            "type": "custom",
                            "offset": [ 0, -9 ],
                            "size": [ "100%", "100%" ],
                            "renderer": "paper_doll_renderer",
                            "use_selected_skin": false,
                            "use_skin_gui_scale": true,
                            "enable_scissor_test": true,
                            "bindings": [
                              {
                                "binding_type": "$store_factory_collection_details",
                                "binding_collection_name": "$store_factory_collection_name",
                                "binding_collection_prefix": "$store_factory_collection_prefix"
                              },
                              {
                                "binding_name": "#classic_skin_index",
                                "binding_type": "collection",
                                "binding_collection_name": "skin_pack_collection"
                              },
                              {
                                "binding_type": "collection_details",
                                "binding_collection_name": "skin_pack_collection"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "promo_skin_grid_panel": {
    "type": "panel",
    "size": [ "100% - 4px", "100%c + 2px" ],
    "controls": [
      {
        "promo_skin_pack_grid": {
          "type": "grid",
          "size": [ "100%", "100%c" ],
          "grid_dimension_binding": "#skin_pack_dimensions",
          "grid_item_template": "promo_timeline.promo_skin_panel",
          "collection_name": "skin_pack_collection",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#skin_pack_dimensions"
            }
          ]
        }
      }
    ]
  },

  "promo_right_panel_scroll_content": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%" ],
    "anchor_to": "bottom_right",
    "anchor_from": "bottom_right",
    "$skin_preview": "#preview_promo_persona_item",
    "controls": [
      {
        "world_screenshots_panel": {
          "type": "panel",
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#promo_item_is_world",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            {
              "world_panel@promo_timeline.promo_world_panel": {}
            }
          ]
        }
      },
      {
        "skin_image_panel": {
          "type": "panel",
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#promo_item_is_skin",
              "binding_name_override": "#visible"
            }
          ],
          "controls": [
            {
              "skin_panel@promo_timeline.skin_scroll_panel": {
                "$scrolling_content": "promo_timeline.promo_skin_grid_panel"
              }
            }
          ]
        }
      },
      {
        "persona_preview@promo_timeline.promotion_skin_viewer_panel": {
          "$gesture_input_panel_control": "persona_preview",
          "$skin_preview": "#preview_promo_persona_item",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#promo_item_is_persona",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "skin_scroll_panel@persona_sdl.scroll_section": {
    "$scrolling_content": "promo_timeline.persona_classic_skin_grid_panel"
  },

  "persona_classic_skin_grid_panel": {
    "type": "panel",
    "size": [ "100% - 4px", "100%c + 2px" ],
    "controls": [
      {
        "persona_skin_pack_category_grid": {
          "type": "grid",
          "size": [ "100%", "100%c" ],
          "layer": 1,
          "$skin_binding_type": "collection",
          "$skin_collection_details": "collection_details",
          "$skin_collection_name": "expanded_skin_pack_collection",
          "$skin_collection_prefix": "expanded_skin_pack",

          "$skin_dimension_binding|default": "#expanded_pack_dimensions",
          "grid_dimension_binding": "$skin_dimension_binding",
          "grid_item_template": "persona_sdl.persona_skin_picker_skin_button",
          "collection_name": "$skin_collection_name",
          "bindings": [
            {
              "binding_name": "$skin_dimension_binding"
            }
          ]
        }
      }
    ]
  },

  "promo_right_panel@common.scrolling_panel": {
    "size": [ "fill", "100%sm - 6px" ],
    "$scrolling_pane_size": [ "100%", "100%" ],
    "$scrolling_pane_offset": [ 0, 0 ],
    "$scroll_size": [ 5, "100% - 8px" ],
    "$scrolling_content": "promo_timeline.promo_right_panel_scroll_content",
    "$scroll_bar_left_padding_size": [ 0, 0 ],
    "$show_background": false,
    "$bar_visible": false,
    "$allow_scrolling_even_when_content_fits": false
  },

  "promo_detail_panel": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%cm" ],
    "controls": [
      {
        "detail@promo_timeline.promo_left_panel": {}
      },
      {
        "center_spacing": {
          "type": "panel",
          "size": [ 8, 0 ]
        }
      },
      {
        "right@promo_timeline.promo_right_panel": {}
      }
    ]
  },

  "promotion_skin_viewer_panel": {
    "type": "input_panel",
    "layer": 5,
    "size": [ "100%", "100%" ],
    "gesture_tracking_button": "button.turn_doll",
    "always_handle_controller_direction": true,
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.turn_doll",
        "mapping_type": "pressed",
        "button_up_right_of_first_refusal": true
      }
    ],
    "controls": [
      {
        "popup_dialog_factory": {
          "type": "factory",
          "control_ids": {
            "toast_message": "@promo_timeline.promo_popup_toast"
          },
          "factory_variables": [
            "$store_factory_collection_details",
            "$store_factory_collection_name",
            "$store_factory_collection_prefix",
            "$store_factory_binding_type"
          ]
        }
      },
      {
        "character_loading_panel@persona_common.loading_icon": {
          "anchor_to": "top_right",
          "anchor_from": "top_right",
          "bindings": [
            {
              "binding_type": "$store_factory_collection_details",
              "binding_collection_name": "$store_factory_collection_name",
              "binding_collection_prefix": "$store_factory_collection_prefix"
            },
            {
              "binding_name": "#character_loading_in_progress",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "skin_model_panel": {
          "type": "panel",
          "size": [ "100%", "100%" ],
          "controls": [
            {
              "skin_model": {
                "type": "custom",
                "renderer": "paper_doll_renderer",
                "size": [ "100%", "100%" ],
                "offset": [ 0, -20 ],
                "camera_tilt_degrees": -10,
                "starting_rotation": 30,
                "layer": 4,
                "use_selected_skin": false,
                "use_skin_gui_scale": true,
                "rotation": "gesture_x",
                "bindings": [
                  {
                    "binding_type": "$store_factory_collection_details",
                    "binding_collection_name": "$store_factory_collection_name",
                    "binding_collection_prefix": "$store_factory_collection_prefix"
                  },
                  {
                    "binding_type": "global",
                    "binding_name": "$skin_preview"
                  },
                  {
                    "binding_type": "view",
                    "source_control_name": "$gesture_input_panel_control",
                    "source_property_name": "#gesture_delta_source",
                    "target_property_name": "#gesture_delta_source"
                  },
                  {
                    "binding_type": "view",
                    "source_control_name": "$gesture_input_panel_control",
                    "source_property_name": "#gesture_mouse_delta_x",
                    "target_property_name": "#gesture_mouse_delta_x"
                  }
                ]
              }
            },
            {
              "arrow_panel": {
                "type": "panel",
                "size": [ "100%", "100%c" ],
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle",
                "controls": [
                  {
                    "rotate_arrows@skin_picker.skin_rotation_arrows": {
                      "size": [ 37, 7 ],
                      "anchor_from": "center",
                      "anchor_to": "center"
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "promo_popup_toast@persona_popups.popup_common": {
    "layer": 100,
    "$display_time": 2.0,
    "$transition_in_time": 0.15,
    "$transition_out_time": 0.30,
    "$popup_size": [ "100% - 4px", "100%cm" ],
    "$toast_text_offset": [ 0, 0 ],
    "$toast_text_alignment": "center",
    "$toast_anchor_from": "center",
    "$toast_anchor_to": "center",
    "$toast_font_type": "smooth",
    "$offset_anims": [],
    "$alpha_anims": [
      "@persona_sdl.popup_anim_start"
    ],
    "$popup_title_binding_type": "$store_factory_binding_type",
    "$popup_title_collection_name": "$store_factory_collection_name",
    "$popup_title_collection_details": "collection_details",
    "$popup_title_collection_prefix": "$store_factory_collection_prefix"
  }
}
