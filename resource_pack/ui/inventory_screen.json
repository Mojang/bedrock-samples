{
  "namespace": "crafting",

  //---------------------------------------------------------------------------
  // Common
  //---------------------------------------------------------------------------

  "inventory_x_gamepad_helper@common.gamepad_helper_x_14": {
    "bindings": [
      {
        "binding_name": "#gamepad_helper_x_visible",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ]
  },

  "inventory_y_gamepad_helper@common.gamepad_helper_y_14": {
    "bindings": [
      {
        "binding_name": "#gamepad_helper_y_visible",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ]
  },

  "inventory_a_gamepad_helper@common.gamepad_helper_a_14": {
    "bindings": [
      {
        "binding_name": "#gamepad_helper_a_visible",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ]
  },

  "inventory_b_gamepad_helper@common.gamepad_helper_b_14": {},

  "gamepad_helper_bumpers": {
    "type": "panel",
    "anchor_from": "top_middle",
    "anchor_to": "bottom_middle",
    "size": [ "100%", 16 ],
    "$left_bumper_anchor_from|default": "top_left",
    "$left_bumper_anchor_to|default": "top_right",
    "$right_bumper_anchor_from|default": "top_right",
    "$right_bumper_anchor_to|default": "top_left",
    "controls": [
      {
        "gamepad_helper_left_bumper@common.gamepad_helper_left_bumper": {
          "offset": [ -1, 0 ],
          "anchor_from": "$left_bumper_anchor_from",
          "anchor_to": "$left_bumper_anchor_to",
          "$hide_description": true
        }
      },
      {
        "gamepad_helper_right_bumper@common.gamepad_helper_right_bumper": {
          "anchor_from": "$right_bumper_anchor_from",
          "anchor_to": "$right_bumper_anchor_to",
          "$hide_description": true
        }
      }
    ]
  },

  "gamepad_helper_left_trigger@common.gamepad_helper_left_trigger": {
    "$hide_description": true
  },

  "gamepad_helper_right_trigger@common.gamepad_helper_right_trigger": {
    "$hide_description": true
  },

  "container_gamepad_helpers_second_row": {
    "type": "stack_panel",
    "size": [ "100%", 18 ],
    "orientation": "horizontal",
    "controls": [
      {
        "buffer_panel_left": {
          "type": "panel",
          "size": [ 10, 0 ]
        }
      },
      {
        "left_thumbstick_visibility": {
          "type": "panel",
          "size": [ "100%c", "350%" ],
          "controls": [
            {
              "gamepad_helper_thumbstick_left@common.gamepad_helper_thumbstick_left": {
                "bindings": [
                  {
                    "binding_name": "#gamepad_helper_ls_visible",
                    "binding_name_override": "#visible",
                    "binding_condition": "always"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "fill_panel": {
          "type": "panel",
          "size": [ "fill", 0 ]
        }
      },
      {
        "right_thumbstick_visibility": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "controls": [
            {
              "gamepad_helper_thumbstick_right@common.gamepad_helper_thumbstick_right": {
                "bindings": [
                  {
                    "binding_name": "#gamepad_helper_rs_visible",
                    "binding_name_override": "#visible",
                    "binding_condition": "always"
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "buffer_panel_right": {
          "type": "panel",
          "size": [ 10, 0 ]
        }
      }
    ]
  },

  "crafting_root_panel@common.root_panel": {
    "type": "input_panel",
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.destroy_selection",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.destroy_selection",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.destroy_selection",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.clear_hotbar_or_remove_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      }
    ]
  },

  "drop_item_panel": {
    "type": "input_panel",
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.cursor_drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.cursor_drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      }
    ]
  },

  //---------------------------------------------------------------------------
  // Creative Grid Items
  //---------------------------------------------------------------------------

  "inventory_container_slot_button@common.container_slot_button_prototype": {
    "$button_take_half_place_one|default": "button.container_take_half_place_one",
    "$button_auto_place|default": "button.container_auto_place",
    "$button_take_all_place_all|default": "button.container_take_all_place_all",
    "$coalesce_button|default": "button.coalesce_stack",
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "button.try_menu_exit",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$button_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$button_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "$button_take_all_place_all",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "$button_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "$button_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_auto_place",
        "to_button_id": "$button_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "$button_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop",
        "to_button_id": "button.drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop_all",
        "to_button_id": "button.drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$coalesce_button",
        "mapping_type": "double_pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$coalesce_button",
        "mapping_type": "double_pressed"
      },
      {
        "to_button_id": "button.shape_drawing",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.container_slot_hovered",
        "mapping_type": "pressed"
      }
    ]
  },

  "creative_hotbar_container_slot_button@crafting.inventory_container_slot_button": {
    "$button_auto_place": "button.container_auto_destroy"
  },

  "no_coalesce_container_slot_button@crafting.inventory_container_slot_button": {
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "button.try_menu_exit",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$button_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$button_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "$button_take_all_place_all",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "$button_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "$button_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_auto_place",
        "to_button_id": "$button_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "$button_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop",
        "to_button_id": "button.drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop_all",
        "to_button_id": "button.drop_all",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.shape_drawing",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.container_slot_hovered",
        "mapping_type": "pressed"
      }
    ]
  },

  "creative_no_coalesce_container_slot_button@crafting.no_coalesce_container_slot_button": {
    "$button_take_all_place_all": "button.recipe_select",
    "$button_take_half_place_one": "button.recipe_secondary",
    "$button_auto_place": "button.recipe_tertiary"
  },

  "output_no_coalesce_container_slot_button@crafting.no_coalesce_container_slot_button": {
    "$button_take_all_place_all": "button.crafting_output_primary",
    "$button_take_half_place_one": "button.crafting_output_secondary",
    "$button_auto_place": "button.crafting_output_tertiary"
  },

  //---------------------------------------------------------------------------
  // Creative Tabs
  //---------------------------------------------------------------------------

  "tab_image": {
    "type": "image",
    "layer": 2,
    "size": [ 24, 25 ]
  },

  "item_renderer": {
    "type": "custom",
    "renderer": "inventory_item_renderer",
    "size": [ 16, 16 ]
  },

  "inventory_icon": {
    "type": "image",
    "size": [ 19, 13 ],
    "texture": "textures/ui/inventory_icon"
  },

  "recipe_book_icon": {
    "type": "image",
    "size": [ 19, 13 ],
    "texture": "textures/ui/recipe_book_icon"
  },

  "creative_icon": {
    "type": "image",
    "size": [ 19, 13 ],
    "texture": "textures/ui/creative_icon"
  },

  "icon_image": {
    "layer": -1,
    "type": "image",
    "size": [ 17, 17 ]
  },

  "tab_front@crafting.tab_image": {
    "texture": "textures/ui/TabTopFront"
  },

  "tab_back@crafting.tab_image": {
    "texture": "textures/ui/TabTopBack"
  },

  "equipment_icon@crafting.icon_image": {
    "texture": "textures/ui/icon_recipe_equipment"
  },

  "construction_icon@crafting.icon_image": {
    "texture": "textures/ui/icon_recipe_construction"
  },

  "nature_icon@crafting.icon_image": {
    "texture": "textures/ui/icon_recipe_nature"
  },

  "search_icon@crafting.icon_image": {
    "texture": "textures/ui/magnifyingGlass"
  },

  "miscellaneous_icon@crafting.icon_image": {
    "texture": "textures/ui/icon_recipe_item"
  },

  "empty_tab_panel": {
    "type": "panel",
    "size": [ 24, 25 ],
    "controls": [
      {
        "img@$tab_icon": {}
      }
    ]
  },

  "tab_wait_anim": {
    "anim_type": "wait",
    "duration": 0.8,
    "next": "@crafting.tab_offset_anim"
  },

  "tab_offset_anim": {
    "$top_tab_anim_start|default": [ 0, 27 ],
    "$top_tab_anim_end|default": [ 0, 0 ],
    "anim_type": "offset",
    "easing": "out_cubic",
    "from": "$top_tab_anim_start",
    "to": "$top_tab_anim_end",
    "duration": 0.5
  },

  //---------------------------------------------------------------------------
  // Tab Navigation
  //---------------------------------------------------------------------------

  "top_tab@common_tabs.tab_top": {
    "alpha": 0.2,
    "$anims|default": [],
    "anims": "$anims",
    "$offset|default": [ 0, 0 ],
    "offset": "$offset",
    "$toggle_focus_enabled": false,
    "$toggle_name": "navigation_tab",
    "$toggle_group_default_selected": "$construction_index", //Construction tab
    "$tab_content": "crafting.empty_tab_panel",
    "$allow_controller_back_button_mapping": "$is_ps4"
  },

  "search_tab@crafting.top_tab": {
    "$is_right_most_tab": true,
    "$tab_view_binding_name": "search_tab_toggle",
    "$tab_icon": "crafting.search_icon",
    "$toggle_group_forced_index": "$search_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_left_tab_search",
    "$top_tab_tts_name": "craftingScreen.tab.search",

    "$focus_id": "search_tab",
    "$focus_override_left": "nature_tab",
    "$focus_override_up": "FOCUS_OVERRIDE_STOP"
  },

  "construction_tab@crafting.top_tab": {
    "$is_left_most_tab": true,
    "$tab_view_binding_name": "construction_tab_toggle",
    "$tab_icon": "crafting.construction_icon",
    "$toggle_group_forced_index": "$construction_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_left_tab_construct",

    "$top_tab_tts_name": "craftingScreen.tab.construction",

    "$focus_id": "construction_tab",
    "$focus_override_left": "help_button",
    "$focus_override_right": "equipment_tab",
    "$focus_override_up": "FOCUS_OVERRIDE_STOP",

    "$unchecked_default_image": "textures/ui/TabTopBackLeftMost",
    "$unchecked_hover_image": "textures/ui/TabTopBackLeftMostHover",
    "$unchecked_locked_image": "textures/ui/TabTopBackLeftMost",
    "$unchecked_locked_hover_image": "textures/ui/TabTopBackLeftMost",

    "$checked_default_image": "textures/ui/TabTopFrontLeftMost",
    "$checked_hover_image": "textures/ui/TabTopFrontLeftMostHover",
    "$checked_locked_image": "textures/ui/TabTopFrontLeftMost",
    "$checked_locked_hover_image": "textures/ui/TabTopFrontLeftMost",
    "variables": [
      {
        "requires": "$animate",
        "$anims": [ "@crafting.tab_wait_anim" ],
        "$offset": "$top_tab_anim_start"
      }
    ]
  },

  "equipment_tab@crafting.top_tab": {
    "$tab_view_binding_name": "equipment_tab_toggle",
    "$tab_icon": "crafting.equipment_icon",
    "$toggle_group_forced_index": "$equipment_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_left_tab_equipment",

    "$top_tab_tts_name": "craftingScreen.tab.equipment",

    "$focus_id": "equipment_tab",
    "$focus_override_left": "construction_tab",
    "$focus_override_right": "items_tab",
    "$focus_override_up": "FOCUS_OVERRIDE_STOP",
    "variables": [
      {
        "requires": "$animate",
        "$anims": [ "@crafting.tab_wait_anim" ],
        "$offset": "$top_tab_anim_start"
      }
    ]
  },

  "nature_tab@crafting.top_tab": {
    "$tab_view_binding_name": "nature_tab_toggle",
    "$tab_icon": "crafting.nature_icon",
    "$toggle_group_forced_index": "$nature_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_left_tab_nature",

    "$top_tab_tts_name": "craftingScreen.tab.nature",

    "$focus_id": "nature_tab",
    "$focus_override_left": "items_tab",
    "$focus_override_right": "search_tab",
    "$focus_override_up": "FOCUS_OVERRIDE_STOP",
    "variables": [
      {
        "requires": "$animate",
        "$anims": [ "@crafting.tab_wait_anim" ],
        "$offset": "$top_tab_anim_start"
      }
    ]
  },

  "items_tab@crafting.top_tab": {
    "$tab_view_binding_name": "items_tab_toggle",
    "$tab_icon": "crafting.miscellaneous_icon",
    "$toggle_group_forced_index": "$items_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_left_tab_items",

    "$top_tab_tts_name": "craftingScreen.tab.items",

    "$focus_id": "items_tab",
    "$focus_override_left": "equipment_tab",
    "$focus_override_right": "nature_tab",
    "$focus_override_up": "FOCUS_OVERRIDE_STOP",
    "variables": [
      {
        "requires": "$animate",
        "$anims": [ "@crafting.tab_wait_anim" ],
        "$offset": "$top_tab_anim_start"
      }
    ]
  },

  "tab_navigation_panel_layout": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", 27 ],
    "ttsSectionContainer": true,
    "$is_search_right_most_tab|default": true,

    "controls": [
      {
        "navigation_tabs": {
          "type": "panel",
          "size": [ "fill", "100%" ],
          "controls": [
            {
              "content": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100%", "100% + 4px" ],
                "anchor_to": "top_left",
                "anchor_from": "top_left",
                "controls": [
                  {
                    "construction_tab_panel": {
                      "type": "panel",
                      "size": [ 25, "100%" ],
                      "$is_left_most_tab": true,
                      "controls": [
                        {
                          "construction_tab_factory": {
                            "type": "factory",
                            "control_ids": {
                              "construction_tab": "@crafting.construction_tab"
                            }
                          }
                        }
                      ]
                    }
                  },
                  {
                    "equipment_tab_panel": {
                      "type": "panel",
                      "size": [ 25, "100%" ],
                      "controls": [
                        {
                          "equipment_tab_factory": {
                            "type": "factory",
                            "control_ids": {
                              "equipment_tab": "@crafting.equipment_tab"
                            }
                          }
                        }
                      ]
                    }
                  },
                  {
                    "items_tab_panel": {
                      "type": "panel",
                      "size": [ 25, "100%" ],
                      "controls": [
                        {
                          "items_tab_factory": {
                            "type": "factory",
                            "control_ids": {
                              "items_tab": "@crafting.items_tab"
                            }
                          }
                        }
                      ]
                    }
                  },
                  {
                    "nature_tab_panel": {
                      "type": "panel",
                      "size": [ 25, "100%" ],
                      "controls": [
                        {
                          "nature_tab_factory": {
                            "type": "factory",
                            "control_ids": {
                              "nature_tab": "@crafting.nature_tab"
                            }
                          }
                        }
                      ]
                    }
                  },
                  {
                    "fill_panel_0": {
                      "type": "panel",
                      "size": [ "fill", "100%" ]
                    }
                  },
                  {
                    "search_tab_holder": {
                      "type": "panel",
                      "size": [ 25, "100%" ],
                      "controls": [
                        {
                          "search_tab_end_creative@crafting.search_tab": {
                            "$focus_override_right": "creative_layout_toggle",

                            "bindings": [
                              {
                                "binding_type": "global",
                                "binding_name": "#is_creative_and_recipe_book_layout",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        },
                        {
                          "search_tab_creative@crafting.search_tab": {
                            "$is_right_most_tab": false,
                            "$focus_override_right": "creative_layout_toggle",

                            "bindings": [
                              {
                                "binding_type": "global",
                                "binding_name": "#is_creative_and_creative_layout",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        },
                        {
                          "search_tab_survival@crafting.search_tab": {
                            "$focus_override_right": "recipe_book_layout_toggle",

                            "bindings": [
                              {
                                "binding_type": "global",
                                "binding_name": "(not #is_creative_mode)",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "tab_content_padding": {
    "type": "panel",
    "size": [ 0, 0 ],
    "bindings": [
      {
        "binding_name": "(not #is_left_tab_inventory)",
        "binding_name_override": "#visible"
      }
    ]
  },

  "tab_content": {
    "type": "panel",
    "layer": 1,
    "controls": [
      {
        "tab_content_search_bar_panel": {
          "type": "stack_panel",
          "size": [ "100% - 12px", "100% - 12px" ],
          "orientation": "vertical",

          "controls": [
            {
              "vertical_padding_1@crafting.tab_content_padding": {
                "size": [ 0, 2 ]
              }
            },
            {
              "creative_label_and_filter_toggle_holder": {
                "type": "stack_panel",
                "size": [ "100% + 1px", 10 ],
                "orientation": "horizontal",

                "bindings": [
                  {
                    "binding_name": "(not #is_left_tab_inventory)",
                    "binding_name_override": "#visible"
                  }
                ],
                "controls": [
                  {
                    "padding_1": {
                      "type": "panel",
                      "size": [ 3, 0 ]
                    }
                  },
                  {
                    "creative_label@crafting.creative_label": {
                      "size": [ "fill", "100%" ]
                    }
                  },
                  {
                    "padding_2": {
                      "type": "panel",
                      "size": [ 2, 0 ]
                    }
                  },
                  {
                    "filter_toggle_holder": {
                      "type": "panel",
                      "size": [ "100%c", "100%" ],

                      "bindings": [
                        {
                          "binding_name": "#is_creative_mode"
                        },
                        {
                          "binding_name": "#is_left_tab_search"
                        },
                        {
                          "binding_type": "view",
                          "source_property_name": "(not #is_creative_mode and not #is_left_tab_search)",
                          "target_property_name": "#visible"
                        }
                      ],
                      "controls": [
                        {
                          "filter_toggle@crafting.filter_toggle": {
                            "offset": [ 1, -1 ],
                            "anchor_from": "right_middle",
                            "anchor_to": "right_middle",

                            "$focus_id": "craftable_toggle",
                            "$focus_override_left": "recipe_search_bar",
                            "$default_border_visible": false,
                            "$hover_border_visible": false
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "vertical_padding_2@crafting.tab_content_padding": {
                "size": [ 0, 1 ]
              }
            },
            {
              "search_and_filter_panel": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "size": [ "100% + 1px", 16 ],
                "layer": 2,

                "bindings": [
                  {
                    "binding_name": "#is_left_tab_search",
                    "binding_name_override": "#visible"
                  }
                ],
                "controls": [
                  {
                    "text_edit_control@common.text_edit_box": {
                      "size": [ "fill", "100%" ],

                      "property_bag": {
                        "#property_field": "#item_name"
                      },

                      "max_length": 30,
                      "$text_edit_binding_name": "#text_box_item_name",
                      "$text_edit_box_label_size": [ "default", 10 ],
                      "$text_edit_box_label_offset": [ 10, 0 ],
                      "$text_edit_box_hovered_button_id": "button.search_bar_hovered",
                      "$text_edit_box_clear_to_button_id": "button.search_bar_clear",
                      "$text_edit_box_selected_to_button_id": "button.search_bar_selected",
                      "$text_edit_box_deselected_to_button_id": "button.search_bar_deselected",

                      "$text_clear_button_enabled" : true,
                      "$text_clear_button_size": [ 15, 15 ],
                      "$text_clear_button_offset": [ 2, 0 ],
                      "$magnifying_glass_enabled" : true,
                      "$magnifying_glass_size": [ 8, 8 ],
                      "$magnifying_glass_offset": [0, -0.5],

                      "focus_wrap_enabled": false,

                      "$focus_id": "recipe_search_bar",
                      "$focus_override_right": "craftable_toggle",
                      "$focus_override_up": "construction_tab"
                    }
                  },
                  {
                    "padding_1": {
                      "type": "panel",
                      "size": [ 1, 0 ]
                    }
                  },
                  {
                    "filter_toggle_holder": {
                      "type": "panel",
                      "size": [ "100%c", "100%" ],

                      "bindings": [
                        {
                          "binding_name": "(not #is_creative_mode)",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "controls": [
                        {
                          "filter_toggle@crafting.filter_toggle": {
                            "offset": [ 1, 0 ],
                            "anchor_from": "right_middle",
                            "anchor_to": "right_middle",

                            "$focus_id": "craftable_toggle",
                            "$focus_override_left": "recipe_search_bar",
                            "$default_border_visible": false,
                            "$hover_border_visible": false
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "vertical_padding_3@crafting.tab_content_padding": {
                "size": [ 0, 2 ]
              }
            },
            {
              "scroll_pane@$scrolling_pane_control": {
                "size": [ "100%", "fill" ]
              }
            }
          ]
        }
      },
      {
        "nodrop_zone@common.root_panel": {
          "anchor_from": "center",
          "anchor_to": "center",
          "size": [ "100%", "100%" ],
          "layer": 2,
          "bindings": [
            {
              "binding_type": "global",
              "binding_name": "#is_left_tab_inventory",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },


  //---------------------------------------------------------------------------
  // Player and armor
  //---------------------------------------------------------------------------

  "armor_overlay": {
    "type": "image",
    "layer": 2,
    "$armor_overlay_size|default": [ 16, 16 ],
    "size": "$armor_overlay_size",
    "bindings": [
      {
        "binding_name": "#empty_armor_image_visible",
        "binding_name_override": "#visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ]
  },

  "offhand_overlay": {
    "type": "image",
    "layer": 2,
    "$offhand_overlay_size|default": [ 16, 16 ],
    "size": "$offhand_overlay_size",
    "bindings": [
      {
        "binding_name": "#empty_offhand_image_visible",
        "binding_name_override": "#visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ]
  },

  "armor_overlay_helmet@armor_overlay": {
    "texture": "textures/ui/empty_armor_slot_helmet"
  },

  "armor_overlay_chest@armor_overlay": {
    "texture": "textures/ui/empty_armor_slot_chestplate"
  },

  "armor_overlay_legs@armor_overlay": {
    "texture": "textures/ui/empty_armor_slot_leggings"
  },

  "armor_image_feet@armor_overlay": {
    "texture": "textures/ui/empty_armor_slot_boots"
  },

  "armor_overlay_shield@offhand_overlay": {
    "texture": "textures/ui/empty_armor_slot_shield"
  },

  "player_armor_panel": {
    "type": "panel",
    "size": [ 88, 83 ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "controls": [
      {
        "player_bg": {
          "type": "image",
          "texture": "textures/ui/Black",
          "size": [ 52, 70 ],
          "layer": 2,
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 26, 8 ],
          "controls": [
            {
              "player_renderer_panel": {
                "type": "panel",
                "size": [ 30, 30 ],
                "offset": [ 0, -14 ],

                "controls": [
                  {
                    "player_renderer": {
                      "type": "custom",
                      "renderer": "live_player_renderer",
                      "property_bag": {
                        "#look_at_cursor": true
                      },
                      "animation_reset_name": "screen_animation_reset",
                      "anims": [
                        "@common.screen_exit_size_animation_push",
                        "@common.screen_exit_size_animation_pop",
                        "@common.screen_entrance_size_animation_push",
                        "@common.screen_entrance_size_animation_pop"
                      ],
                      "layer": 8,
                      "anchor_from": "center",
                      "anchor_to": "center"
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "player_preview_border": {
          "type": "image",
          "texture": "textures/ui/player_preview_border",
          "size": [ 54, 72 ],
          "layer": 1,
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 25, 7 ]
        }
      },
      {
        "armor_grid": {
          "type": "grid",
          "layer": 1,
          "size": [ 18, 72 ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 7, 7 ],
          "grid_dimensions": [ 1, 4 ],
          "$item_collection_name": "armor_items",
          "collection_name": "$item_collection_name",
          "controls": [
            {
              "head_grid_item@common.container_item": {
                "grid_position": [ 0, 0 ],
                "$cell_overlay_ref": "crafting.armor_overlay_helmet",
                "$button_ref": "crafting.no_coalesce_container_slot_button",

                "$focus_id_binding_type": "none",
                "$focus_id": "armor_item_head",

                "$focus_override_right_binding_type": "none",
                "$focus_override_right": "crafting_input_top_left"
              }
            },
            {
              "chest_grid_item@common.container_item": {
                "grid_position": [ 0, 1 ],
                "$cell_overlay_ref": "crafting.armor_overlay_chest",
                "$button_ref": "crafting.no_coalesce_container_slot_button",

                "$focus_id_binding_type": "none",
                "$focus_id": "armor_item_chest",

                "$focus_override_right_binding_type": "none",
                "$focus_override_right": "crafting_input_top_left"
              }
            },
            {
              "legs_grid_item@common.container_item": {
                "grid_position": [ 0, 2 ],
                "$cell_overlay_ref": "crafting.armor_overlay_legs",
                "$button_ref": "crafting.no_coalesce_container_slot_button",

                "$focus_id_binding_type": "none",
                "$focus_id": "armor_item_legs",

                "$focus_override_right_binding_type": "none",
                "$focus_override_right": "crafting_input_mid_left"
              }
            },
            {
              "feet_grid_item@common.container_item": {
                "grid_position": [ 0, 3 ],
                "$cell_overlay_ref": "crafting.armor_image_feet",
                "$button_ref": "crafting.no_coalesce_container_slot_button",

                "$focus_id_binding_type": "none",
                "$focus_id": "armor_item_feet",

                "$focus_override_right_binding_type": "none",
                "$focus_override_right": "offhand_items0"
              }
            }
          ]
        }
      },
      {
        "offhand_grid": {
          "type": "grid",
          "layer": 1,
          "size": [ 18, 18 ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 79, 61 ],
          "grid_dimensions": [ 1, 1 ],
          "$item_collection_name": "offhand_items",
          "collection_name": "$item_collection_name",
          "controls": [
            {
              "offhand_grid_item@common.container_item": {
                "grid_position": [ 0, 0 ],
                "$cell_overlay_ref": "crafting.armor_overlay_shield",
                "$button_ref": "crafting.no_coalesce_container_slot_button",

                "$focus_override_left_binding_type": "none",
                "$focus_override_left": "armor_item_feet"
              }
            }
          ]
        }
      }
    ]
  },

  //---------------------------------------------------------------------------
  // Crafting panels, 2x2 and 3x3
  //---------------------------------------------------------------------------

  "crafting_label": {
    "type": "label",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "text": "#crafting_label_text",
    "color": "$title_text_color",
    "layer": 2,
    "bindings": [
      {
        "binding_name": "#crafting_label_text"
      }
    ]
  },

  "inventory_label": {
    "type": "label",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "text": "container.inventory",
    "color": "$title_text_color",
    "layer": 2
  },

  "crafting_arrow": {
    "type": "image",
    "layer": 3,
    "texture": "textures/ui/arrow",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "size": [ 16, 13 ]
  },

  "crafting_arrow_large": {
    "type": "image",
    "layer": 3,
    "texture": "textures/ui/arrow_large",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "size": [ 22, 15 ]
  },

  "crafting_input_grid_item@crafting.inventory_container_item": {
    "$item_collection_name": "crafting_input_items",
    "$background_images": "crafting.crafting_container_cell_images",
    "$item_renderer_binding_condition": "always",
    "$button_ref": "crafting.inventory_container_slot_button"
  },

  "crafting_grid_3x3": {
    "type": "grid",
    "size": [ 54, 54 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "grid_dimensions": [ 3, 3 ],
    "collection_name": "crafting_input_items",

    "controls": [
      {
        "crafting_input_item_top_left@crafting.crafting_input_grid_item": {
          "grid_position": [ 0, 0 ],

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_input_top_left",

          "$focus_override_left_binding_type": "none",
          "$focus_override_left": "armor_item_head"
        }
      },
      {
        "crafting_input_item_top_mid@crafting.crafting_input_grid_item": {
          "grid_position": [ 1, 0 ]
        }
      },
      {
        "crafting_input_item_top_right@crafting.crafting_input_grid_item": {
          "grid_position": [ 2, 0 ]
        }
      },
      {
        "crafting_input_item_mid_left@crafting.crafting_input_grid_item": {
          "grid_position": [ 0, 1 ],

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_input_mid_left",

          "$focus_override_left_binding_type": "none",
          "$focus_override_left": "armor_item_legs"
        }
      },
      {
        "crafting_input_item_middle@crafting.crafting_input_grid_item": {
          "grid_position": [ 1, 1 ]
        }
      },
      {
        "crafting_input_item_mid_right@crafting.crafting_input_grid_item": {
          "grid_position": [ 2, 1 ]
        }
      },
      {
        "crafting_input_item_bot_left@crafting.crafting_input_grid_item": {
          "grid_position": [ 0, 2 ]
        }
      },
      {
        "crafting_input_item_bot_mid@crafting.crafting_input_grid_item": {
          "grid_position": [ 1, 2 ]
        }
      },
      {
        "crafting_input_item_bot_right@crafting.crafting_input_grid_item": {
          "grid_position": [ 2, 2 ],

          "$focus_override_right_binding_type": "none",
          "$focus_override_right": "crafting_output_item"
        }
      }
    ]
  },

  "crafting_grid_2x2": {
    "type": "grid",
    "size": [ 36, 36 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "offset": [ 0, 25 ],
    "grid_dimensions": [ 2, 2 ],
    "collection_name": "crafting_input_items",

    "controls": [
      {
        "crafting_input_item_top_left@crafting.crafting_input_grid_item": {
          "grid_position": [ 0, 0 ],

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_input_top_left",

          "$focus_override_left_binding_type": "none",
          "$focus_override_left": "armor_item_head"
        }
      },
      {
        "crafting_input_item_top_right@crafting.crafting_input_grid_item": {
          "grid_position": [ 1, 0 ],

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_input_top_right",

          "$focus_override_right_binding_type": "none",
          "$focus_override_right": "crafting_output_item"
        }
      },
      {
        "crafting_input_item_bot_left@crafting.crafting_input_grid_item": {
          "grid_position": [ 0, 1 ],

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_input_mid_left",

          "$focus_override_left_binding_type": "none",
          "$focus_override_left": "armor_item_legs"
        }
      },
      {
        "crafting_input_item_bot_right@crafting.crafting_input_grid_item": {
          "grid_position": [ 1, 1 ],

          "$focus_override_right_binding_type": "none",
          "$focus_override_right": "crafting_output_item"
        }
      }
    ]
  },

  "output_grid_3x3": {
    "type": "grid",
    "grid_dimensions": [ 1, 1 ],
    "collection_name": "crafting_output_items",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "size": [ 26, 26 ],
    "controls": [
      {
        "work_bench_output@crafting.inventory_container_item": {
          "size": [ 26, 26 ],
          "$cell_image_size": [ 26, 26 ],
          "$item_collection_name": "crafting_output_items",
          "$button_ref": "crafting.output_no_coalesce_container_slot_button",
          "$stack_count_binding_condition": "always",
          "$item_renderer_binding_condition": "always",
          "$background_images": "crafting.crafting_container_cell_images",

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_output_item",

          "$focus_override_right_binding_type": "none",
          "$focus_override_right": "FOCUS_OVERRIDE_STOP"
        }
      }
    ]
  },

  "output_grid_2x2": {
    "type": "grid",
    "grid_dimensions": [ 1, 1 ],
    "collection_name": "crafting_output_items",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "size": [ 18, 18 ],
    "controls": [
      {
        "work_bench_output@crafting.inventory_container_item": {
          "$item_collection_name": "crafting_output_items",
          "$button_ref": "crafting.output_no_coalesce_container_slot_button",
          "$background_images": "crafting.crafting_container_cell_images",
          "$item_renderer_binding_condition": "always",
          "$stack_count_binding_condition": "always",

          "$focus_id_binding_type": "none",
          "$focus_id": "crafting_output_item",
          "$focus_override_left_binding_type": "none",
          "$focus_override_left": "crafting_input_top_right",
          "$focus_override_up_binding_type": "none",
          "$focus_override_up": "help_button"
        }
      }
    ]
  },

  "work_bench_panel_3x3": {
    "type": "panel",
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "controls": [
      {
        "inventory_label@inventory_label": { //? refactor this out
          "offset": [ -21, 72 ]
        }
      },
      {
        "crafting_arrow_large@crafting_arrow_large": {
          "offset": [ 61, 35.5 ]
        }
      },
      {
        "crafting_grid_3x3_with_label_0@crafting_grid_3x3_with_label": {
          "offset": [ 0, 5 ]
        }
      },
      {
        "work_bench_output_grid@crafting.output_grid_3x3": {
          "offset": [ 94, 30 ]
        }
      }
    ]
  },

  "crafting_grid_3x3_with_label": {
    "type": "panel",
    "size": [ "default", 65 ],
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "$grid_label_alignment|default": "center",
    "controls": [
      {
        "crafting_label@crafting.crafting_label": {
          "size": [ 84, 10 ],
          "offset": [ -15, 0 ],
          "text_alignment": "$grid_label_alignment"
        }
      },
      {
        "crafting_grid_3x3@crafting.crafting_grid_3x3": {
          "offset": [ 0, 11 ]
        }
      }
    ]
  },

  "crafting_grid_2x2_with_label": {
    "type": "panel",
    "size": [ "default", 47 ],
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "$grid_label_alignment|default": "center",
    "controls": [
      {
        "crafting_label@crafting.crafting_label": {
          "size": [ 66, 10 ],
          "offset": [ -15, 0 ],
          "text_alignment": "$grid_label_alignment"
        }
      },
      {
        "crafting_grid_2x2@crafting.crafting_grid_2x2": {
          "offset": [ 0, 11 ]
        }
      }
    ]
  },

  "crafting_panel_2x2": {
    "type": "panel",
    "size": [ 88, 83 ],
    "anchor_from": "top_middle",
    "anchor_to": "top_left",
    "controls": [
      {
        "crafting_arrow@crafting_arrow": {
          "offset": [ 46, 29 ],
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "crafting_panel",
              "resolve_sibling_scope": true,
              "source_property_name": "(not #needs_crafting_table)",
              "target_property_name": "#visible"
            }
          ]
        }
      },
      {
        "crafting_table@crafting.item_renderer": {
          "offset": [ 10, -5 ],
          "property_bag": {
            "#item_id_aux": 3801088
          },
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "crafting_panel",
              "resolve_sibling_scope": true,
              "source_property_name": "(#needs_crafting_table)",
              "target_property_name": "#visible"
            }
          ]
        }
      },
      {
        "crafting_grid_2x2@crafting.crafting_grid_2x2_with_label": {
          "offset": [ 8, 7 ]
        }
      },
      {
        "survival_crafting_output_grid@crafting.output_grid_2x2": {
          "offset": [ 64, 26 ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#needs_crafting_table",
        "binding_condition": "visible"
      }
    ]
  },

  //---------------------------------------------------------------------------
  // Base Panels
  //---------------------------------------------------------------------------

  // Top half of ui, elements specific to survival inventory
  // - player with armor on left
  // - small crafting panel (2x2) on right
  "survival_panel_top_half": {
    "type": "panel",
    "size": [ "100%", "50%" ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "controls": [
      { "player_armor_panel@player_armor_panel": {} },
      { "crafting_panel@crafting_panel_2x2": {} }
    ]
  },

  // Top half of ui, elements specific to crafting screen
  // - large crafting panel 3x3 on top half
  "crafting_panel_top_half": {
    "type": "panel",
    "size": [ "100%", "50%" ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "controls": [
      {
        "crafting_panel@work_bench_panel_3x3": {
          "offset": [ 29, 0 ]
        }
      }
    ]
  },

  //---------------------------------------------------------------------------
  // Screens, survival inventory and crafting
  //---------------------------------------------------------------------------

  "recipe_container_cell_images": {
    "type": "image",
    "$cell_images_binding_condition|default": "visible",
    "size": "$cell_image_size",
    "$cell_image_size|default": [ "default", "default" ],
    "bindings": [
      {
        "binding_name": "#container_item_background_texture",
        "binding_name_override": "#texture",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "$cell_images_binding_condition"
      }
    ]
  },

  "cell_image_recipe_default@crafting.cell_image": {
    "texture": "textures/ui/recipe_book_item_bg",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 0)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_recipe_group_head_collapsed@crafting.cell_image": {
    "texture": "textures/ui/recipe_book_light_button",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 1)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_recipe_group_head_expanded@crafting.cell_image": {
    "texture": "textures/ui/recipe_book_dark_button_pressed",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 2)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_recipe_group_item@crafting.cell_image": {
    "texture": "textures/ui/recipe_book_dark_button",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 3)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_recipe_selected@crafting.cell_image": {
    "texture": "textures/ui/recipe_book_touch_cell_selected",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 4)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_recipe_default_red@crafting.cell_image": {
    "texture": "textures/ui/recipe_book_red_button",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 5)",
        "target_property_name": "#visible"
      }
    ]
  },

  "container_cell_images": {
    "type": "panel",
    "$cell_images_binding_condition|default": "visible",
    "controls": [
      { "cell_classic@crafting.cell_image_classic": {} },
      { "cell_normal@crafting.cell_image_normal": {} },
      { "cell_invert@crafting.cell_image_invert": {} },
      { "cell_red@crafting.cell_image_red": {} },
      { "cell_selected@crafting.cell_image_selected": {} },
      { "cell_darkgrey@crafting.cell_image_darkgrey": {} }
    ],
    "bindings": [
      {
        "binding_name": "#container_item_background",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "$cell_images_binding_condition"
      }
    ]
  },

  "crafting_container_cell_images@crafting.container_cell_images": {
    "$cell_images_binding_condition": "always"
  },

  "cell_image": {
    "type": "image",
    "texture": "textures/ui/cell_image"
  },

  "cell_image_classic@crafting.cell_image": {
    "texture": "textures/ui/cell_image",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 0)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_normal@crafting.cell_image": {
    "texture": "textures/ui/cell_image_normal",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 1)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_invert@crafting.cell_image": {
    "texture": "textures/ui/cell_image_invert",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 2)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_red@crafting.cell_image": {
    "texture": "textures/ui/cell_image_red",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 3)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_selected@common.cell_image": {
    "texture": "textures/ui/recipe_book_touch_cell_selected",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 4)",
        "target_property_name": "#visible"
      }
    ]
  },

  "cell_image_darkgrey@crafting.cell_image": {
    "texture": "textures/ui/cell_image_darkgrey",
    "$cell_image_size|default": [ "default", "default" ],
    "size": "$cell_image_size",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$background_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_background = 7)",
        "target_property_name": "#visible"
      }
    ]
  },

  "container_overlay_images": {
    "type": "panel",
    "controls": [
      { "expand@crafting.item_overlay_expand": {} },
      { "contract@crafting.item_overlay_contract": {} }
    ],
    "bindings": [
      {
        "binding_name": "#container_item_modifier",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "visible"
      }
    ]
  },

  "item_overlay_image": {
    "type": "image",
    "size": [ 7, 7 ],
    "offset": [ -1, -1 ],
    "anchor_from": "bottom_right",
    "anchor_to": "bottom_right"
  },

  "item_overlay_contract@crafting.item_overlay_image": {
    "texture": "textures/ui/recipe_book_collapse_icon",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$overlay_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_modifier = 1)",
        "target_property_name": "#visible"
      }
    ]
  },

  "item_overlay_expand@crafting.item_overlay_image": {
    "texture": "textures/ui/recipe_book_expand_icon",
    "bindings": [
      {
        "binding_type": "view",
        "source_control_name": "$overlay_image_control_name",
        "resolve_sibling_scope": true,
        "source_property_name": "(#container_item_modifier = 2)",
        "target_property_name": "#visible"
      }
    ]
  },

  "inventory_container_item@common.container_item": {
    "$button_ref|default": "crafting.inventory_container_slot_button",
    "$background_images|default": "crafting.container_cell_images",

    "$overlay_images|default": "crafting.container_overlay_images",
    "$overlay_image_control_name|default": "overlay",

    "controls": [
      {
        "item_cell": {
          "type": "panel",
          "size": "$cell_image_size",
          "layer": 0,
          "controls": [
            {
              "$background_image_control_name@$background_images": {
                "layer": 1
              }
            },
            {
              "item": {
                "type": "panel",
                "size": "$item_renderer_panel_size",
                "layer": 0,
                "controls": [
                  {
                    "stack_count_label@common.stack_count_label": {
                      "layer": 10
                    }
                  },
                  {
                    "$item_renderer@$item_renderer": {
                      "size": "$item_renderer_size",
                      "offset": "$item_renderer_offset",
                      "anchor_to": "center",
                      "anchor_from": "center",
                      "layer": 7
                    }
                  }
                ]
              }
            },
            {
              "durability_bar@common.durability_bar": {
                "layer": 22
              }
            },
            {
              "storage_bar@common.storage_bar": {
                "layer": 8
              }
            },
            {
              "$overlay_image_control_name@$overlay_images": {
                "layer": 9
              }
            }
          ]
        }
      },
      {
        "item_cell_overlay_ref@$cell_overlay_ref": {
          "layer": 3
        }
      },
      {
        "item_selected_image@common.slot_selected": {
          "layer": 4
        }
      },
      {
        "item_button_ref@$button_ref": {
          "tts_ignore_count": true,
          "tts_skip_message": true,
          "tts_inherit_siblings": true,
          "layer": 5
        }
      },
      {
        "container_item_lock_overlay@common.container_item_lock_overlay": {
          "size": "$item_renderer_size",
          "offset": [ 1, 1 ],
          "anchor_to": "top_left",
          "anchor_from": "top_left",
          "layer": 6
        }
      },
      {
        "item_lock_cell_image@common.item_lock_cell_image": {
          "layer": 2
        }
      },
      {
        "bundle_slot_panel@gameplay.bundle_slot_panel": {
          "layer": 10
        }
      }
    ]
  },

  "grid_item_for_recipe_book@crafting.inventory_container_item": {
    "$stack_count_required": true,
    "$durability_bar_required": false,
    "$storage_bar_required": false,
    "$item_renderer_binding_condition": "visible",
    "$button_ref": "crafting.creative_no_coalesce_container_slot_button",
    "$background_images": "crafting.recipe_container_cell_images",

    "$slot_selected_binding_name": "#is_creative_selected_slot",

    "$stack_count_binding_name": "#recipe_craftable_count",
    "$item_collection_name": "recipe_book",
    "$scrolling_grid_item_size|default": [ 18, 18 ],
    "$hover_text_binding_name": "#recipe_hover_text",
    "size": "$scrolling_grid_item_size"
  },



  //----------------------------------
  //----------------------------------

  "scroll_grid_panel@crafting.crafting_root_panel": {
    "type": "input_panel",
    "size": [ "100%", "100%c + 2px" ],
    "controls": [
      { "grid@crafting.scroll_grid": {} }
    ]
  },

  "scroll_grid": {
    "type": "grid",
    "size": [ "100%", "default" ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",

    "$binding_condition|default": "visible",
    "$grid_item_precache_count|default": 0,
    "$grid_item_template|default": "crafting.grid_item_for_recipe_book",

    "collection_name": "$collection_name",
    "grid_rescaling_type": "horizontal",
    "grid_item_template": "$grid_item_template",
    "bindings": [
      {
        "binding_name": "#recipe_book_total_items",
        "binding_name_override": "#maximum_grid_items",
        "binding_condition": "$binding_condition",
        "binding_type": "collection",
        "binding_collection_name": "$collection_name"
      }
    ]
  },

  "scroll_panel@common.container_scroll_panel": {
    "$scrolling_panel_base_button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.destroy_selection",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.destroy_selection",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.destroy_selection",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.clear_hotbar_or_remove_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      }
    ]
  },

  "recipe_book_scroll_panel@crafting.scroll_panel": {
    "$scrolling_content": "crafting.scroll_grid_panel",
    "$collection_name": "recipe_book"
  },



  //------------------------
  // Other parts
  //------------------------

  "creative_label": {
    "type": "label",
    "size": [ "100%", 10 ],
    "anchor_from": "center",
    "anchor_to": "center",
    "text_alignment": "right",
    "color": "$title_text_color",
    "layer": 2,

    "text": "#tab_label_text",
    "bindings": [
      {
        "binding_name": "#tab_label_text"
      }
    ]
  },

  "filter_toggle@common_toggles.switch_toggle": {
    "size": [ 29, 17 ],
    "$default_texture": "textures/ui/craft_toggle_off",
    "$hover_texture": "textures/ui/craft_toggle_on",
    "$pressed_texture": "textures/ui/craft_toggle_off_hover",
    "$pressed_no_hover_texture": "textures/ui/craft_toggle_on_hover",
    "$unchecked_locked_texture": "textures/ui/craft_toggle_off",
    "$checked_locked_texture": "textures/ui/craft_toggle_on",

    "$toggle_name": "toggle.enableFiltering",
    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#filtering_enabled",

    "$button_mappings": [
      {
        "to_button_id": "button.filter_toggle_hovered",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_select",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.menu_ok",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.controller_back",
        "mapping_type": "focused",
        "ignored": "(not $is_ps4)"
      },
      {
        "ignored": "(not $enable_directional_toggling)",
        "from_button_id": "button.menu_left",
        "to_button_id": "$toggle_off_button",
        "mapping_type": "pressed",
        "input_mode_condition": "gamepad"
      },
      {
        "ignored": "(not $enable_directional_toggling)",
        "from_button_id": "button.menu_right",
        "to_button_id": "$toggle_on_button",
        "mapping_type": "pressed",
        "input_mode_condition": "gamepad"
      }
    ]
  },

  //---------------------------
  // Toolbar Controls
  //---------------------------

  "toolbar_background": {
    "type": "image",
    "texture": "textures/ui/toolbar_background"
  },

  "layout_toggle_content": {
    "type": "panel",
    "controls": [
      { "image@$toggle_image": {} },
      {
        "icon@$icon_control": {
          "offset": [ 0, -1 ],
          "anchor_to": "top_middle",
          "anchor_from": "top_middle",

          "layer": 1
        }
      }
    ]
  },

  "layout_template_toggle@common_toggles.light_template_toggle": {
    "$focus_override_up": "FOCUS_OVERRIDE_STOP",

    "$default_texture": "textures/ui/recipe_book_button_borderless_light",
    "$hover_texture": "textures/ui/recipe_book_button_borderless_lightpressednohover",
    "$pressed_texture": "textures/ui/recipe_book_button_borderless_lighthover",
    "$pressed_no_hover_texture": "textures/ui/recipe_book_button_borderless_lightpressed"
  },

  "layout_toggle@common_toggles.light_image_toggle": {
    "size": [ 25, 18 ],
    "$button_content": "crafting.layout_toggle_content",
    "$toggle_name": "layout_toggle",

    "$template_toggle": "crafting.layout_template_toggle",
    "$allow_controller_back_button_mapping": "$is_ps4"
  },

  "creative_layout_toggle@crafting.layout_toggle": {
    "$icon_control": "crafting.creative_icon",
    "$toggle_group_forced_index": "$creative_layout_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_creative_layout",

    "$focus_id": "creative_layout_toggle",
    "$toggle_tts_header": "accessibility.button.creative.layout"
  },

  "recipe_book_layout_toggle@crafting.layout_toggle": {
    "$icon_control": "crafting.recipe_book_icon",
    "$toggle_group_forced_index": "$recipe_book_layout_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_recipe_book_layout",

    "$focus_id": "recipe_book_layout_toggle",
    "$toggle_tts_header": "accessibility.button.recipebook.layout"
  },

  "survival_layout_toggle@crafting.layout_toggle": {
    "$icon_control": "crafting.inventory_icon",
    "$toggle_group_forced_index": "$survival_layout_index",

    "$toggle_binding_type": "global",
    "$toggle_state_binding_name": "#is_survival_layout",
    "$toggle_tts_header": "accessibility.button.survival.layout"
  },

  "help_button@common.button": {
    "size": [ 15, 15 ],
    "layer": 5,

    "$default_texture|default": "textures/ui/how_to_play_button_default_light",
    "$hover_texture|default": "textures/ui/how_to_play_button_hover_light",
    "$pressed_texture|default": "textures/ui/how_to_play_button_pressed_light",

    "$pressed_button_name": "button.help",

    "$focus_id": "help_button",
    "$focus_override_up": "FOCUS_OVERRIDE_STOP",

    "controls": [
      {
        "default": {
          "type": "image",
          "texture": "$default_texture"
        }
      },
      {
        "hover": {
          "type": "image",
          "texture": "$hover_texture"
        }
      },
      {
        "pressed": {
          "type": "image",
          "texture": "$pressed_texture"
        }
      }
    ]
  },

  //---------------------------
  // Layout Panels
  //---------------------------

  "player_inventory@common.root_panel": {
    "layer": 4,

    "controls": [
      {
        "common_panel@common.common_panel": {
          "offset": [ 0, 0 ],
          "$show_close_button": false
        }
      },
      {
        "inventory_panel_top_half@$top_half_variant": {
          "layer": 2
        }
      },
      {
        "inventory_panel_bottom_half@common.inventory_panel_bottom_half": {
          "layer": 2,
          "$button_ref": "crafting.inventory_container_slot_button",
          "$background_images": "crafting.container_cell_images"

        }
      },
      {
        "hotbar_grid@common.hotbar_grid_template": {
          "layer": 2,
          "$button_ref": "crafting.inventory_container_slot_button",
          "$background_images": "crafting.container_cell_images"

        }
      }
    ]
  },

  "recipe_book@common.root_panel": {
    "layer": 1,
    "controls": [
      {
        "gamepad_helper_bumpers@crafting.gamepad_helper_bumpers": {
          "size": [ 146, 16 ],
          "offset": [ 0, -5 ],
          "anchor_from": "top_left",
          "anchor_to": "bottom_left"
        }
      },
      {
        "tab_navigation_panel@crafting.tab_navigation_panel_layout": {
          "layer": 5,
          "size": [ 146, 23 ],
          "anchor_from": "top_left",
          "anchor_to": "bottom_left",

          "$is_search_right_most_tab": "#is_recipe_book_layout",
          "bindings": [
            {
              "binding_type": "global",
              "binding_name": "#is_recipe_book_layout"
            }
          ]
        }
      },
      {
        "bg@common.common_panel": {
          "layer": 8,
          "$show_close_button": false
        }
      },
      {
        "tab_content_panel@crafting.tab_content": {
          "size": [ "100%", "100%" ],
          "layer": 8,
          "$scrolling_pane_control": "crafting.recipe_book_scroll_panel"
        }
      },
      {
        "creative_hotbar_panel@crafting.creative_hotbar_panel": {
          "layer": 3,
          "offset": [ 0, -5 ],
          "anchor_from": "bottom_middle",
          "anchor_to": "top_middle",
          "bindings": [
            {
              "binding_type": "global",
              "binding_name": "#is_creative_layout",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "creative_hotbar_panel@common.root_panel": {
    "size": [ "100%c", "100%c" ],
    "controls": [
      {
        "creative_hotbar_background": {
          "type": "image",
          "texture": "textures/ui/dialog_background_opaque_overlap_bottom",

          "size": [ "100%c + 12px", "100%c + 10px" ],
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",
          "layer": 6,

          "controls": [
            {
              "hotbar_grid@common.hotbar_grid_template": {
                "offset": [ 0, -6 ],
                "anchor_from": "bottom_middle",
                "anchor_to": "bottom_middle",

                "$button_ref": "crafting.creative_hotbar_container_slot_button"
              }
            }
          ]
        }
      }
    ]
  },

  "center_fold@common.root_panel": {
    "controls": [
      {
        "center_bg": {
          "type": "image",
          "texture": "textures/ui/recipe_back_panel",
          "size": [ "100% + 8px", "100% - 6px" ]
        }
      }
    ]
  },

  "toolbar_panel@crafting.crafting_root_panel": {
    "size": [ "100%c", 20 ],

    "controls": [
      {
        "toolbar_background@crafting.toolbar_background": {
          "size": [ "100%cm", "100% + 8px" ],
          "offset": [ 0, -3 ],
          "anchor_from": "top_right",
          "anchor_to": "top_right",

          "controls": [
            {
              "toolbar_stack_panel": {
                "type": "stack_panel",
                "orientation": "horizontal",
                "ttsSectionContainer": true,
                "size": [ "default", "100% - 8px" ],
                "offset": [ 0, 3 ],
                "anchor_from": "top_middle",
                "anchor_to": "top_middle",

                "controls": [
                  {
                    "left_trigger_anchor": {
                      "type": "panel",
                      "size": [ 0, "100%" ],
                      "bindings": [
                        {
                          "binding_name": "#gamepad_helper_visible",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "controls": [
                        {
                          "gamepad_helper_left_trigger@common.gamepad_helper_left_trigger": {
                            "offset": [ 3, -2 ],
                            "anchor_from": "left_middle",
                            "anchor_to": "right_middle"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "padding_0": {
                      "type": "panel",
                      "size": [ 8, 0 ]
                    }
                  },
                  {
                    "creative_layout_toggle_panel": {
                      "type": "panel",
                      "size": [ "100%c", "100%" ],
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "#creative_layout_button_visible",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "controls": [
                        {
                          "creative_layout_toggle@crafting.creative_layout_toggle": {
                            "$focus_override_left": "search_tab"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "padding_1": {
                      "type": "panel",
                      "size": [ 2, 0 ],
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "#creative_layout_button_visible",
                          "binding_name_override": "#visible"
                        }
                      ]
                    }
                  },
                  {
                    "recipe_book_layout_toggle_panel_survival": {
                      "type": "panel",
                      "size": [ 25, "100%" ],
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "(not #is_creative_mode)",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "controls": [
                        {
                          "recipe_book_layout_toggle@crafting.recipe_book_layout_toggle": {
                            "$focus_override_left": "search_tab"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "recipe_book_layout_toggle_panel_creative": {
                      "type": "panel",
                      "size": [ "100%c", "100%" ],
                      "bindings": [
                        {
                          "binding_type": "global",
                          "binding_name": "#is_creative_mode",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "controls": [
                        { "recipe_book_layout_toggle@crafting.recipe_book_layout_toggle": {} }
                      ]
                    }
                  },
                  {
                    "padding_2": {
                      "type": "panel",
                      "size": [ 1, 0 ]
                    }
                  },
                  {
                    "survival_layout_toggle_panel": {
                      "type": "panel",
                      "size": [ "100%c", "100%" ],
                      "controls": [
                        { "survival_layout_toggle@crafting.survival_layout_toggle": {} }
                      ]
                    }
                  },
                  {
                    "padding_3": {
                      "type": "panel",
                      "size": [ 4, 0 ]
                    }
                  },
                  {
                    "help_button_panel": {
                      "type": "panel",
                      "size": [ "100%c", "100%" ],
                      "controls": [
                        { "help_button@crafting.help_button": {} }
                      ]
                    }
                  },
                  {
                    "close_button_panel": {
                      "type": "panel",
                      "size": [ 15, "100%" ],
                      "bindings": [
                        {
                          "binding_name": "#close_button_visible",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "controls": [
                        {
                          "close_button@common.light_close_button": {
                            "offset": [ 0, 0 ],
                            "anchor_from": "center",
                            "anchor_to": "center"
                          }
                        }
                      ]
                    }
                  },
                  {
                    "padding_4": {
                      "type": "panel",
                      "size": [ 6, 0 ]
                    }
                  },
                  {
                    "right_trigger_anchor": {
                      "type": "panel",
                      "size": [ 0, "100%" ],
                      "bindings": [
                        {
                          "binding_name": "#gamepad_helper_visible",
                          "binding_name_override": "#visible"
                        }
                      ],
                      "controls": [
                        {
                          "gamepad_helper_right_trigger@common.gamepad_helper_right_trigger": {
                            "offset": [ -2, -2 ],
                            "anchor_from": "right_middle",
                            "anchor_to": "left_middle"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  //---------------------------
  //---------------------------

  "inventory_screen_base@common.inventory_screen_common": {
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "button.menu_exit",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_inventory_cancel",
        "to_button_id": "button.menu_exit",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_up",
        "to_button_id": "button.menu_up",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_down",
        "to_button_id": "button.menu_down",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_left",
        "to_button_id": "button.menu_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_right",
        "to_button_id": "button.menu_right",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.cursor_drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.clear_hotbar_or_drop",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_clear",
        "to_button_id": "button.menu_clear",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "button.left_panel_tab_decrement",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "button.left_panel_tab_increment",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_alternate_tab_left",
        "to_button_id": "button.layout_increment",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_alternate_tab_right",
        "to_button_id": "button.layout_decrement",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.controller_secondary_select_left",
        "to_button_id": "button.shift_pane_focus",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.controller_secondary_select_right",
        "to_button_id": "button.clear_selected_recipe",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot1",
        "to_button_id": "button.slot_1",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot2",
        "to_button_id": "button.slot_2",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot3",
        "to_button_id": "button.slot_3",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot4",
        "to_button_id": "button.slot_4",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot5",
        "to_button_id": "button.slot_5",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot6",
        "to_button_id": "button.slot_6",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot7",
        "to_button_id": "button.slot_7",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot8",
        "to_button_id": "button.slot_8",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot9",
        "to_button_id": "button.slot_9",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot0",
        "to_button_id": "button.slot_0",
        "mapping_type": "global"
      }
    ]
  },

  "crafting_screen@crafting.inventory_screen_base": {
    "send_telemetry": false,
    "$uses_bundle_tooltip": true,
    "$screen_content": "crafting.recipe_inventory_screen_content",
    "$screen_bg_content": "common.screen_background",
    "$screen_background_alpha": 0.4,
    "$top_half_variant": "crafting.crafting_panel_top_half",
    "$close_on_player_hurt|default": true,
    "close_on_player_hurt": "$close_on_player_hurt"
  },

  "inventory_screen@crafting.inventory_screen_base": {
    "send_telemetry": false,
    "$screen_content": "crafting.recipe_inventory_screen_content",
    "$screen_bg_content": "common.screen_background",
    "$screen_background_alpha": 0.4,
    "$top_half_variant": "crafting.survival_panel_top_half"
  },

  "recipe_book_toggle_image": {
    "type": "image",
    "layer": 2,
    "size": [ 5, 9 ],

    "anchor_from": "left_middle",
    "anchor_to": "left_middle",

    "$toggle_checked|default": false,
    "$toggle_unchecked|default": false,
    "$toggle_checked_hover|default": false,
    "$toggle_unchecked_hover|default": false,
    "$toggle_texture|default": "textures/ui/expand_dots_out",
    "$image_offset|default": [ 2, 0 ],

    "variables": [
      {
        "requires": "($toggle_checked)",
        "$toggle_texture": "textures/ui/recipe_book_expand_dots_in"
      },
      {
        "requires": "($toggle_checked_hover)",
        "$toggle_texture": "textures/ui/recipe_book_expand_dots_in_hover"
      },
      {
        "requires": "($toggle_unchecked)",
        "$toggle_texture": "textures/ui/recipe_book_expand_dots_out",
        "$image_offset|default": [ 1, 0 ]
      },
      {
        "requires": "($toggle_unchecked_hover)",
        "$toggle_texture": "textures/ui/recipe_book_expand_dots_out_hover",
        "$image_offset|default": [ 1, 0 ]
      }
    ],

    "offset": "$image_offset",

    "texture": "$toggle_texture"
  },

  "recipe_inventory_screen_content": {
    "type": "panel",
    "controls": [
      {
        "content_stack_panel": {
          "type": "stack_panel",
          "size": [ 326, 166 ],
          "orientation": "horizontal",

          "controls": [
            {
              "recipe_book@crafting.recipe_book": {
                "size": [ "fill", "100%" ],
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "(not #is_survival_layout)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "center_fold@crafting.center_fold": {
                "size": [ 4, 166 ],
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "#is_recipe_book_layout",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "survival_padding": {
                "type": "panel",
                "size": [ 75, "100%" ],
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "#is_survival_layout",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "player_inventory@crafting.player_inventory": {
                "bindings": [
                  {
                    "binding_type": "global",
                    "binding_name": "(not #is_creative_layout)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            },
            {
              "toolbar_anchor": {
                "type": "panel",
                "size": [ 0, "100%" ],
                "controls": [
                  {
                    "toolbar_panel@crafting.toolbar_panel": {
                      "anchor_from": "top_right",
                      "anchor_to": "bottom_right"
                    }
                  }
                ]
              }
            }
          ]
        }
      },

      { "inventory_take_progress_icon_button@common.inventory_take_progress_icon_button": {} },
      { "inventory_selected_icon_button@common.inventory_selected_icon_button": {} },
      { "hold_icon@common.inventory_take_progress_icon_button": {} },
      {
        "controller_gamepad_helpers_stack_panel": {
          "type": "stack_panel",
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",
          "controls": [
            { "container_gamepad_helpers_second_row@crafting.container_gamepad_helpers_second_row": {} },
            {
              "container_gamepad_helpers@common.container_gamepad_helpers": {
                "$helper_x_control": "crafting.inventory_x_gamepad_helper",
                "$helper_y_control": "crafting.inventory_y_gamepad_helper",
                "$helper_a_control": "crafting.inventory_a_gamepad_helper"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#gamepad_helper_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      { "selected_item_details_factory@common.selected_item_details_factory": {} },
      { "item_lock_notification_factory@common.item_lock_notification_factory": {} },
      { "flying_item_renderer@common.flying_item_renderer": { "layer": 15 } }
    ]
  }
}
