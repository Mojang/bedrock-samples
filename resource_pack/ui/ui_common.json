{
  "namespace": "common",

  //---------------------------------------------------------------------------
  // Common controls
  //---------------------------------------------------------------------------

  "empty_panel": {
    "type": "panel"
  },

  "vertical_padding_8px": {
    "type": "panel",
    "size": [ "100%", 8 ]
  },

  "horizontal_padding_2px": {
    "type": "panel",
    "size": [ 2, 0 ]
  },

  "empty_image": {
    "type": "image"
  },

  "horizontal_stack_panel": {
    "type": "stack_panel",
    "orientation": "horizontal"
  },

  "vertical_stack_panel": {
    "type": "stack_panel",
    "orientation": "vertical"
  },

  "vert_stack_centering_panel": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "controls": [
      { "stack_content@$vert_stack_centering_content": {} }
    ]
  },

  "button": {
    "type": "button",

    "$focus_id|default": "",
    "$focus_override_down|default": "",
    "$focus_override_up|default": "",
    "$focus_override_left|default": "",
    "$focus_override_right|default": "",
    "focus_identifier": "$focus_id",
    "focus_change_down": "$focus_override_down",
    "focus_change_up": "$focus_override_up",
    "focus_change_left": "$focus_override_left",
    "focus_change_right": "$focus_override_right",
    "$focus_enabled|default": true,
    "focus_enabled": "$focus_enabled",
    "focus_magnet_enabled": true,
    "$focus_wrap_enabled|default": true,
    "focus_wrap_enabled": "$focus_wrap_enabled",

    "$button_focus_precedence|default": 0,
    "default_focus_precedence": "$button_focus_precedence",

    "$button_tts_name|default": "accessibility.button.tts.title",
    "$button_tts_header|default": "",
    "$tts_section_header|default": "",
    "$button_tts_control_type_order_priority|default": 100,
    "$button_tts_index_priority|default": 150,

    "tts_name": "$button_tts_name",
    "tts_control_header": "$button_tts_header",
    "tts_section_header": "$tts_section_header",
    "tts_control_type_order_priority": "$button_tts_control_type_order_priority",
    "tts_index_priority": "$button_tts_index_priority",

    "layer": 1,
    "sound_name": "random.click",
    "sound_volume": 1.0,
    "sound_pitch": 1.0,
    "locked_control": "",
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$pressed_button_name",
        "mapping_type": "focused"
      }
    ],

    "$button_bindings|default": [],
    "bindings": "$button_bindings"
  },

  "screen_header_title_panel": {
    "type": "panel",
    "size": [ "fill", 17 ],
    "$screen_header_title_visible|default": true,
    "controls": [
      {
        "store_header_title": {
          "type": "label",
          "size": [ "100%", 17 ],
          "offset": [ 0, 3.5 ],
          "ignored": "(not $screen_header_title_visible)",
          "anchor_from": "left_middle",
          "anchor_to": "left_middle",
          "text_alignment": "left",
          "color": "$title_text_color",
          "$screen_header_title|default": "#screen_header_title",
          "$screen_header_title_binding_type|default": "none",
          "text": "$screen_header_title",
          "bindings": [
            {
              "binding_type": "$screen_header_title_binding_type",
              "binding_name": "$screen_header_title",
              "binding_name_override": "$screen_header_title"
            }
          ]
        }
      }
    ]
  },

  "back_button@common_buttons.no_background_content_button": {
    "variables": [
      {
        "requires": "$touch",
        "$size": [ "100%c + 6px", "100%c + 6px" ],
        "$button_panel_offset": [ 3, 3 ]
      },
      {
        "requires": "(not $touch)",
        "$size": [ "100%c", "100%c" ]
      }
    ],
    "size": "$size",
    "$button_text": "$back_button_text",
    "$button_content": "common.back_button_content",
    "$button_type_panel": "common_buttons.form_fitting_button_content_panel",
    "$button_text_binding_type|default": "none",
    "$button_binding_condition|default": "none",
    "$button_text_grid_collection_name|default": "",
    "$button_tts_header|default": "accessibility.button.back",
    "$back_button_pressed_button_name|default": "button.menu_exit",
    "bindings": [
      {
        "binding_name": "(not #is_using_gamepad)",
        "binding_name_override": "#visible"
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$back_button_pressed_button_name",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$back_button_pressed_button_name",
        "mapping_type": "focused"
      }
    ]
  },

  "back_title_button": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "$button_text_binding_type|default": "none",
    "$back_button_has_title|default": false,
    "controls": [
      {
        "panel1": {
          "type": "panel",
          "offset": [ 2, 0 ],
          "size": [ 16, "100%" ],
          "controls": [
            {
              "button@common.back_button": {
                "$button_text": "",
                "$button_content": "common.back_title_button_content",
                "$button_tts_header": "accessibility.button.back"
              }
            }
          ]
        }
      },
      {
        "padding1": {
          "type": "panel",
          "size": [ 3, "100%" ],
          "ignored": "(not $back_button_has_title)"
        }
      },
      {
        "panel2": {
          "type": "panel",
          "size": [ "100%c", "100%" ],
          "ignored": "(not $back_button_has_title)",
          "controls": [
            {
              "label": {
                "type": "label",
                "layer": 2,
                "text": "$button_text",
                "color": "$title_text_color",
                "text_alignment": "center",
                "bindings": [
                  {
                    "binding_type": "$button_text_binding_type",
                    "binding_name": "$button_text",
                    "binding_name_override": "$button_text"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "chevron_image": {
    "type": "image",
    "layer": 1,
    "size": [ 4, 7 ],
    "texture": "$chevron_image_name"
  },

  "back_button_content": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", 16 ],
    "offset": [ 0, 2 ],
    "controls": [
      {
        "chevron_panel": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "left_chevron@common.chevron_image": {
                "texture": "textures/ui/chevron_left",
                "offset": [ 0, -1 ],
                "color": "$text_color"
              }
            }
          ]
        }
      },
      {
        "padding1": {
          "type": "panel",
          "size": [ 4, "100%" ]
        }
      },
      {
        "label_panel": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "label@common_buttons.new_ui_binding_button_label": {
                "offset": [ 0, -2 ]
              }
            }
          ]
        }
      }
    ]
  },

  "label_hover": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "$visible_hover|default": true,
    "controls": [
      {
        "hover@common.focus_border_white": {
          "size": [ "100%", "100%" ],
          "offset": [ 0, 2 ],
          "visible": "$visible_hover"
        }
      }
    ]
  },

  "tts_activate_sibling@common.button": { // If there's a label or panel or disabled button that needs to be selectable for TTS, or controller navigation.  Just put this next to it.
    "sound_volume": 0,
    "size": [ "100%sm", "100%sm" ], // Since this uses sibling max, the control needs to either be isolated with just this as a sibling, or needs to be the largest in the set.
    "$pressed_button_name": "button.focus_filler", // Might need an offset to look correct, it depends on what this is a sibling of.
    "$button_tts_name": "",
    "focus_enabled": true,
    "tts_inherit_siblings": true,
    "controls": [
      {
        "default@common.empty_panel": {}
      },
      {
        "pressed@common.label_hover": {}
      },
      {
        "hover@common.label_hover": {}
      }
    ]
  },

  "back_title_button_content": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%c", 16 ],
    "offset": [ 0, 2 ],
    "controls": [
      {
        "padding1": {
          "type": "panel",
          "size": [ 4, "100%" ]
        }
      },
      {
        "chevron_panel": {
          "type": "panel",
          "size": [ "100%c", "100%c" ],
          "controls": [
            {
              "left_chevron@common.chevron_image": {
                "texture": "textures/ui/chevron_left",
                "offset": [ 0, -1 ],
                "color": "$text_color"
              }
            }
          ]
        }
      },
      {
        "padding2": {
          "type": "panel",
          "size": [ 4, "100%" ]
        }
      }
    ]
  },

  "toggle_visuals": {
    "type": "panel",
    "controls": [
      { "unchecked@$unchecked_control": {} },
      { "checked@$checked_control": {} },
      { "unchecked_hover@$unchecked_hover_control": {} },
      { "checked_hover@$checked_hover_control": {} },
      { "unchecked_locked@$unchecked_locked_control": {} },
      { "checked_locked@$checked_locked_control": {} },
      { "unchecked_locked_hover@$unchecked_locked_hover_control": {} },
      { "checked_locked_hover@$checked_locked_hover_control": {} }
    ]
  },

  "toggle@common.toggle_visuals": {
    "type": "toggle",

    "$focus_id|default": "",
    "$focus_override_down|default": "",
    "$focus_override_up|default": "",
    "$focus_override_left|default": "",
    "$focus_override_right|default": "",
    "focus_identifier": "$focus_id",
    "focus_change_down": "$focus_override_down",
    "focus_change_up": "$focus_override_up",
    "focus_change_left": "$focus_override_left",
    "focus_change_right": "$focus_override_right",
    "$toggle_focus_enabled|default": true,
    "focus_enabled": "$toggle_focus_enabled",
    "focus_magnet_enabled": true,

    "$default_focus_precedence|default": 0,
    "default_focus_precedence": "$default_focus_precedence",

    "$allow_controller_back_button_mapping|default": false,

    "layer": 1,
    "sound_name": "random.click",
    "sound_volume": 1.0,
    "sound_pitch": 1.0,

    "checked_control": "checked",
    "unchecked_control": "unchecked",
    "checked_hover_control": "checked_hover",
    "unchecked_hover_control": "unchecked_hover",
    "checked_locked_control": "checked_locked",
    "unchecked_locked_control": "unchecked_locked",
    "checked_locked_hover_control": "checked_locked_hover",
    "unchecked_locked_hover_control": "unchecked_locked_hover",

    "$radio_toggle_group|default": false,
    "$toggle_default_state|default": false,
    "$toggle_group_forced_index|default": -1,
    "$toggle_group_default_selected|default": 0,
    "$toggle_binding_type|default": "global",
    "$toggle_binding_condition|default": "visible",
    "$toggle_state_binding_name|default": "#toggle_state",
    "$toggle_enabled_binding_type|default": "none",
    "$toggle_enabled_binding_condition|default": "visible",
    "$toggle_enabled_binding_name|default": "#toggle_enabled",
    "$toggle_focus_id_binding_type|default": "none",
    "$toggle_focus_id_binding_condition|default": "visible",
    "$toggle_focus_id_binding_name|default": "#toggle_focus_id",
    "$toggle_focus_id_collection_name|default": "",
    "$toggle_grid_collection_name|default": "",
    "$toggle_collection_details_type|default": "none",
    "$toggle_collection_detail_name|default": "",

    "$toggle_tts_name|default": "accessibility.toggle.tts.title",
    "$toggle_tts_header_binding_type|default": "none",
    "$toggle_tts_header_binding_condition|default": "visible",
    "$toggle_tts_header_binding_collection_name|default": "",
    "$toggle_tts_header|default": "",
    "$toggle_tts_value_binding_type|default": "none",
    "$toggle_tts_value_binding_condition|default": "visible",
    "$toggle_tts_value_binding_collection_name|default": "",
    "$toggle_tts_override_toggle_value|default": "",
    "$toggle_tts_toggle_on_text|default": "accessibility.state.on",
    "$toggle_tts_toggle_off_text|default": "accessibility.state.off",
    "$toggle_tts_type_priority|default": -100,
    "$toggle_tts_index_priority|default": 150,
    "$toggle_tts_inherit_siblings|default": false,
    "$tts_section_header|default": "",

    "$ignore_tts_enabled_bind|default": false,
    "$toggle_focus_bind|default": "",

    "radio_toggle_group": "$radio_toggle_group",
    "toggle_name": "$toggle_name",
    "toggle_default_state": "$toggle_default_state",
    "toggle_group_forced_index": "$toggle_group_forced_index",
    "toggle_group_default_selected": "$toggle_group_default_selected",
    "toggle_grid_collection_name": "$toggle_grid_collection_name",

    "$enable_directional_toggling|default": false,
    "$toggle_on_button|default": "toggle.toggle_on",
    "$toggle_off_button|default": "toggle.toggle_off",

    "$toggle_tts_enabled_binding_type|default": "none",

    "enable_directional_toggling": "$enable_directional_toggling",
    "toggle_on_button": "$toggle_on_button",
    "toggle_off_button": "$toggle_off_button",

    "tts_toggle_on": "$toggle_tts_toggle_on_text",
    "tts_toggle_off": "$toggle_tts_toggle_off_text",
    "tts_name": "$toggle_tts_name",
    "tts_control_header": "$toggle_tts_header",
    "tts_section_header": "$tts_section_header",
    "tts_override_control_value": "$toggle_tts_override_toggle_value",
    "tts_control_type_order_priority": "$toggle_tts_type_priority",
    "tts_index_priority": "$toggle_tts_index_priority",
    "tts_inherit_siblings": "$toggle_tts_inherit_siblings",
    "tts_ignore_count": false,

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_select",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.menu_ok",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.controller_back",
        "mapping_type": "focused",
        "ignored": "(not $allow_controller_back_button_mapping)"
      },
      {
        "ignored": "(not $enable_directional_toggling)",
        "from_button_id": "button.menu_left",
        "to_button_id": "$toggle_off_button",
        "mapping_type": "pressed",
        "input_mode_condition": "gamepad"
      },
      {
        "ignored": "(not $enable_directional_toggling)",
        "from_button_id": "button.menu_right",
        "to_button_id": "$toggle_on_button",
        "mapping_type": "pressed",
        "input_mode_condition": "gamepad"
      }
    ],

    "$toggle_property_bag|default": {
      "#toggle_state": true
    },

    "property_bag": "$toggle_property_bag",

    "bindings": [
      {
        "binding_type": "$toggle_binding_type",
        "binding_condition": "$toggle_binding_condition",
        "binding_collection_name": "$toggle_grid_collection_name",
        "binding_name": "$toggle_state_binding_name",
        "binding_name_override": "#toggle_state"
      },
      {
        "binding_type": "$toggle_enabled_binding_type",
        "binding_condition": "$toggle_enabled_binding_condition",
        "binding_collection_name": "$toggle_grid_collection_name",
        "binding_name": "$toggle_enabled_binding_name",
        "binding_name_override": "#enabled"
      },
      {
        "binding_type": "$toggle_collection_details_type",
        "binding_collection_name": "$toggle_collection_detail_name"
      },
      {
        "binding_type": "$toggle_tts_header_binding_type",
        "binding_condition": "$toggle_tts_header_binding_condition",
        "binding_collection_name": "$toggle_tts_header_binding_collection_name",
        "binding_name": "$toggle_tts_header"
      },
      {
        "binding_type": "$toggle_tts_value_binding_type",
        "binding_condition": "$toggle_tts_value_binding_condition",
        "binding_collection_name": "$toggle_tts_value_binding_collection_name",
        "binding_name": "$toggle_tts_override_toggle_value"
      },
      {
        "ignored": "$ignore_tts_enabled_bind",
        "binding_type": "$toggle_tts_enabled_binding_type",
        "binding_name": "#tts_enabled",
        "binding_name_override": "#focus_enabled"
      },
      {
        "ignored": "(($toggle_focus_bind = '') and (not $ignore_tts_enabled_bind))",
        "binding_type": "global",
        "binding_name": "$toggle_focus_bind",
        "binding_name_override": "#focus_enabled"
      },
      {
        "binding_type": "$toggle_focus_id_binding_type",
        "binding_condition": "$toggle_focus_id_binding_condition",
        "binding_collection_name": "$toggle_focus_id_collection_name",
        "binding_name": "$toggle_focus_id_binding_name",
        "binding_name_override": "#focus_identifier"
      }
    ]
  },

  "radio_toggle@common.toggle": {
    "$unchecked_control|default": "common.radio_toggle_unchecked_state",
    "$checked_control|default": "common.radio_toggle_checked_state",
    "$unchecked_hover_control|default": "common.radio_toggle_unchecked_hover_state",
    "$checked_hover_control|default": "common.radio_toggle_checked_hover_state",
    "$unchecked_locked_control|default": "common.radio_toggle_unchecked_locked_state",
    "$unchecked_locked_hover_control|default": "common.radio_toggle_unchecked_locked_state",
    "$checked_locked_control|default": "common.radio_toggle_checked_locked_state",
    "$checked_locked_hover_control|default": "common.radio_toggle_checked_locked_state",
    "$radio_toggle_group": true
  },

  "checkbox@common.toggle": {
    "$toggle_tts_name": "accessibility.checkbox.tts.title",
    "$toggle_tts_toggle_on_text": "accessibility.state.checked",
    "$toggle_tts_toggle_off_text": "accessibility.state.unchecked",
    "$unchecked_control": "common.checkbox_unchecked_state",
    "$checked_control": "common.checkbox_checked_state",
    "$unchecked_hover_control": "common.checkbox_unchecked_hover_state",
    "$checked_hover_control": "common.checkbox_checked_hover_state",
    "$unchecked_locked_control": "common.checkbox_unchecked_locked_state",
    "$unchecked_locked_hover_control": "common.checkbox_unchecked_locked_state",
    "$checked_locked_control": "common.checkbox_checked_locked_state",
    "$checked_locked_hover_control": "common.checkbox_checked_locked_state"
  },

  "checkbox_image": {
    "type": "image",
    "size": [ 10, 10 ]
  },

  "checked_image@checkbox_image": {
    "texture": "textures/ui/checkbox_check"
  },

  "unchecked_image@checkbox_image": {
    "texture": "textures/ui/checkbox_space"
  },

  "checked_hover_image@checkbox_image": {
    "texture": "textures/ui/checkbox_checkHover"
  },

  "unchecked_hover_image@checkbox_image": {
    "texture": "textures/ui/checkbox_spaceHover"
  },

  "rotating_text": {
    "type": "carousel_label",
    "shadow": false,
    "color": [ 1.0, 1.0, 1.0, 1.0 ],
    "text": "Override this text, this is the default!",
    "always_rotate": false,
    "rotate_speed": 0.1,
    "hover_color": [ 1.0, 1.0, 0.2, 1.0 ],
    "hover_alpha": 1.0,
    "pressed_color": [ 1.0, 1.0, 0.2, 1.0 ],
    "pressed_alpha": 0.65,

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_select",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.menu_select",
        "mapping_type": "focused"
      }
    ]
  },

  "button_text": {
    "type": "label",
    "color": "$generic_button_text_color",
    "layer": 1,
    "shadow": false
  },

  "toggle_state_template": {
    "$checkbox_alignment|default": "center",
    "anchor_from": "$checkbox_alignment",
    "anchor_to": "$checkbox_alignment",
    "offset": "$checkbox_offset",
    "$checkbox_offset|default": [ 0, 0 ],
    "type": "image",
    "layer": 2,
    "size": [ 10, 10 ]
  },

  "new_button_label": {
    "$text_color|default": "$light_button_default_text_color",
    "type": "label",
    "layer": 3,
    "color": "$text_color",
    "shadow": false,
    "font_size": "normal"
  },

  "checkbox_checked_state@toggle_state_template": {
    "texture": "textures/ui/checkbox_check"
  },

  "checkbox_unchecked_state@toggle_state_template": {
    "texture": "textures/ui/checkbox_space"
  },

  "checkbox_checked_hover_state@checkbox_checked_state": {
    "texture": "textures/ui/checkbox_checkHover"
  },

  "checkbox_unchecked_hover_state@checkbox_unchecked_state": {
    "texture": "textures/ui/checkbox_spaceHover"
  },

  "checkbox_checked_locked_state@checkbox_checked_state": {
    "texture": "textures/ui/checkbox_checkDisabled"
  },

  "checkbox_unchecked_locked_state@toggle_state_template": {
    "texture": "textures/ui/checkbox_spaceDisabled"
  },

  "radio_toggle_checked_state@checkbox_unchecked_state": {
    "texture": "textures/ui/checkbox_filled"
  },

  "radio_toggle_unchecked_state@checkbox_unchecked_state": {},

  "radio_toggle_checked_hover_state@toggle_state_template": {
    "texture": "textures/ui/checkbox_filled_hover"
  },

  "radio_toggle_unchecked_hover_state@checkbox_unchecked_hover_state": {},

  "radio_toggle_checked_locked_state@toggle_state_template": {
    "texture": "textures/ui/checkbox_filled_disabled"
  },

  "radio_toggle_unchecked_locked_state@checkbox_unchecked_locked_state": {},

  "slider_button_state": {
    "type": "image",
    "layer": 2,
    "texture": "textures/ui/slider_button_default"
  },

  "slider_button_layout@common.slider_button_state": {
    "texture": "textures/ui/slider_button_default"
  },

  "slider_button_hover_layout@common.slider_button_state": {
    "texture": "textures/ui/slider_button_hover"
  },

  "slider_button_locked_layout@common.slider_button_state": {
    "texture": "textures/ui/slider_button_locked"
  },

  "slider_button_indent_layout@common.slider_button_state": {
    "texture": "textures/ui/slider_button_indent"
  },

  "slider_box": {
    "type": "slider_box",
    "layer": 4,
    "size": "$slider_box_size",
    "anchor_to": "center",
    "anchor_from": "center",
    "default_control": "default",
    "hover_control": "hover",
    "locked_control": "locked",
    "indent_control": "indent",
    "controls": [
      {
        "default@$slider_box_layout": {
          "layer": 2
        }
      },
      {
        "hover@$slider_box_hover_layout": {
          "layer": 3
        }
      },
      {
        "indent@$slider_box_indent_layout": {
          "layer": 4
        }
      },
      {
        "locked@$slider_box_locked_layout": {
          "layer": 1,
          "controls": [
            {
              "transparent_grey": {
                "type": "image",
                "texture": "textures/ui/slider_locked_transparent_fade",
                "alpha": 0.5,
                "layer": 5,
                "bindings": [
                  {
                    "binding_type": "$slider_enabled_binding_type",
                    "binding_condition": "$slider_enabled_binding_condition",
                    "binding_collection_name": "$slider_collection_name",
                    "binding_name": "(not $slider_enabled_binding_name)",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "slider_background": {
    "type": "image",
    "texture": "textures/ui/slider_background"
  },

  "slider_background_hover": {
    "type": "image",
    "texture": "textures/ui/slider_background_hover"
  },

  "slider_progress": {
    "type": "image",
    "texture": "textures/ui/slider_progress"
  },

  "slider_progress_hover": {
    "type": "image",
    "texture": "textures/ui/slider_progress_hover"
  },

  "slider_border": {
    "type": "image",
    "texture": "textures/ui/slider_border"
  },

  "slider_bar_default@common.slider_border": {
    "$background_control|default": "common.slider_background",
    "$progress_control|default": "common.slider_progress",
    "$background_control_name|default": "slider_background",
    "$progress_control_name|default": "slider_progress",
    "$progress_clip_direction|default": "left",

    "color": "$slider_default_border_color",

    "controls": [
      {
        "sizing_panel": {
          "type": "panel",
          "size": [ "100% - 2px", "100% - 2px" ],
          "controls": [
            {
              "$background_control_name@$background_control": {
                "layer": 1
              }
            },
            {
              "$progress_control_name@$progress_control": {
                "layer": 3,
                "clip_direction": "$progress_clip_direction",
                "clip_pixelperfect": false
              }
            }
          ]
        }
      },
      {
        "transparent_grey": {
          "type": "image",
          "texture": "textures/ui/slider_locked_transparent_fade",
          "alpha": 0.5,
          "layer": 4,
          "bindings": [
            {
              "binding_type": "$slider_enabled_binding_type",
              "binding_condition": "$slider_enabled_binding_condition",
              "binding_collection_name": "$slider_collection_name",
              "binding_name": "(not $slider_enabled_binding_name)",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "slider_bar_hover@common.slider_bar_default": {
    "color": "$slider_hover_border_color",

    "$background_control": "common.slider_background_hover",
    "$progress_control": "common.slider_progress_hover",
    "$background_control_name": "slider_background_hover",
    "$progress_control_name": "slider_progress_hover"
  },

  "slider_step": {
    "type": "image",
    "texture": "textures/ui/slider_step_background",
    "size": [ 2, 6 ],
    "layer": 4,
    "offset": "$step_offset"
  },

  "slider_step_hover@common.slider_step": {
    "texture": "textures/ui/slider_step_background_hover"
  },

  "slider_step_progress@common.slider_step": {
    "texture": "textures/ui/slider_step_progress"
  },

  "slider_step_progress_hover@common.slider_step": {
    "texture": "textures/ui/slider_step_progress_hover"
  },

  "slider": {
    "type": "slider",

    "$focus_id|default": "",
    "$focus_override_down|default": "",
    "$focus_override_up|default": "",
    "$focus_override_left|default": "",
    "$focus_override_right|default": "",
    "focus_identifier": "$focus_id",
    "focus_change_down": "$focus_override_down",
    "focus_change_up": "$focus_override_up",
    "focus_change_left": "$focus_override_left",
    "focus_change_right": "$focus_override_right",
    "focus_enabled": true,

    "$default_focus_precedence|default": 0,
    "default_focus_precedence": "$default_focus_precedence",

    "$slider_select_on_hover|default": false,
    "slider_select_on_hover": "$slider_select_on_hover",

    "layer": 1,
    "always_listen_to_input": false,
    "always_handle_pointer": true,
    "slider_box_control": "slider_box",

    // Slider box
    "$slider_box_layout|default": "common.slider_button_layout",
    "$slider_box_hover_layout|default": "common.slider_button_hover_layout",
    "$slider_box_locked_layout|default": "common.slider_button_locked_layout",
    "$slider_box_indent_layout|default": "common.slider_button_indent_layout",
    "$slider_box_size|default": [ 10, 16 ],

    // Slider
    "$slider_track_button|default": "button.slider_skip_track",
    "$slider_direction|default": "horizontal",
    "$slider_steps|default": 1,
    "$slider_collection_name|default": "",

    "slider_name": "$slider_name",
    "slider_track_button": "$slider_name",
    "slider_direction": "$slider_direction",
    "slider_steps": "$slider_steps",
    "slider_collection_name": "$slider_collection_name",
    "$slider_binding_type|default": "global",
    "$slider_binding_condition|default": "visible",
    "$slider_value_binding_name|default": "#slider_value",
    "$slider_steps_binding_type|default": "global",
    "$slider_steps_binding_condition|default": "visible",
    "$slider_steps_binding_name|default": "#slider_steps",
    "$slider_enabled_binding_type|default": "none",
    "$slider_enabled_binding_condition|default": "visible",
    "$slider_enabled_binding_name|default": "#slider_enabled",
    "$slider_timeout_binding_type|default": "none",
    "$slider_timeout_binding_condition|default": "once",
    "$slider_timeout_binding_name|default": "#slider_timeout",

    "$slider_tts_binding_type|default": "global",
    "$slider_tts_binding_condition|default": "visible",

    "$slider_tts_header|default": "",
    "$slider_tts_header_binding_type|default": "none",
    "$slider_tts_header_binding_condition|default": "visible",
    "$slider_header_collection_name": "",
    "$slider_tts_override_value|default": " ", // The header will likely always displays the slider value
    "$slider_tts_name|default": "accessibility.slider.tts.title",
    "$slider_tts_text_value|default": "",
    "$tts_section_header|default": "",

    "default_control": "slider_bar_default",
    "hover_control": "slider_bar_hover",
    "background_control": "slider_background",
    "background_hover_control": "slider_background_hover",
    "progress_control": "slider_progress",
    "progress_hover_control": "slider_progress_hover",

    "tts_control_header": "$slider_tts_header",
    "tts_section_header": "$tts_section_header",
    "tts_override_control_value": "$slider_tts_override_value",
    "tts_name": "$slider_tts_name",
    "tts_value_changed": "$slider_tts_text_value",


    "$slider_small_decrease_button|default": "slider.small_decrease",
    "$slider_small_increase_button|default": "slider.small_increase",
    "$slider_selected_button|default": "slider.selected",
    "$slider_deselected_button|default": "slider.deselected",

    "slider_small_decrease_button": "$slider_small_decrease_button",
    "slider_small_increase_button": "$slider_small_increase_button",
    "slider_selected_button": "$slider_selected_button",
    "slider_deselected_button": "$slider_deselected_button",

    "$slider_step_factory_control_ids": {
      "slider_step": "@common.slider_step",
      "slider_step_hover": "@common.slider_step_hover",
      "slider_step_progress": "@common.slider_step_progress",
      "slider_step_progress_hover": "@common.slider_step_progress_hover"
    },

    "factory": {
      "name": "slider_step_factory",
      "control_ids": "$slider_step_factory_control_ids"
    },

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$slider_name",
        "mapping_type": "pressed",
        "button_up_right_of_first_refusal": true
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$slider_selected_button",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$slider_deselected_button",
        "mapping_type": "focused"
      },
      {
        "ignored": "($slider_direction = 'vertical')",
        "from_button_id": "button.menu_left",
        "to_button_id": "$slider_small_decrease_button",
        "mapping_type": "pressed",
        "ignore_input_scope": true
      },
      {
        "ignored": "($slider_direction = 'horizontal')",
        "from_button_id": "button.menu_up",
        "to_button_id": "$slider_small_decrease_button",
        "mapping_type": "pressed",
        "ignore_input_scope": true
      },
      {
        "ignored": "($slider_direction = 'vertical')",
        "from_button_id": "button.menu_right",
        "to_button_id": "$slider_small_increase_button",
        "mapping_type": "pressed",
        "ignore_input_scope": true
      },
      {
        "ignored": "($slider_direction = 'horizontal')",
        "from_button_id": "button.menu_down",
        "to_button_id": "$slider_small_increase_button",
        "mapping_type": "pressed",
        "ignore_input_scope": true
      }
    ],
    "controls": [
      {
        "slider_box@common.slider_box": {
          "$slider_box_layout": "$slider_box_layout",
          "$slider_box_size": "$slider_box_size",
          "$slider_track_button": "$slider_name"
        }
      },
      {
        "slider_bar_default@common.slider_bar_default": {}
      },
      {
        "slider_bar_hover@common.slider_bar_hover": {
          "visible": false
        }
      }
    ],
    "property_bag": {
      "#slider_steps": 1,
      "#slider_value": 0,
      "#slider_timeout": 0.25
    },
    "bindings": [
      {
        "binding_type": "$slider_steps_binding_type",
        "binding_condition": "$slider_steps_binding_condition",
        "binding_collection_name": "$slider_collection_name",
        "binding_name": "$slider_steps_binding_name",
        "binding_name_override": "#slider_steps"
      },
      {
        "binding_type": "$slider_binding_type",
        "binding_condition": "$slider_binding_condition",
        "binding_collection_name": "$slider_collection_name",
        "binding_name": "$slider_value_binding_name",
        "binding_name_override": "#slider_value"
      },
      {
        "binding_type": "$slider_enabled_binding_type",
        "binding_condition": "$slider_enabled_binding_condition",
        "binding_collection_name": "$slider_collection_name",
        "binding_name": "$slider_enabled_binding_name",
        "binding_name_override": "#enabled"
      },
      {
        "binding_type": "$slider_tts_binding_type",
        "binding_condition": "$slider_tts_binding_condition",
        "binding_collection_name": "$slider_collection_name",
        "binding_name": "$slider_tts_text_value"
      },
      {
        "binding_type": "$slider_tts_header_binding_type",
        "binding_condition": "$slider_tts_header_binding_condition",
        "binding_collection_name": "$slider_header_collection_name",
        "binding_name": "$slider_tts_header"
      },
      {
        "binding_type": "$slider_timeout_binding_type",
        "binding_condition": "$slider_timeout_binding_condition",
        "binding_collection_name": "$slider_collection_name",
        "binding_name": "$slider_timeout_binding_name",
        "binding_name_override": "#slider_timeout"
      }
    ]
  },

  "dropdown_background": {
    "layer": 1,
    "type": "image",
    "texture": "textures/ui/dropdown_background"
  },

  "dropdown": {
    "type": "panel",

    "$dropdown_content|default": "common.empty_panel",
    "$dropdown_toggle|default": "common.checkbox",
    "$dropdown_name|default": "dropdown_control",
    "$dropdown_scroll_content_size|default": [ "100%", "500%" ],
    "$dropdown_toggle_name|default": "($dropdown_name + '_toggle')",
    "$dropdown_background|default": "common.dropdown_background",

    "controls": [
      {
        "$dropdown_name@$dropdown_toggle": {
          "type": "dropdown",
          "$toggle_view_binding_name": "$dropdown_name",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "dropdown_name": "$dropdown_name",
          "dropdown_content_control": "dropdown_content",
          "dropdown_area": "$dropdown_area",
          "$toggle_name": "$dropdown_name",
          "$toggle_state_binding_name": "('#' + $dropdown_name)",
          "$toggle_tts_name": "accessibility.dropdown.tts.title",
          "$toggle_tts_toggle_on_text": "",
          "$toggle_tts_toggle_off_text": "",
          "tts_control_type_order_priority": -1 // This should happen before labels whose default starts at 0
        }
      },
      {
        "dropdown_content": {
          "type": "input_panel",
          // we really want this on top of everything
          "layer": 42,
          "size": "$dropdown_scroll_content_size",
          "$anchor_dropdown_content_from|default": "top_left",
          "$anchor_dropdown_content_to|default": "top_left",
          "anchor_from": "$anchor_dropdown_content_from",
          "anchor_to": "$anchor_dropdown_content_to",
          "modal": true,
          "property_bag": {
            "#is_dropdown": true
          },
          "ttsSectionContainer": true,
          "$dropdown_content_controls|default": [
            {
              "scroll@common.scrolling_panel": {
                "layer": 2,
                "size": [ "100%", "100%" ],
                "$scrolling_pane_size": [ "100%", "100%" ],
                "$scrolling_content": "$dropdown_content",
                "$scroll_view_port_size": [ "100% - 4px", "100% - 4px" ],
                "$scroll_view_port_size_touch": [ "100% - 4px", "100% - 4px" ],
                "$scroll_view_port_offset": [ 2, 2 ],
                "$scroll_view_port_offset_touch": [ 2, 2 ],
                "$scroll_size": [ 5, "100%-2px" ],
                "$scroll_size_touch": [ 5, "100%-2px" ],
                "$scroll_background_image_control": "$dropdown_background",
                "$background_size": [ "100%", "100%" ],
                "$background_size_touch": [ "100%", "100%" ],
                "$show_background": true,
                "$scroll_bar_contained": true,
                "$scroll_bar_contained_touch": true
              }
            }
          ],
          "controls": "$dropdown_content_controls",
          "bindings": [
            {
              "binding_type": "view",
              "source_control_name": "($dropdown_name)",
              "source_property_name": "#toggle_state",
              "target_property_name": "#visible",
              "resolve_sibling_scope": true
            }
          ],
          "button_mappings": [
            {
              "from_button_id": "button.menu_cancel",
              "to_button_id": "button.dropdown_exit",
              "mapping_type": "global"
            },
            {
              "from_button_id": "button.menu_ok",
              "to_button_id": "button.dropdown_exit",
              "mapping_type": "global"
            },
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "button.dropdown_exit",
              "mapping_type": "global"
            },
            {
              "from_button_id": "button.menu_up",
              "to_button_id": "button.menu_up",
              "mapping_type": "global",
              "scope": "view"
            },
            {
              "from_button_id": "button.menu_down",
              "to_button_id": "button.menu_down",
              "mapping_type": "global",
              "scope": "view"
            },
            {
              "from_button_id": "button.menu_left",
              "to_button_id": "button.menu_left",
              "mapping_type": "global",
              "scope": "view"
            },
            {
              "from_button_id": "button.menu_right",
              "to_button_id": "button.menu_right",
              "mapping_type": "global",
              "scope": "view"
            }
          ]
        }
      }
    ]
  },

  "dropdown_no_scrollpanel@common.dropdown": {
    "$dropdown_scroll_content_size": [ "100%", "100%c" ],
    "$dropdown_content_controls": [
      {
        "background@$dropdown_background": {
          "layer": 1,
          "size": "$dropdown_scroll_content_size",
          "controls": [
            {
              "content@$dropdown_content": {
                "layer": 1
              }
            }
          ]
        }
      }
    ]
  },

  // This copy is for the border of images that we want to be allow to be overridden separately with resource packs - we want this to be different from button use
  "square_image_border_white": {
    "type": "image",
    "layer": 2,
    "texture": "textures/ui/square_image_border_white"
  },

  "focus_border_white": {
    "type": "image",
    "layer": 2,
    "texture": "textures/ui/focus_border_white"
  },

  "focus_border_yellow@common.focus_border_white": {
    "color": [ 1.0, 1.0, 0.0, 1.0 ]
  },

  "focus_border_black@common.focus_border_white": {
    "color": [ 0.0, 0.0, 0.0, 1.0 ]
  },

  "non_interact_focus_border": {
    "type": "image",
    "texture": "textures/ui/square_image_border_white",
    "color": "$non_interact_border_color"
  },

  "non_interact_focus_border_button@common.button": {
    "size": [ "100%", "100%" ],
    "sound_volume": 0.0,
    "$pressed_button_name|default": "button.focus_filler", // This event is not intended to be handled anywhere
    "$button_tts_name": "", // We don't want TTS to say "button" here
    "$default_focus_border_control|default": "common.empty_panel",
    "$hover_focus_border_control|default": "common.non_interact_focus_border",
    "$pressed_focus_border_control|default": "common.non_interact_focus_border",
    "$content_inside|default": "common.empty_panel",
    "$border_size|default": [ "100%", "100%" ],

    "controls": [
      {
        "default@$default_focus_border_control": {
          "size": "$border_size"
        }
      },
      {
        "hover@$hover_focus_border_control": {
          "size": "$border_size"
        }
      },
      {
        "pressed@$pressed_focus_border_control": {
          "size": "$border_size"
        }
      },
      { "content@$content_inside": {} }
    ]
  },

  "tts_label_focus_wrapper": {
    "type": "panel",
    "$tts_label_panel|default": "common.empty_panel",
    "$focus_border_size|default": [ "100%", "100%sm" ],
    "$focus_border_anchor|default": "center",
    "$focus_border_offset|default": [ 0, 0 ],
    "$focus_border_precedence|default": 0,
    "$focus_border_consume_hover_events|default": true,
    "size": [ "100%", "100%cm" ],
    "controls": [
      {
        "label@$tts_label_panel": {}
      },
      {
        "focus_border@common.non_interact_focus_border_button": {
          "size": "$focus_border_size",
          "tts_inherit_siblings": true,
          "anchor_from": "$focus_border_anchor",
          "anchor_to": "$focus_border_anchor",
          "offset": "$focus_border_offset",
          "default_focus_precedence": "$focus_border_precedence",
          "$focus_border_visible_binding|default": "#tts_enabled",
          "$focus_border_visible_binding_override|default": "#visible",
          "$focus_border_visible_binding_type|default": "global",
          "consume_hover_events": "$focus_border_consume_hover_events",
          "bindings": [
            {
              "binding_type": "$focus_border_visible_binding_type",
              "binding_name": "$focus_border_visible_binding",
              "binding_name_override": "$focus_border_visible_binding_override"
            }
          ]
        }
      }
    ]
  },

  "default_indent": {
    "type": "image",
    "texture": "textures/ui/default_indent"
  },

  "edit_box_indent": {
    "type": "image",
    "texture": "textures/ui/edit_box_indent",
    "alpha": "$alpha",
    "$alpha|default": 1.0
  },

  "edit_box_indent_hover@common.edit_box_indent": {
    "texture": "textures/ui/edit_box_indent_hover"
  },

  "transparent_edit_box_indent": {
    "type": "image",
    "texture": "$box_texture",
    "alpha": "$alpha",
    "$alpha|default": 1.0
  },

  "transparent_edit_box_indent_hover": {
    "type": "image",
    "texture": "textures/ui/edit_box_indent_hover",
    "alpha": "$hover_alpha",
    "$alpha|default": 1.0
  },


  "text_edit_box_label": {
    "type": "label",

    "localize": false,
    "enable_profanity_filter": "$enable_profanity_filter",
    "shadow": "$shadow",
    "color": "$text_box_text_color",
    "locked_color": "$locked_color",
    "alpha": "$text_alpha",
    "locked_alpha": "$locked_text_alpha",
    "font_size": "$font_size",
    "text_alignment": "$text_alignment",

    "$shadow|default": false,
    "$enable_profanity_filter|default": false,
    "$newline_refresh|default": "#newline_refresh",
    "$text_alpha|default": 1.0,
    "$locked_color|default": [ 1.0, 1.0, 1.0, 1.0 ],
    "$locked_text_alpha|default": 0.5,
    "$font_size|default": "normal",
    "$text_alignment|default": "left",

    "$text_edit_box_content_binding_type|default": "global",
    "$text_edit_box_content_binding_name|default": "#text_box_item_name",
    "$text_edit_box_binding_condition|default": "visible",
    "$text_box_name|default": "#text_box_name",

    "$text_color_binding_name|default": "#edit_box_text_color",
    "$text_color_binding_type|default": "none",

    "text": "#item_name",
    "$text_edit_box_binding_type": "global",
    "$text_edit_box_binding_collection_name": "",

    "$text_box_tts_name|default": "",
    "tts_name": "$text_box_tts_name",

    "property_bag": {
      "#property_field": "#item_name"
    },
    "bindings": [
      {
        "binding_type": "$text_edit_box_content_binding_type",
        "binding_condition": "$text_edit_box_binding_condition",
        "binding_collection_name": "$text_edit_box_grid_collection_name",
        "binding_name": "$text_edit_box_content_binding_name",
        "binding_name_override": "#item_name"
      },
      {
        "binding_type": "$text_color_binding_type",
        "binding_name": "$text_color_binding_name",
        "binding_name_override": "#color"
      },
      {
        "binding_name": "#newline_refresh"
      }
    ]
  },

  "text_edit_box_place_holder_label": {
    "type": "label",

    "localize": true,
    "shadow": "$shadow",
    "color": "$place_holder_text_color",
    "locked_color": "$text_box_locked_text_color",
    "alpha": "$text_alpha",
    "locked_alpha": "$locked_text_alpha",
    "font_size": "$font_size",
    "text_alignment": "$text_alignment",

    "$shadow|default": false,
    "$text_alpha|default": 1.0,
    "$locked_text_alpha|default": 0.5,
    "$font_size|default": "normal",
    "$text_alignment|default": "left",

    "$text_edit_box_placeholder_content_binding_type|default": "global",
    "$text_edit_box_placeholder_content_binding_name|default": "#text_box_item_name",
    "$text_edit_box_placeholder_binding_condition|default": "visible",
    "$text_box_name|default": "#text_box_name",

    "$place_holder_text|default": "",

    "text": "$place_holder_text",
    "$text_edit_box_placeholder_binding_type": "global",
    "$text_edit_box_placeholder_binding_collection_name": "",

    "bindings": [
      {
        "binding_type": "$text_edit_box_placeholder_content_binding_type",
        "binding_condition": "$text_edit_box_placeholder_binding_condition",
        "binding_collection_name": "$text_edit_box_grid_collection_name",
        "binding_name": "$text_edit_box_placeholder_content_binding_name"
      }
    ]
  },

  "text_magnifying_glass_image": {
    "type": "image",
    "texture": "textures/ui/magnifying_glass.png",
    "layer": 10
  },

  "text_close_X_button_image": {
    "type": "image",
    "texture": "textures/ui/close_X_button.png"
  },

  "text_close_X_button_image_hover": {
    "type": "image",
    "texture": "textures/ui/close_X_button_hover.png"
  },

  "clear_text_button": {
    "type": "button",
    "layer": 10,
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.text_edit_box_clear",
        "mapping_type": "pressed"
      }
    ],
    "controls": [
      { "default@common.text_close_X_button_image": {} },
      { "hover@common.text_close_X_button_image_hover": {} },
      { "pressed@common.text_close_X_button_image_hover": {} }
    ]
  },

  "text_edit_box": {
    "type": "edit_box",

    "$focus_id|default": "",
    "$focus_override_down|default": "",
    "$focus_override_up|default": "",
    "$focus_override_left|default": "",
    "$focus_override_right|default": "",
    "focus_identifier": "$focus_id",
    "focus_change_down": "$focus_override_down",
    "focus_change_up": "$focus_override_up",
    "focus_change_left": "$focus_override_left",
    "focus_change_right": "$focus_override_right",
    "focus_enabled": true,

    "anchor_from": "center",
    "anchor_to": "center",
    "layer": 1,
    "enabled": "#enabled",

    "$text_box_name|default": "#text_box_name",
    "$text_box_enabled_binding_name|default": "#text_box_enabled",
    "$text_edit_box_enabled_binding_type|default": "global",
    "$text_edit_box_grid_collection_name|default": "",
    "$text_edit_clipping_panel_size|default": [ "100%", "100%" ],
    "$text_edit_box_label_size|default": [ "default", "default" ],
    "$text_edit_box_label_anchor_point|default": "right_middle",
    "$text_edit_box_label_min_size|default": [ "100%", 0 ],
    "$text_edit_box_label_offset|default": [ 0, 0 ],

    "text_box_name": "$text_box_name",
    "text_edit_box_grid_collection_name": "$text_edit_box_grid_collection_name",

    "$deselectable_binding_type|default": "none",
    "$deselectable_binding_name|default": "#can_be_deselected",

    "$text_edit_box_focusable_binding_name|default": "#text_edit_box_focusable",

    "$text_edit_visible_binding_name|default": "#text_edit_box_visible",
    "$text_edit_visible_binding_collection_name|default": "",
    "$text_edit_visible_binding_type|default": "none",

    "$text_edit_type_name|default": "accessibility.textbox.tts.title",
    "$text_box_tts_header|default": "",
    "$tts_section_header|default": "",

    "tts_name": "$text_edit_type_name",
    "tts_control_header": "$text_box_tts_header",
    "tts_section_header": "$tts_section_header",
    "$tts_override_control_value|default": " ",
    "tts_override_control_value": "$tts_override_control_value",

    "$text_edit_box_collection_details_binding_type|default": "none",
    "$text_edit_box_collection_details_binding_name|default": "",
    "$text_edit_box_collection_details_binding_prefix|default": "",

    "bindings": [
      {
        "binding_type": "$text_edit_box_collection_details_binding_type",
        "binding_collection_name": "$text_edit_box_collection_details_binding_name",
        "binding_collection_prefix": "$text_edit_box_collection_details_binding_prefix"
      },
      {
        "binding_type": "$text_edit_box_enabled_binding_type",
        "binding_collection_name": "$text_edit_box_grid_collection_name",
        "binding_name": "$text_box_enabled_binding_name",
        "binding_name_override": "#enabled"
      },
      {
        "binding_type": "$deselectable_binding_type",
        "binding_name": "$deselectable_binding_name",
        "binding_name_override": "#can_be_deselected"
      },
      {
        "binding_type": "none",
        "binding_name": "$text_edit_box_focusable_binding_name",
        "binding_name_override": "#focus_enabled"
      },
      {
        "binding_name": "$text_edit_visible_binding_name",
        "binding_name_override": "#visible",
        "binding_type": "$text_edit_visible_binding_type",
        "binding_collection_name": "$text_edit_visible_binding_collection_name"
      }
    ],

    "locked_control": "locked",
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",

    "max_length": 14,
    "$text_edit_box_text_type|default": "ExtendedASCII",
    "text_type": "$text_edit_box_text_type",

    "$virtual_keyboard_buffer_control|default": "",
    "virtual_keyboard_buffer_control": "$virtual_keyboard_buffer_control",

    "$text_edit_text_control|default": "display_text",
    "text_control": "$text_edit_text_control",
    "$place_holder_control": "common.text_edit_box_place_holder_label",
    "$text_background_default": "common.edit_box_indent",
    "$text_background_hover": "common.edit_box_indent_hover",
    "place_holder_control": "place_holder_control",

    "$text_edit_box_hovered_button_id|default": "button.text_edit_box_hovered",

    "$text_edit_box_clear_from_button_id|default": "button.menu_clear",
    "$text_edit_box_clear_to_button_id|default": "button.text_edit_box_clear",
    "$text_edit_box_clear_scope|default": "view",

    "$text_edit_box_selected_to_button_id|default": "button.text_edit_box_selected",
    "$text_edit_box_deselected_to_button_id|default": "button.text_edit_box_deselected",

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$text_edit_box_selected_to_button_id",
        "handle_select": true,
        "handle_deselect": false,
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$text_edit_box_selected_to_button_id",
        "handle_select": false,
        "handle_deselect": true,
        "mapping_type": "global",
        // Deselect textbox and allow selection of another UI control with same mouse press
        "consume_event": false
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$text_edit_box_selected_to_button_id",
        "handle_select": true,
        "handle_deselect": true,
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$text_edit_box_selected_to_button_id",
        "handle_select": false,
        "handle_deselect": true,
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$text_edit_box_deselected_to_button_id",
        "handle_select": false,
        "handle_deselect": true,
        "mapping_type": "global"
      },
      {
        "to_button_id": "$text_edit_box_hovered_button_id",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "$text_edit_box_clear_from_button_id",
        "to_button_id": "$text_edit_box_clear_to_button_id",
        "handle_select": false,
        "handle_deselect": false,
        "mapping_type": "focused"
      }
    ],

    "$shadow": false,
    "$font_size": "normal",
    "$color|default": [ 1, 1, 1, 1 ],
    "$alpha|default": 1.0,
    "$disabled_alpha|default": 0.5,
    "$text_offset|default": [ 0, 0 ],

    "$place_holder_text_hover_color|default": "$text_box_text_color",
    "place_holder_text_hover_color": "$place_holder_text_hover_color",

    "$text_clear_button_enabled|default": false,
    "$text_clear_button_size|default": [ 15, 15 ],
    "$text_clear_button_offset|default": [ 0, 0 ],
    "$magnifying_glass_enabled|default": false,
    "$magnifying_glass_size|default": [ 10, 10 ],
    "$magnifying_glass_offset|default": [ 0, 0 ],

    "controls": [
      {
        "centering_panel": {
          "type": "panel",
          "size": [ "100% - 6px", "100% - 4px" ],
          "controls": [
            {
              "clipper_panel": {
                "type": "panel",
                "size": "$text_edit_clipping_panel_size",
                "anchor_from": "left_middle",
                "anchor_to": "left_middle",
                "offset": "$text_offset",
                "clips_children": true,
                "$disabled_color|default": "$color",
                "controls": [
                  {
                    "$text_edit_text_control@common.text_edit_box_label": {
                      "layer": 1,
                      "size": "$text_edit_box_label_size",
                      "offset": "$text_edit_box_label_offset",
                      "min_size": "$text_edit_box_label_min_size",
                      "anchor_from": "$text_edit_box_label_anchor_point",
                      "anchor_to": "$text_edit_box_label_anchor_point",
                      "font_size": "$font_size",
                      "$text_alpha|default": "$alpha",
                      "$locked_text_alpha|default": "$disabled_alpha",
                      "$locked_color|default": "$disabled_color"
                    }
                  },
                  {
                    "magnifying_glass@common.text_magnifying_glass_image": {
                      "anchor_from": "left_middle",
                      "anchor_to": "left_middle",
                      "visible": "$magnifying_glass_enabled",
                      "size": "$magnifying_glass_size",
                      "offset": "$magnifying_glass_offset"
                    }
                  },
                  {
                    "clear_text_button_panel": {
                      "type": "panel",
                      "size": [ "100%", "100%" ],
                      "visible": "$text_clear_button_enabled",
                      "controls": [
                        {
                          "clear_text_button@common.clear_text_button": {
                            "anchor_from": "right_middle",
                            "anchor_to": "right_middle",
                            "size": "$text_clear_button_size",
                            "offset": "$text_clear_button_offset",
                            "bindings": [
                              {
                                "binding_type": "global",
                                "binding_name": "#show_clear_text_button",
                                "binding_name_override": "#visible"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  },
                  {
                    "visibility_panel": {
                      "type": "panel",
                      "$placeholder_label_size|default": "$text_edit_box_label_size",
                      "controls": [
                        {
                          "place_holder_control@$place_holder_control": {
                            "layer": 1,
                            "size": "$placeholder_label_size",
                            "offset": "$text_edit_box_label_offset",
                            "min_size": "$text_edit_box_label_min_size",
                            "anchor_from": "$text_edit_box_label_anchor_point",
                            "anchor_to": "$text_edit_box_label_anchor_point",
                            "$text_alpha|default": "$alpha",
                            "$locked_text_alpha|default": "$disabled_alpha",
                            "$locked_color|default": "$disabled_color"
                          }
                        }
                      ],

                      "bindings": [
                        {
                          "binding_type": "view",
                          "source_control_name": "$text_edit_text_control",
                          "source_property_name": "(#item_name = '')",
                          "target_property_name": "#visible",
                          "resolve_sibling_scope": true
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "locked": {
          "type": "panel",
          "$disabled_color|default": "$color",
          "controls": [
            {
              "edit_box_indent@$text_background_default": {
                "$color": "$disabled_color",
                "$alpha": "$disabled_alpha"
              }
            }
          ]
        }
      },
      { "default@$text_background_default": {} },
      { "hover@$text_background_hover": {} },
      { "pressed@$text_background_hover": {} }
    ]
  },

  "text_edit_box_scrolling_content": {
    "type": "input_panel",
    "focus_enabled": true,
    "size": [ "100%", "100%c" ],
    "$scrolling_content_anchor_from": "top_middle",
    "$scrolling_content_anchor_to": "top_middle",
    "controls": [
      {
        "$text_edit_text_control@common.text_edit_box_label": {
          "layer": 1,
          "size": [ "100%", "default" ],
          "anchor_from": "top_middle",
          "anchor_to": "top_middle",
          "font_size": "normal",
          "$text_box_tts_name": "accessibility.textbox.tts.title"
        }
      }
    ]
  },

  "scrollable_text_edit_box@common.text_edit_box": {
    "controls": [
      {
        "centering_panel": {
          "type": "panel",
          "size": [ "100% - 6px", "100% - 4px" ],
          "controls": [
            {
              "clipper_panel": {
                "type": "panel",
                "size": "$text_edit_clipping_panel_size",
                "anchor_from": "left_middle",
                "anchor_to": "left_middle",
                "offset": "$text_offset",
                "clips_children": true,
                "$disabled_color|default": "$color",
                "controls": [
                  {
                    "text_edit_text_control@common.scrolling_panel": {
                      "size": [ "100%", "100%" ],
                      "$scroll_size": [ 6, "100%-4px" ],
                      "anchor_from": "top_middle",
                      "anchor_to": "top_middle",
                      "$scrolling_content": "common.text_edit_box_scrolling_content",
                      "$scrolling_content_anchor_from": "top_middle",
                      "$scrolling_content_anchor_to": "top_middle",
                      "$show_background": false,
                      "$scroll_panel_consume_hover_events": false,
                      "$scroll_bar_left_padding_size": [ 0, 0 ],
                      "$scroll_bar_right_padding_size": [ 2, 0 ]
                    }
                  },
                  {
                    "visibility_panel": {
                      "type": "panel",
                      "controls": [
                        {
                          "place_holder_control@$place_holder_control": {
                            "layer": 1,
                            "size": "$text_edit_box_label_size",
                            "offset": "$text_edit_box_label_offset",
                            "min_size": "$text_edit_box_label_min_size",
                            "anchor_from": "$text_edit_box_label_anchor_point",
                            "anchor_to": "$text_edit_box_label_anchor_point",
                            "$text_alpha|default": "$alpha",
                            "$locked_text_alpha|default": "$disabled_alpha",
                            "$locked_color|default": "$disabled_color"
                          }
                        }
                      ],

                      "bindings": [
                        {
                          "binding_type": "view",
                          "source_control_name": "$text_edit_text_control",
                          "source_property_name": "(#item_name = '')",
                          "target_property_name": "#visible",
                          "resolve_sibling_scope": true
                        }
                      ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "locked": {
          "type": "panel",
          "$disabled_color|default": "$color",
          "controls": [
            {
              "edit_box_indent@$text_background_default": {
                "$color": "$disabled_color",
                "$alpha": "$disabled_alpha"
              }
            }
          ]
        }
      },
      { "default@$text_background_default": {} },
      { "hover@$text_background_hover": {} },
      { "pressed@$text_background_hover": {} }
    ]
  },

  "transparent_text_edit_box": {
    "type": "edit_box",

    "$focus_id|default": "",
    "$focus_override_down|default": "",
    "$focus_override_up|default": "",
    "$focus_override_left|default": "",
    "$focus_override_right|default": "",
    "focus_identifier": "$focus_id",
    "focus_change_down": "$focus_override_down",
    "focus_change_up": "$focus_override_up",
    "focus_change_left": "$focus_override_left",
    "focus_change_right": "$focus_override_right",
    "focus_enabled": true,

    "anchor_from": "center",
    "anchor_to": "center",
    "layer": 1,
    "enabled": "#enabled",

    "$text_box_name|default": "#text_box_name",
    "$text_box_enabled_binding_name|default": "#text_box_enabled",
    "$text_edit_box_enabled_binding_type|default": "global",
    "$text_edit_box_grid_collection_name|default": "",
    "$text_edit_box_label_size|default": [ "default", "default" ],
    "$text_edit_box_label_anchor_point|default": "right_middle",
    "$text_edit_box_label_min_size|default": [ "100%", 0 ],
    "$text_edit_box_label_offset|default": [ 0, 0 ],

    "text_box_name": "$text_box_name",
    "text_edit_box_grid_collection_name": "$text_edit_box_grid_collection_name",

    "bindings": [
      {
        "binding_type": "$text_edit_box_enabled_binding_type",
        "binding_collection_name": "$text_edit_box_grid_collection_name",
        "binding_name": "$text_box_enabled_binding_name",
        "binding_name_override": "#enabled"
      }
    ],

    "locked_control": "locked",
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",

    "max_length": 14,
    "text_type": "ExtendedASCII",
    "$box_texture|default": "textures/ui/imagetaggedcorner",

    "$text_edit_text_control|default": "display_text",
    "text_control": "$text_edit_text_control",
    "$place_holder_control": "common.text_edit_box_place_holder_label",
    "$text_background_default": "common.transparent_edit_box_indent",
    "$text_background_hover": "common.transparent_edit_box_indent_hover",
    "place_holder_control": "place_holder_control",

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.menu_select",
        "handle_select": true,
        "handle_deselect": false,
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.menu_select",
        "handle_select": true,
        "handle_deselect": true,
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "button.menu_cancel",
        "handle_select": false,
        "handle_deselect": true,
        "mapping_type": "global"
      }
    ],

    "$shadow": false,
    "$font_size": "normal",
    "$color|default": [ 1, 1, 1, 1 ],
    "$alpha|default": 1.0,
    "$hover_alpha|default": 1.0,
    "$disabled_alpha|default": 0.5,
    "$text_offset|default": [ 0, 0 ],
    "$place_holder_text_hover_color|default": "$text_box_text_color",
    "place_holder_text_hover_color": "$place_holder_text_hover_color",

    "controls": [
      {
        "clipper_panel": {
          "type": "panel",
          "size": [ "100% - 6px", "100% - 4px" ],
          "anchor_from": "center",
          "anchor_to": "center",
          "offset": "$text_offset",
          "clips_children": true,
          "$disabled_color|default": "$color",
          "controls": [
            {
              "$text_edit_text_control@common.text_edit_box_label": {
                "layer": 1,
                "size": "$text_edit_box_label_size",
                "offset": "$text_edit_box_label_offset",
                "min_size": "$text_edit_box_label_min_size",
                "anchor_from": "$text_edit_box_label_anchor_point",
                "anchor_to": "$text_edit_box_label_anchor_point",
                "font_size": "$font_size",
                "$text_alpha|default": "$alpha",
                "$locked_text_alpha|default": "$disabled_alpha",
                "$locked_color|default": "$disabled_color",
                "$text_box_tts_name": "accessibility.textbox.tts.title"
              }
            },
            {
              "visibility_panel": {
                "type": "panel",
                "controls": [
                  {
                    "place_holder_control@$place_holder_control": {
                      "layer": 1,
                      "size": "$text_edit_box_label_size",
                      "offset": "$text_edit_box_label_offset",
                      "min_size": "$text_edit_box_label_min_size",
                      "anchor_from": "$text_edit_box_label_anchor_point",
                      "anchor_to": "$text_edit_box_label_anchor_point",
                      "$text_alpha|default": "$alpha",
                      "$locked_text_alpha|default": "$disabled_alpha",
                      "$locked_color|default": "$disabled_color"
                    }
                  }
                ],

                "bindings": [
                  {
                    "binding_type": "view",
                    "source_control_name": "$text_edit_text_control",
                    "source_property_name": "(#item_name = '')",
                    "target_property_name": "#visible",
                    "resolve_sibling_scope": true
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "locked": {
          "type": "panel",
          "$disabled_color|default": "$color",
          "controls": [
            {
              "edit_box_indent@$text_background_default": {
                "$color": "$disabled_color",
                "$alpha": "$disabled_alpha"
              }
            }
          ]
        }
      },
      { "default@$text_background_default": {} },
      { "hover@$text_background_hover": {} },
      { "pressed@$text_background_hover": {} }
    ]
  },

  "multiline_text_edit_box@common.text_edit_box": {
    "enabled_newline": true,
    "max_length": 100,
    "$text_edit_box_label_size": [ "100%", "100%" ],

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$text_edit_box_selected_to_button_id",
        "handle_select": true,
        "handle_deselect": false,
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$text_edit_box_selected_to_button_id",
        "handle_select": false,
        "handle_deselect": true,
        "mapping_type": "global",
        "consume_event": false
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$text_edit_box_selected_to_button_id",
        "handle_select": true,
        "handle_deselect": false,
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$text_edit_box_deselected_to_button_id",
        "handle_select": false,
        "handle_deselect": true,
        "mapping_type": "global"
      },
      {
        "to_button_id": "$text_edit_box_hovered_button_id",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "$text_edit_box_clear_from_button_id",
        "to_button_id": "$text_edit_box_clear_to_button_id",
        "handle_select": false,
        "handle_deselect": false,
        "mapping_type": "focused"
      }
    ]
  },

  "scrollable_multiline_text_edit_box@common.scrollable_text_edit_box": {
    "enabled_newline": true,
    "max_length": 100,
    "$text_edit_box_label_size": [ "100%", "100%" ],

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$text_edit_box_selected_to_button_id",
        "handle_select": true,
        "handle_deselect": false,
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$text_edit_box_selected_to_button_id",
        "handle_select": false,
        "handle_deselect": true,
        "mapping_type": "global",
        "consume_event": false
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$text_edit_box_selected_to_button_id",
        "handle_select": true,
        "handle_deselect": false,
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$text_edit_box_deselected_to_button_id",
        "handle_select": false,
        "handle_deselect": true,
        "mapping_type": "global"
      },
      {
        "to_button_id": "$text_edit_box_hovered_button_id",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "$text_edit_box_clear_from_button_id",
        "to_button_id": "$text_edit_box_clear_to_button_id",
        "handle_select": false,
        "handle_deselect": false,
        "mapping_type": "focused"
      }
    ]
  },

  "dirt_background": {
    "type": "image",
    "texture": "textures/ui/bg32",
    "layer": 1,
    "tiled": true
  },

  "portal_background": {
    "type": "image",
    "texture": "textures/ui/portalBg",
    "layer": 1,
    "tiled": true
  },

  "empty_progress_bar": {
    "type": "image",
    "texture": "textures/ui/empty_progress_bar",
    "color": "#color"
  },

  "filled_progress_bar": {
    "type": "image",
    "texture": "textures/ui/filled_progress_bar",
    "clip_direction": "left",
    "color": "#color",
    "bindings": [
      {
        "binding_name": "#progress_percentage",
        "binding_name_override": "#clip_ratio"
      }
    ]
  },

  "empty_progress_bar_beveled": {
    "type": "image",
    "texture": "textures/ui/progress_bar_beveled_empty",
    "color": "#color"
  },

  "progress_bar_beveled_overlay": {
    "type": "image",
    "texture": "textures/ui/progress_bar_beveled_overlay",
    "fill": true,
    "clip_direction": "left",
    "color": "#color",
    "bindings": [
      {
        "binding_name": "$progress_percentage_binding_name",
        "binding_name_override": "#clip_ratio"
      }
    ]
  },

  "filled_progress_bar_for_collections@filled_progress_bar": {
    "clip_pixelperfect": false,
    "bindings": [
      {
        "binding_name": "#progress_percentage",
        "binding_name_override": "#clip_ratio",
        "binding_type": "collection",
        "binding_collection_name": "$progress_bar_collection"
      },
      {
        "binding_name": "#bar_color",
        "binding_name_override": "#color",
        "binding_type": "collection",
        "binding_collection_name": "$progress_bar_collection"
      }
    ]
  },

  "progress_bar": {
    "type": "panel",
    "anchor_from": "top_middle",
    "anchor_to": "top_middle",
    "offset": [ 0, 20 ],
    "size": [ 182, 5 ],
    "controls": [
      {
        "empty_progress_bar@common.empty_progress_bar": {
          "layer": 1
        }
      },
      {
        "filled_progress_bar@common.filled_progress_bar": {
          "layer": 2
        }
      }
    ]
  },

  "progress_bar_for_collections@progress_bar": {
    "controls": [
      {
        "empty_progress_bar@common.empty_progress_bar": {
          "layer": 1
        }
      },
      {
        "filled_progress_bar_for_collections@common.filled_progress_bar_for_collections": {
          "layer": 2
        }
      }
    ]
  },

  "horizontal_divider": {
    "type": "panel",
    "size": [ "100%", "100%c" ],
    "$image_size|default": [ "100%", 1 ],
    "controls": [
      {
        "divider_image": {
          "type": "image",
          "size": "$image_size",
          "texture": "textures/ui/divider3",
          "tiled": "x",
          "alpha": 0.6
        }
      }
    ]
  },

  "vertical_divider": {
    "type": "panel",
    "$size|default": [ "100%c", "100%" ],
    "size": "$size",
    "$image_size|default": [ 1, "100%" ],
    "controls": [
      {
        "divider_image": {
          "type": "image",
          "size": "$image_size",
          "texture": "textures/ui/divider3",
          "tiled": "y",
          "alpha": 0.6
        }
      }
    ]
  },

  "underline": {
    "type": "image",
    "size": [ "100%", 1 ],
    "$texture|default": "textures/ui/underline",
    "$underline_color|default": "$f_color_format",
    "color": "$underline_color",
    "texture": "$texture",
    "alpha": 0.6,
    "tiled": "x",
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left"
  },

  "single_line_label": {
    "type": "panel",
    "$size|default": [ "100%c", "100%c + 3px" ],
    "size": "$size",
    "$single_line_label_offset|default": [ 2, 1 ],
    "$single_label_size|default": [ "default", 10 ],
    "$underline_control|default": "common.empty_panel",
    "$single_line_font_scale_factor|default": 1,
    "$font_type|default": "smooth",
    "$font_size|default": "normal",
    "controls": [
      {
        "label_panel": {
          "type": "label",
          "size": "$single_label_size",
          "offset": "$single_line_label_offset",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "layer": 2,
          "font_type": "$font_type",
          "font_size": "$font_size",

          "font_scale_factor": "$single_line_font_scale_factor",

          "$single_line_label_color|default": "$body_text_color",
          "color": "$single_line_label_color",

          "text_alignment": "left",
          "$single_line_label_text|default": "",
          "text": "$single_line_label_text",

          "controls": "$underline_control",
          "$label_text_bindings|default": [],
          "bindings": "$label_text_bindings"
        }
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////
  // Gamepad helper common
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_helper_icon_description": {
    "type": "label",
    "color": "$gamepad_helper_icon_description_text_color",
    "shadow": "$gamepad_helper_icon_description_shadow",
    "text": "$icon_description_bind",
    "$icon_description_bind|default": "#gamepad_helper_icon_description",
    "$icon_description_bind_type|default": "global",
    "$icon_description_bind_condition|default": "always_when_visible",
    "$gamepad_helper_icon_description_text_color|default": "$gamepad_description_text_color",
    "$gamepad_helper_icon_description_shadow|default": true,
    "bindings": [
      {
        "binding_name": "$icon_description_bind",
        "binding_type": "$icon_description_bind_type",
        "binding_condition": "$icon_description_bind_condition"
      }
    ]
  },

  "gamepad_helper_icon_image": {
    "type": "image",
    "texture": "textures/ui/grey_gamepad_icon_button"
  },

  "keyboard_helper_icon_image": {
    "type": "image",
    "texture": "textures/ui/keyboard_tooltip_icon"
  },

  "gamepad_helper": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "$gamepad_helper_size|default": [ "100%c", 26 ],
    "$gamepad_description_size|default": [ "default", "default" ],
    "$gamepad_description_max_size|default": [ "default", "default" ],
    "$description_panel_size|default": [ "100%c + 2px", 26 ],
    "size": "$gamepad_helper_size",
    "layer": "$gamepad_helper_layer",
    "$gamepad_helper_layer|default": 100,
    "$hide_description|default": false,
    "$gamepad_description|default": "common.gamepad_helper_icon_description",
    "$gamepad_helper_icon_size|default": [ 26, 26 ],
    "$gamepad_helper_icon_image_size|default": [ "100%", "100%" ],
    "$gamepad_description_offset|default": [ -2, 0 ],
    "$gamepad_helper_visible_binding_name|default": "#gamepad_helper_visible",
    "$gamepad_helper_visible_binding_type|default": "global",
    "$gamepad_helper_binding_condition|default": "none",

    "bindings": [
      {
        "binding_type": "$gamepad_helper_visible_binding_type",
        "binding_name": "$gamepad_helper_visible_binding_name",
        "binding_name_override": "#visible",
        "binding_condition": "$gamepad_helper_binding_condition"
      }
    ],
    "controls": [
      {
        "icon_panel": {
          "type": "panel",
          "size": "$gamepad_helper_icon_size",
          "controls": [
            {
              "$icon_image_ref": {
                "$gamepad_icon_size": "$gamepad_helper_icon_image_size",
                "$gamepad_icon_visible_binding_name": "$gamepad_helper_visible_binding_name",
                "$gamepad_icon_visible_binding_type": "$gamepad_helper_visible_binding_type"
              }
            }
          ]
        }
      },
      {
        "description_panel": {
          "ignored": "($hide_description)",
          "type": "panel",
          "size": "$description_panel_size",
          "controls": [
            {
              "desc@$gamepad_description": {
                "size": "$gamepad_description_size",
                "max_size": "$gamepad_description_max_size",
                "offset": "$gamepad_description_offset"
              }
            }
          ]
        }
      }
    ]
  },

  "gamepad_helpers": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "size": [ "100%", 26 ]
  },

  "gamepad_helpers_a_and_b": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "anchor_from": "center",
    "anchor_to": "center",
    "size": [ "100%c", "100%c" ],
    "controls": [
      { "gamepad_helper_a@common.gamepad_helper_a": {} },
      {
        "control": {
          "type": "panel",
          "size": [ 10, 0 ]
        }
      },
      { "gamepad_helper_b@common.gamepad_helper_b": {} }
    ]
  },


  "container_gamepad_helpers@gamepad_helpers": {
    "$x_y_a_b_stack_panel_orientation|default": "horizontal",
    "$x_y_a_b_stack_panel_size|default": [ "100%c", "100%" ],
    "$helper_a_control|default": "common.gamepad_helper_a",
    "$helper_b_control|default": "common.gamepad_helper_b",
    "$helper_x_control|default": "common.gamepad_helper_x",
    "$helper_y_control|default": "common.gamepad_helper_y",
    "controls": [
      {
        "fill_panel": {
          "type": "panel",
          "size": [ "fill", 0 ]
        }
      },
      {
        "buttons": {
          "type": "stack_panel",
          "size": "$x_y_a_b_stack_panel_size",
          "orientation": "$x_y_a_b_stack_panel_orientation",
          "anchor_from": "right_middle",
          "anchor_to": "right_middle",
          "controls": [
            { "gamepad_helper_x@$helper_x_control": {} },
            { "gamepad_helper_a@$helper_a_control": {} },
            { "gamepad_helper_y@$helper_y_control": {} },
            { "gamepad_helper_b@$helper_b_control": {} }
          ]
        }
      },
      {
        "buffer_panel_right": {
          "type": "panel",
          "size": [ 10, 0 ]
        }
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////
  // Gamepad Pocket Trigger and Bumper Helpers
  /////////////////////////////////////////////////////////////////////////////


  "tabs_left_gamepad_helpers": {
    "type": "panel",
    "size": [ 14, "100%" ],
    "controls": [
      {
        "gamepad_helper_left_bumper@common.gamepad_helper_left_bumper": {
          "offset": [ -4, 0 ],
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "$hide_description": true
        }
      },
      {
        "gamepad_helper_left_trigger@common.gamepad_helper_left_trigger": {
          "offset": [ -4, 0 ],
          "anchor_from": "bottom_left",
          "anchor_to": "bottom_left",
          "$hide_description": true
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#gamepad_helper_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "tabs_right_gamepad_helpers": {
    "type": "panel",
    "size": [ 14, "100%" ],
    "controls": [
      {
        "gamepad_helper_right_bumper@common.gamepad_helper_right_bumper": {
          "offset": [ 4, 0 ],
          "anchor_from": "top_right",
          "anchor_to": "top_right",
          "$hide_description": true
        }
      },
      {
        "gamepad_helper_right_trigger@common.gamepad_helper_right_trigger": {
          "offset": [ 4, 0 ],
          "anchor_from": "bottom_right",
          "anchor_to": "bottom_right",
          "$hide_description": true
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#gamepad_helper_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  /////////////////////////////////////////////////////////////////////////////
  // Keyboard helper common
  /////////////////////////////////////////////////////////////////////////////

  "keyboard_helper_description": {
    "type": "label",
    "color": "$gamepad_description_text_color",
    "layer": 31,
    "offset": [ 1, 0 ],
    "shadow": true,
    "text": "$description_bind",
    "bindings": [
      {
        "binding_name": "$description_bind"
      }
    ]
  },

  "keyboard_helper": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "$keyboard_helper_size|default": [ "100%c", 13 ],
    "size": "$keyboard_helper_size",
    "layer": -1,
    "$text": "",
    "$text_color": [ 0.0, 0.0, 0.0 ],
    "$icon_size|default": [ 17, 17 ],
    "$icon_size_panel|default": [ 17, 17 ],
    "$icon_label_size|default": [ "default", 10 ],
    "$icon_label_offset|default": [ 0, 0 ],
    "$hide_description|default": false,
    "$ignore_image|default": false,
    "$keyboard_description|default": "common.keyboard_helper_description",
    "$keyboard_helper_visible_binding|default": "#keyboard_helper_visible",
    "$keyboard_character|default": "",
    "$keyboard_description_max_size|default": [ "default", "default" ],
    "bindings": [
      {
        "binding_name": "$keyboard_helper_visible_binding",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "image_centerer": {
          "ignored": "$ignore_image",
          "type": "panel",
          "size": "$icon_size_panel",
          "controls": [
            {
              "image@common.keyboard_helper_icon_image": {
                "size": "$icon_size",

                "controls": [
                  {
                    "keyboard_character": {
                      "type": "label",
                      "size": "$icon_label_size",
                      "offset": "$icon_label_offset",
                      "text": "$keyboard_character",
                      "color": "$text_color",
                      "layer": 1,
                      "$keyboard_character_bindings|default": [],
                      "bindings": "$keyboard_character_bindings"
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "centerer": {
          "ignored": "($hide_description)",
          "type": "panel",
          "size": [ "100%c + 2px", "100%" ],
          "controls": [
            {
              "desc@$keyboard_description": {
                "max_size": "$keyboard_description_max_size"
              }
            }
          ]
        }
      }
    ]
  },

  "keyboard_helpers": {
    "type": "panel",
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "size": [ "98%", 16 ]
  },

  // Buttons
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_icon_button@common.gamepad_helper_icon_image": {
    "$gamepad_icon_size|default": [ 26, 26 ],
    "$gamepad_icon_visible_binding_name|default": "#gamepad_helper_visible",
    "$gamepad_icon_visible_binding_type|default": "global",
    "size": "$gamepad_icon_size",
    "texture": "$icon_texture",
    "bindings": [
      {
        "binding_name": "$icon_texture",
        "binding_name_override": "#texture"
      },
      {
        "binding_type": "$gamepad_icon_visible_binding_type",
        "binding_name": "$gamepad_icon_visible_binding_name",
        "binding_name_override": "#visible"
      }
    ]
  },

  "gamepad_helper_start@gamepad_helper": {
    "$icon_texture": "#controller_start_icon",
    "$icon_description_bind": "#button_start_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_a@gamepad_helper": {
    "$icon_texture": "#controller_face_down_icon",
    "$icon_description_bind": "#button_a_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_a_14@gamepad_helper": {
    "$icon_texture": "#controller_face_down_icon_14",
    "$icon_description_bind": "#button_a_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_b@gamepad_helper": {
    "$icon_texture": "#controller_face_right_icon",
    "$icon_description_bind": "#button_b_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_b_14@gamepad_helper": {
    "$icon_texture": "#controller_face_right_icon_14",
    "$icon_description_bind": "#button_b_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_x@gamepad_helper": {
    "$icon_texture": "#controller_face_left_icon",
    "$icon_description_bind": "#button_x_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_x_14@gamepad_helper": {
    "$icon_texture": "#controller_face_left_icon_14",
    "$icon_description_bind": "#button_x_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_y@common.gamepad_helper": {
    "$icon_texture": "#controller_face_up_icon",
    "$icon_description_bind": "#button_y_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_y_14@common.gamepad_helper": {
    "$icon_texture": "#controller_face_up_icon_14",
    "$icon_description_bind": "#button_y_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "keyboard_helper_keys@keyboard_helper": {
    "$text_color": "$keyboard_helper_keys",
    "$description_bind": "#button_keyboard_description"
  },

  // Triggers
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_helper_left_trigger@gamepad_helper": {
    "$icon_texture": "#controller_left_trigger",
    "$icon_description_bind": "#controller_left_trigger_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_right_trigger@gamepad_helper": {
    "$icon_texture": "#controller_right_trigger",
    "$icon_description_bind": "#controller_right_trigger_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },


  "keyboard_left_trigger@keyboard_helper": {
    "$text_color": "$keyboard_helper_keys",
    "$description_bind": "#keyboard_left_trigger_description",
    "$keyboard_character": "["
  },

  "keyboard_right_trigger@keyboard_helper": {
    "$text_color": "$keyboard_helper_keys",
    "$description_bind": "#keyboard_right_trigger_description",
    "$keyboard_character": "]"
  },

  // D-Pad
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_icon_dpad@gamepad_helper_icon_image": {
    "texture": "textures/ui/gamepad_icon_dpad",
    "size": [ 21, 21 ]
  },

  "gamepad_helper_dpad@gamepad_helper": {
    "$icon_description_bind": "#button_dpad_description",
    "$icon_image_ref": "icon@common.gamepad_icon_dpad"
  },

  // D-Pad - Directional
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_helper_dpad_down@gamepad_helper": {
    "$icon_texture": "#controller_dpad_down_icon",
    "$icon_description_bind": "#button_dpad_down_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_dpad_left@gamepad_helper": {
    "$icon_texture": "#controller_dpad_left_icon",
    "$icon_description_bind": "#button_dpad_left_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_dpad_right@gamepad_helper": {
    "$icon_texture": "#controller_dpad_right_icon",
    "$icon_description_bind": "#button_dpad_right_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_dpad_up@gamepad_helper": {
    "$icon_texture": "#controller_dpad_up_icon",
    "$icon_description_bind": "#button_dpad_up_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  // Thumbstick
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_icon_thumbstick@gamepad_helper_icon_image": {
    "$icon_texture": "textures/ui/gamepad_icon_thumbstick",
    "size": [ 12, 9 ]
  },

  "gamepad_helper_thumbstick@gamepad_helper": {
    "$icon_description_bind": "#button_thumbstick_description",
    "$icon_image_ref": "icon@common.gamepad_icon_thumbstick"
  },

  // Thumbstick Buttons
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_helper_thumbstick_right@gamepad_helper": {
    "$icon_texture": "#controller_right_stick_icon",
    "$icon_description_bind": "#button_thumbstick_right_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_thumbstick_left@gamepad_helper": {
    "$icon_texture": "#controller_left_stick_icon",
    "$icon_description_bind": "#button_thumbstick_left_description",
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  // Bumpers
  /////////////////////////////////////////////////////////////////////////////

  "gamepad_helper_left_bumper@gamepad_helper": {
    "$icon_texture": "#controller_left_bumper_icon",
    "$icon_description_bind": "#controller_left_bumper_description",
    "$gamepad_description_offset": [ 2, 0 ],
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  "gamepad_helper_right_bumper@gamepad_helper": {
    "$icon_texture": "#controller_right_bumper_icon",
    "$icon_description_bind": "#controller_right_bumper_description",
    "$gamepad_description_offset": [ 2, 0 ],
    "$icon_image_ref": "icon@common.gamepad_icon_button"
  },

  //---------------------------------------------------------------------------
  // Common inventory
  //---------------------------------------------------------------------------

  "dialog_background_common": {
    "type": "image",
    "texture": "textures/ui/dialog_background_hollow_4",
    "layer": 1
  },

  "dialog_background_hollow_common@dialog_background_common": {
    "layer": 2,
    "$fill_alpha|default": 0.8,
    "$dialog_background_texture|default": "textures/ui/control",
    "controls": [
      {
        "control": {
          "type": "image",
          "texture": "$dialog_background_texture",
          "layer": -1,
          "size": [ "100% - 8px", "100% - 8px" ],
          "alpha": "$fill_alpha"
        }
      }
    ]
  },

  "dialog_background_opaque@dialog_background_common": {
    "texture": "textures/ui/dialog_background_opaque"
  },

  // Title area has space for text
  // Area under hollow available for controls
  "dialog_background_hollow_1@dialog_background_hollow_common": {
    "texture": "textures/ui/dialog_background_hollow_1"
  },

  // Title area has space for text
  // Area under hollow available for buttons
  "dialog_background_hollow_2@dialog_background_hollow_common": {
    "texture": "textures/ui/dialog_background_hollow_2"
  },

  // Title area has space for text
  // No other area available besides hollow area
  "dialog_background_hollow_3@dialog_background_hollow_common": {
    "texture": "textures/ui/dialog_background_hollow_3"
  },

  // No area available besides hollow area
  // Good for tabbed content areas
  "dialog_background_hollow_4@dialog_background_hollow_common": {
    "texture": "textures/ui/dialog_background_hollow_4"
  },
  "dialog_background_hollow_4_thin@dialog_background_hollow_common": {
    "texture": "textures/ui/dialog_background_hollow_4_thin"
  },

  // Title area has space for text (smaller than hollow 2)
  // Area under hollow available for buttons
  "dialog_background_hollow_5@dialog_background_hollow_common": {
    "texture": "textures/ui/dialog_background_hollow_5"
  },

  // Title area has space for text
  // Area under hollow available for controls (larger than hollow 1)
  "dialog_background_hollow_6@dialog_background_hollow_common": {
    "texture": "textures/ui/dialog_background_hollow_6"
  },

  // Title area has space for controls
  // No other area available besides hollow area
  "dialog_background_hollow_7@dialog_background_hollow_common": {
    "texture": "textures/ui/dialog_background_hollow_7"
  },

  // Title Area has no space for controls
  // small icon button area in bottom right corner, size of icon button area does not change with scaling
  "dialog_background_hollow_8@dialog_background_hollow_common": {
    "texture": "textures/ui/dialog_background_hollow_8"
  },

  "dialog_divider": {
    "type": "image",
    "texture": "textures/ui/dialog_divider",
    "layer": 1
  },

  "normal_button": {
    "type": "image",
    "texture": "textures/ui/NormalButtonNoStroke",
    "layer": 1
  },

  "normal_stroke_button": {
    "type": "image",
    "texture": "textures/ui/NormalButtonStroke",
    "layer": 1
  },

  "section_heading_label": {
    "type": "label",
    "layer": 1,
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "color": "$title_text_color"
  },

  "section_divider": {
    "type": "stack_panel",
    "orientation": "vertical",
    "size": [ "100%", "100%c" ],
    "$top_padding_size|default": [ "100%", 2 ],
    "$bottom_padding_size|default": [ "100%", 2 ],
    "$divider_size|default": [ "100% - 10px", 1 ],
    "controls": [
      {
        "padding1": {
          "type": "panel",
          "size": "$top_padding_size"
        }
      },
      {
        "divider_parent": {
          "type": "panel",
          "size": [ "100%", 1 ],
          "controls": [
            {
              "divider": {
                "type": "image",
                "texture": "textures/ui/divider2",
                "alpha": 0.2,
                "size": "$divider_size",
                "layer": 1
              }
            }
          ]
        }
      },
      {
        "padding2": {
          "type": "panel",
          "size": "$bottom_padding_size"
        }
      }
    ]
  },

  "minecraftTenLabel": {
    "type": "label",
    "font_type": "MinecraftTen",
    "backup_font_type": "UIFont",
    "color": "$generic_button_text_color", // We have to specify a color for unit tests - expect to override this when used.

    "variables": [
      {
        "requires": "(not $is_low_memory_device)", // We don't load MinecraftTen in these cases so we need to revert to Mojangles.
        "font_scale_factor": 1.39,
        "offset": [ 0, -2 ] // Because of how the font is rendered it looks like it is offset down from the center of the render area
      }
    ]
  },

  "close_button_image": {
    "type": "image",
    "layer": 1,
    "texture": "$close_button_texture"
  },

  "close_button_panel": {
    "type": "panel",
    "layer": 1,
    "size": "$close_button_panel_size",
    "$button_alpha|default": 1,
    "controls": [
      {
        "close_button_image@close_button_image": {
          "alpha": "$button_alpha"
        }
      }
    ]
  },

  "close_button": {
    "type": "button",
    "size": [ 21, 21 ],
    "layer": 10,
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "$close_button_offset|default": [ -2, 2 ],
    "offset": "$close_button_offset",
    "locked_control": "",
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",
    "sound_name": "random.click",
    "sound_volume": 1.0,
    "sound_pitch": 1.0,
    "$close_button_panel_size|default": [ 15, 15 ],
    "$close_button_to_button_id|default": "button.menu_exit",
    "$default_button_alpha|default": 1,
    "$default_hover_alpha|default": 1,
    "$default_pressed_alpha|default": 1,
    "$close_button_visible_binding_name|default": "#close_button_visible",
    "$close_button_visible_binding_type|default": "none",
    "$close_button_default_texture|default": "textures/ui/close_button_default",
    "$button_tts_name|default": "",
    "$button_tts_header|default": "accessibility.button.close",
    "$tts_section_header|default": "",

    "tts_name": "$button_tts_name",
    "tts_control_header": "$button_tts_header",
    "tts_section_header": "$tts_section_header",

    "bindings": [
      {
        "binding_type": "$close_button_visible_binding_type",
        "binding_name": "$close_button_visible_binding_name",
        "binding_name_override": "#visible"
      },
      {
        "binding_name": "#tts_enabled",
        "binding_name_override": "#focus_enabled"
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "$close_button_to_button_id",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "$close_button_to_button_id",
        "mapping_type": "focused"
      }
    ],
    "controls": [
      {
        "default@common.close_button_panel": {
          "$close_button_texture": "$close_button_default_texture",
          "$button_alpha": "$default_button_alpha"
        }
      },
      {
        "hover@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_hover"
        }
      },
      {
        "pressed@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_pressed"
        }
      }
    ]
  },

  "close_button_grey_bg@close_button": {
    "controls": [
      {
        "default@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_default",
          "$button_alpha": "$default_button_alpha"

        }
      },
      {
        "hover@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_hover_light"
        }
      },
      {
        "pressed@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_pressed_light"
        }
      }
    ]
  },

  "close_button_high_contrast@close_button": {
    "controls": [
      {
        "background": {
          "type": "image",
          "size": [ "100%", "100%" ],
          "texture": "textures/ui/Black"
        }
      },
      {
        "default@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_default_light",
          "$button_alpha": "$default_button_alpha"

        }
      },
      {
        "hover@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_hover_light"
        }
      },
      {
        "pressed@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_pressed_light"
        }
      }
    ]
  },

  "compact_close_button@close_button": {
    "size": [ 21, 13 ],
    "$close_button_panel_size|default": [ 15, 7 ],
    "controls": [
      {
        "default@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_default_compact"
        }
      },
      {
        "hover@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_hover_compact"
        }
      },
      {
        "pressed@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_pressed_compact"
        }
      }
    ]
  },

  "light_close_button@close_button": {
    "controls": [
      {
        "default@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_default_light"
        }
      },
      {
        "hover@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_hover_light"
        }
      },
      {
        "pressed@common.close_button_panel": {
          "$close_button_texture": "textures/ui/close_button_pressed_light"
        }
      }
    ]
  },

  "help_button@common.button": {
    "size": [ 15, 15 ],
    "layer": 1,

    "$default_texture|default": "textures/ui/how_to_play_button_default_light",
    "$hover_texture|default": "textures/ui/how_to_play_button_hover_light",
    "$pressed_texture|default": "textures/ui/how_to_play_button_pressed_light",

    "$pressed_button_name": "button.help",

    "controls": [
      {
        "default": {
          "type": "image",
          "texture": "$default_texture"
        }
      },
      {
        "hover": {
          "type": "image",
          "texture": "$hover_texture"
        }
      },
      {
        "pressed": {
          "type": "image",
          "texture": "$pressed_texture"
        }
      }
    ]
  },

  "cell_image": {
    "type": "image",
    "texture": "textures/ui/cell_image",
    "layer": 1
  },

  "cell_image_selected": {
    "type": "image",
    "texture": "textures/ui/recipe_book_touch_cell_selected",
    "layer": 1
  },

  "cell_image_panel": {
    "type": "panel",
    "controls": [
      {
        "cell_image@common.cell_image": {
          "$cell_selected_binding_name|default": "#is_selected_slot",
          "visible": true,
          "bindings": [
            {
              "binding_name": "(not $cell_selected_binding_name)",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "$item_collection_name"
            }
          ]
        }
      },
      {
        "cell_image_selected@common.cell_image_selected": {
          "$cell_selected_binding_name|default": "#is_selected_slot",
          "visible": false,
          "bindings": [
            {
              "binding_name": "$cell_selected_binding_name",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "$item_collection_name"
            }
          ]
        }
      }
    ]
  },

  "cell_overlay": {
    "ignored": true
  },

  "highlight_slot": {
    "type": "image",
    "texture": "textures/ui/highlight_slot",
    "size": [ "100% - 2px", "100% - 2px" ],
    "alpha": 0.8
  },

  "white_border_slot": {
    "type": "image",
    "texture": "textures/ui/focus_border_white",
    "size": [ "100%", "100%" ]
  },

  "progressive_select_progress_bar": {
    "type": "panel",
    "size": [ 80, 26 ],
    "bindings": [
      {
        "binding_name": "$visibility_binding_name",
        "binding_name_override": "#visible"
      }
    ],
    "controls": [
      {
        "stack_progress_bar_down": {
          "type": "image",
          "texture": "$texture_to_use",
          "controls": [
            {
              "progressive_select_progress_bar": {
                "type": "image",
                "layer": 1,
                "texture": "textures/ui/stack_progress_bar_fill",
                "size": [ 64, 10 ],
                "offset": "$fill_bar_offset",
                "clip_direction": "left",
                "clip_pixelperfect": false,
                "bindings": [
                  {
                    "binding_name": "#progressive_select_bar_ratio",
                    "binding_name_override": "#clip_ratio",
                    "binding_condition": "always_when_visible"

                  }
                ]
              }
            },
            {
              "progressive_select_text": {
                "type": "label",
                "text": "#progressive_select_text",
                "offset": "$fill_bar_offset",
                "layer": 2,
                "color": "$item_stack_count_color",
                "bindings": [
                  {
                    "binding_name": "#progressive_select_text",
                    "binding_condition": "always_when_visible"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "stack_splitting_overlay": {
    "type": "panel",
    "controls": [
      {
        "classic_stack_splitting_overlay": {
          "type": "panel",
          "controls": [
            {
              "stack_splitting_bar@inventory_hold_icon_holding": {
                "size": [ 18, 18 ]
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#classic_stack_splitting_overlay_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "pocket_stack_splitting_overlay": {
          "type": "panel",
          "controls": [
            {
              "stack_splitting_bar@inventory_hold_icon_holding": {
                "size": [ 28, 28 ]
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#pocket_stack_splitting_overlay_visible",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "inventory_hold_icon_holding": {
    "type": "panel",
    "layer": 70,
    "size": [ 0, 0 ],
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "use_anchored_offset": true,
    "property_bag": {
      "#anchored_offset_value_x": 0.0,
      "#anchored_offset_value_y": 0.0
    },
    "controls": [
      {
        "progressive_down@progressive_select_progress_bar": {
          "anchor_from": "bottom_middle",
          "anchor_to": "top_middle",
          "offset": [ 0, 4 ],
          "$visibility_binding_name": "#progressive_select_down_visible",
          "$texture_to_use": "textures/ui/stack_progress_bar_down_arrow",
          "$fill_bar_offset": [ 0, 0.5 ]
        }
      },
      {
        "progressive_up@progressive_select_progress_bar": {
          "anchor_from": "top_middle",
          "anchor_to": "bottom_middle",
          "offset": [ 0, -7 ],
          "$visibility_binding_name": "#progressive_select_up_visible",
          "$texture_to_use": "textures/ui/stack_progress_bar_up_arrow",
          "$fill_bar_offset": [ 0, -0.5 ]
        }
      },
      {
        "progressive_left_side@progressive_select_progress_bar": {
          "anchor_from": "left_middle",
          "anchor_to": "right_middle",
          "offset": [ -4, 0 ],
          "$visibility_binding_name": "#progressive_select_left_side_visible",
          "$texture_to_use": "textures/ui/stack_progress_bar_left_side_arrow",
          "$fill_bar_offset": [ 0, -0.5 ]
        }
      },
      {
        "progressive_right_side@progressive_select_progress_bar": {
          "anchor_from": "right_middle",
          "anchor_to": "left_middle",
          "offset": [ 4, 0 ],
          "$visibility_binding_name": "#progressive_select_right_side_visible",
          "$texture_to_use": "textures/ui/stack_progress_bar_right_side_arrow",
          "$fill_bar_offset": [ 0, -0.5 ]
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "#stack_splitting_bar_offset_x",
        "binding_name_override": "#anchored_offset_value_x"
      },
      {
        "binding_name": "#stack_splitting_bar_offset_y",
        "binding_name_override": "#anchored_offset_value_y"
      },
      {
        "binding_name": "#stack_splitting_bar_visible",
        "binding_name_override": "#visible"
      }
    ]
  },

  "inventory_hold_icon_release": {
    "type": "custom",
    "renderer": "progress_bar_renderer",
    "variables": [
      {
        "requires": "$desktop_screen",
        "$bar_offset": [ 0, -7 ]
      },
      {
        "requires": "$pocket_screen",
        "$bar_offset": [ 0, -12 ]
      },
      {
        "requires": "$desktop_screen",
        "$bar_size": [ 15, 3 ]
      },
      {
        "requires": "$pocket_screen",
        "$bar_size": [ 25, 2 ]
      }
    ],
    "layer": 70,
    "offset": "$bar_offset",
    "size": "$bar_size",
    "bindings": [
      {
        "binding_name": "#touch_progress_bar_visible",
        "binding_condition": "always"
      },
      {
        "binding_name": "#progress_bar_total_amount",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#progress_bar_current_amount",
        "binding_condition": "always_when_visible"
      }
    ]
  },

  "highlight_slot_panel": {
    "type": "panel",
    "controls": [
      {
        "highlight@common.highlight_slot": {
          "controls": [
            {
              "hover_text@common.hover_text": {
                "layer": 29,
                "$hover_text_binding_name|default": "#hover_text",
                "bindings": [
                  {
                    "binding_name": "$hover_text_binding_name",
                    "binding_name_override": "#hover_text",
                    "binding_type": "collection",
                    "binding_collection_name": "$item_collection_name"
                  }
                ]
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "#show_persistent_bundle_hover_text",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "white_border@common.white_border_slot": {
          "bindings": [
            {
              "binding_name": "#show_persistent_bundle_hover_text",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "pocket_ui_highlight_slot": {
    "type": "image",
    "texture": "textures/ui/pocket_ui_highlight_slot",
    "layer": 1,
    "size": [ "100%+2px", "100%+2px" ],
    "anchor_from": "center",
    "anchor_to": "center"
  },

  "hover_text": {
    "$hover_text_max_width|default": 0, // A value greater than zero will result in line breaks being added to limit width
    "type": "custom",
    "renderer": "hover_text_renderer",
    "hover_text_max_width": "$hover_text_max_width",
    "layer": 5,
    "allow_clipping": false
  },

  "screen_background": {
    "type": "image",
    "texture": "textures/ui/screen_background",
    "layer": -10,
    "$screen_background_alpha|default": 0.75,
    "alpha": "$screen_background_alpha"
  },

  "stack_count_label": {
    "ignored": "(not $stack_count_required)",
    "type": "label",
    "color": "$item_stack_count_color",
    "offset": [ 0, 1 ],
    "anchor_to": "bottom_right",
    "anchor_from": "bottom_right",
    "layer": 7,
    "shadow": true,
    "$stack_count_binding_name|default": "#inventory_stack_count",
    "$stack_count_binding_condition|default": "none",
    "text": "$stack_count_binding_name",
    "bindings": [
      {
        "binding_name": "$stack_count_binding_name",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "$stack_count_binding_condition"
      }
    ]
  },

  "durability_bar": {
    "ignored": "(not $durability_bar_required)",
    "type": "custom",
    "renderer": "progress_bar_renderer",
    "layer": 10,
    "$durability_bar_size|default": [ 12, 1 ],
    "$durability_bar_offset|default": [ 0, 5 ],
    "offset": "$durability_bar_offset",
    "size": "$durability_bar_size",
    "property_bag": {
      "drop_shadow": true,
      "is_durability": true,
      "round_value": true
    },
    "bindings": [
      {
        "binding_name": "#item_durability_visible",
        "binding_name_override": "#touch_progress_bar_visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_durability_total_amount",
        "binding_name_override": "#progress_bar_total_amount",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_durability_current_amount",
        "binding_name_override": "#progress_bar_current_amount",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ]
  },

  "durability_bar_grabbed@durability_bar": {
    "layer": 61,
    "offset": [ "-5%", 5 ],
    "size": [ "100%", 1 ],
    "bindings": [
      {
        "binding_name": "#selected_item_durability_visible",
        "binding_name_override": "#touch_progress_bar_visible",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#selected_item_durability_total_amount",
        "binding_name_override": "#progress_bar_total_amount",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#selected_item_durability_current_amount",
        "binding_name_override": "#progress_bar_current_amount",
        "binding_condition": "always_when_visible"
      }
    ]
  },

  "storage_bar": {
    "ignored": "(not $storage_bar_required)",
    "type": "custom",
    "renderer": "progress_bar_renderer",
    "layer": 10,
    "$durability_bar_size|default": [ 12, 1 ],
    "$durability_bar_offset|default": [ 0, 5 ],
    "offset": "$durability_bar_offset",
    "size": "$durability_bar_size",
    "primary_color": [ 0.4, 0.4, 1.0, 1.0 ],
    "full_storage_color": [ 1.0, 0.4, 0.4 ],
    "property_bag": {
      "drop_shadow": true,
      "is_storage_bar": true
    },
    "bindings": [
      {
        "binding_name": "#item_storage_visible",
        "binding_name_override": "#progress_bar_visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_storage_total_amount",
        "binding_name_override": "#progress_bar_total_amount",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_storage_current_amount",
        "binding_name_override": "#progress_bar_current_amount",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ]
  },

  "storage_bar_grabbed@storage_bar": {
    "layer": 61,
    "offset": [ "-10%", 4.5 ],
    "size": [ "100%", 1 ],
    "bindings": [
      {
        "binding_name": "#selected_item_storage_visible",
        "binding_name_override": "#progress_bar_visible",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#selected_item_storage_total_amount",
        "binding_name_override": "#progress_bar_total_amount",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#selected_item_storage_current_amount",
        "binding_name_override": "#progress_bar_current_amount",
        "binding_condition": "always_when_visible"
      }
    ]
  },

  "item_renderer": {
    "type": "custom",
    "renderer": "inventory_item_renderer",
    "layer": 5,
    "$item_renderer_binding_condition|default": "visible",
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_renderer_data",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "$item_renderer_binding_condition"
      },
      {
        "binding_name": "#inactive_item",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name",
        "binding_name_override": "#disabled_filter_visible",
        "binding_condition": "$item_renderer_binding_condition"
      },
      {
        "binding_name": "#group_item_group_name",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#fade_in_icon_time_seconds",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ]
  },

  "filtered_item_renderer": {
    "type": "custom",
    "renderer": "inventory_item_renderer",
    "layer": 5,
    "$item_renderer_binding_condition|default": "none",
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_id_aux",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#charged_item",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_custom_color",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#disabled_filter_visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_pickup_time",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "$item_renderer_binding_condition"
      },
      {
        "binding_name": "#armor_trim_material",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#banner_patterns",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#shield_base_color_hovered",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#banner_colors",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#banner_type",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#decorated_pot_sherds",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#serialized_actor_pose",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      },
      {
        "binding_name": "#item_lodestone_tracking_handle",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ]
  },

  "flying_item_renderer": {
    "type": "custom",
    "renderer": "flying_item_renderer",
    "layer": 40,
    "property_bag": {
      "#flying_item_renderer": true
    }
  },

  "anim_item_details_alpha": {
    "anim_type": "alpha",
    "easing": "in_quint",
    "destroy_at_end": "selected_item_details",
    "duration": 2,
    "from": 1.0,
    "to": 0
  },

  "selected_item_details": {
    "type": "panel",
    "anchor_to": "bottom_middle",
    "anchor_from": "bottom_middle",
    "size": [ "100%c", "100%c" ],
    "offset": "$offset",
    "layer": 30,

    "$offset|default": [ 0, "-16px" ],
    "$alpha_anim|default": "@common.anim_item_details_alpha",

    "controls": [
      {
        "item_panel_image@common.item_panel_image": {}
      }
    ],
    "bindings": [
      {
        "binding_name": "#recipe_details_label",
        "binding_name_override": "#visible"
      }
    ]
  },

  "item_panel_image": {
    "type": "image",
    "size": [ "100%c + 8px", "100%c + 8px" ],
    "layer": 30,
    "visible": "#visible",
    "alpha": "$alpha_anim",
    "texture": "textures/ui/purpleBorder",

    "controls": [
      {
        "item_text_label@common.item_text_label": {}
      }
    ]
  },

  "item_text_label": {
    "type": "label",
    "layer": 1,
    "alpha": "$alpha_anim",
    "text": "#selected_hover_text",
    "color": "$item_hover_text_color",
    // Hover texts get formatted and localized before they make it to the UI.
    // Localizing them twice risks breaking the formatted text.
    "localize": false
    // Disable profanity filter for this control so that
    // we can enable it on the fly only for items with custom names
  },

  "selected_item_details_factory": {
    "type": "factory",
    "control_name": "@common.selected_item_details"
  },

  "anim_details_bubble_alpha": {
    "anim_type": "alpha",
    "easing": "in_quint",
    "destroy_at_end": "details_bubble_control",
    "duration": 2,
    "from": 1.0,
    "to": 0
  },

  "anim_item_lock_notification_background_alpha": {
    "anim_type": "alpha",
    "easing": "in_quint",
    "destroy_at_end": "selected_item_details",
    "duration": 2,
    "from": 0.6,
    "to": 0
  },

  "anim_item_lock_notification_text_alpha": {
    "anim_type": "alpha",
    "easing": "in_quint",
    "destroy_at_end": "selected_item_details",
    "duration": 2,
    "from": 1.0,
    "to": 0
  },

  "item_lock_notification": {
    "type": "panel",
    "size": [ "100%c", "100%c" ],
    "layer": 30,
    "anchor_to": "top_middle",
    "anchor_from": "top_middle",
    "offset": "$offset",

    "$offset|default": [ 0, "6%" ],
    "$alpha_anim_background|default": "@common.anim_item_lock_notification_background_alpha",
    "$alpha_anim_text|default": "@common.anim_item_lock_notification_text_alpha",

    "controls": [
      {
        "notification_background_image": {
          "type": "image",
          "size": [ "100%c + 12px", "100%c + 5px" ],
          "layer": 30,

          "alpha": "$alpha_anim_background",
          "texture": "textures/ui/hud_tip_text_background",

          "controls": [
            {
              "notification_text_label": {
                "type": "label",
                "layer": 1,
                "alpha": "$alpha_anim_text",
                "text": "#notification_text",
                "color": "$item_lock_notification_text_color"
              }
            }
          ]
        }
      }
    ]
  },

  "item_lock_notification_factory": {
    "type": "factory",
    "control_name": "@common.item_lock_notification"
  },

  //---------------------------------------------------------------------------
  // Scroll
  //---------------------------------------------------------------------------


  "empty_panel_size_y_0": {
    "type": "panel",
    "size": [ "100%", 0 ]
  },

  "scroll_background_and_viewport": {
    "type": "panel",
    "size": "$view_port_size",
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "clips_children": true,

    "controls": [
      {
        "background@$scroll_background_image_control": {
          "visible": "$show_background",
          "anchor_to": "top_left",
          "anchor_from": "top_left",
          "offset": "$background_offset",
          "size": "$background_size"
        }
      },
      {
        "scrolling_view_port": {
          "layer": 1,
          "type": "panel",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": "$scroll_view_port_offset",
          "size": "$scroll_view_port_size",
          "max_size": "$scroll_view_port_max_size",

          "$scroll_view_port_clips_children|default": true,
          "clips_children": "$scroll_view_port_clips_children",

          "controls": [
            {
              "scrolling_content@$scrolling_content": {

                "layer": 1,
                "$scrolling_content_anchor_from|default": "top_left",
                "$scrolling_content_anchor_to|default": "top_left",
                "anchor_from": "$scrolling_content_anchor_from",
                "anchor_to": "$scrolling_content_anchor_to"
              }
            }
          ]
        }
      }
    ]
  },

  "scroll_bar_and_track": {
    "type": "panel",
    "$scroll_bar_and_track_size|default": [ "100%c", "100%" ],
    "size": "$scroll_bar_and_track_size",
    "clips_children": true,
    "anchor_from": "right_middle",
    "anchor_to": "right_middle",

    "controls": [
      {
        "stack_panel": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "anchor_from": "center",
          "anchor_to": "center",
          "size": [ "default", "100%" ],
          "controls": [
            {
              "empty_panel_0@common.empty_panel": {
                "ignored": "$scroll_bar_contained",
                "size": "$scroll_bar_left_padding_size"
              }
            },
            {
              "panel": {
                "type": "panel",
                "size": [ "100%c", "100%" ],

                "controls": [
                  {
                    "centered_panel": {
                      "type": "panel",
                      "size": "$scroll_size",
                      "$scroll_track_anchor|default": "center",
                      "anchor_from": "$scroll_track_anchor",
                      "anchor_to": "$scroll_track_anchor",
                      "$scroll_track_offset|default": [ 0, 0 ],
                      "offset": "$scroll_track_offset",
                      "controls": [
                        {
                          "track@common.scrollbar_track": {
                            "layer": 2,
                            "anchor_from": "center",
                            "anchor_to": "center"
                          }
                        },
                        {
                          "scroll_box@common.scroll_box": {
                            "layer": 5,
                            "anchor_from": "center",
                            "anchor_to": "center"
                          }
                        }
                      ]
                    }
                  }
                ]
              }
            },
            {
              "empty_panel_1@common.empty_panel": {
                "size": "$scroll_bar_right_padding_size"
              }
            }
          ]
        }
      }
    ]
  },

  "scroll_view_control": {
    "type": "scroll_view",
    "size": "$scroll_view_control_size",

    "$scroll_view_control_anchor|default": "center",
    "anchor_to": "$scroll_view_control_anchor",
    "anchor_from": "$scroll_view_control_anchor",

    "scroll_speed": 15,
    "scrollbar_track_button": "button.scrollbar_skip_track",
    "scrollbar_touch_button": "button.scrollbar_touch",
    "touch_mode": "$use_touch_mode",
    "always_listen_to_input": true,
    "always_handle_pointer": true,

    "$always_handle_scrolling|default": false,
    "always_handle_scrolling": "$always_handle_scrolling",

    "$scrollbar_always_visible|default": false,
    "scrollbar_always_visible": "$scrollbar_always_visible",

    "scrollbar_track": "track",
    "scrollbar_box": "box",
    "scroll_content": "scrolling_content",
    "scroll_view_port": "scrolling_view_port",
    "scroll_box_and_track_panel": "bar_and_track",

    "$jump_to_bottom_on_update|default": false,
    "jump_to_bottom_on_update": "$jump_to_bottom_on_update",

    "$scroll_background_image_control|default": "common.scroll_indent_image",
    "$scroll_track_image_control|default": "common.scroll_indent_image",

    "$focus_for_tts_enabled": "#focus_for_tts_enabled_binding",

    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.scrollbar_touch",
        "mapping_type": "pressed",
        "button_up_right_of_first_refusal": true
      }
    ],

    "bindings": [
      {
        "binding_name": "#gesture_control_enabled"
      },
      {
        "binding_name": "(not #is_using_gamepad)",
        "binding_name_override": "#focus_for_tts_enabled_binding"
      }
    ],

    "controls": [
      {
        "stack_panel": {
          "ignored": "$scroll_bar_contained",
          "type": "stack_panel",
          "orientation": "horizontal",

          "anchor_to": "top_left",
          "anchor_from": "top_left",
          "$scroll_view_stack_panel_size|default": [ "100%", "100%" ],
          "size": "$scroll_view_stack_panel_size",
          "controls": [
            { "background_and_viewport@common.scroll_background_and_viewport": {} },
            { "bar_and_track@common.scroll_bar_and_track": {} }
          ]
        }
      },
      {
        "panel": {
          "ignored": "(not $scroll_bar_contained)",
          "type": "panel",
          "anchor_to": "top_left",
          "anchor_from": "top_left",
          "$view_port_size|default": [ "100%", "100%" ],
          "$scroll_view_port_panel_size|default": [ "100%", "100%" ],
          "size": "$scroll_view_port_panel_size",
          "controls": [
            { "background_and_viewport@common.scroll_background_and_viewport": {} },
            { "bar_and_track@common.scroll_bar_and_track": {} }
          ]
        }
      }
    ]
  },

  "scrollbar_track": {
    "type": "scroll_track",
    "$focus_for_tts_enabled|default": true,
    "focus_enabled": "$focus_for_tts_enabled",
    "$scrollbar_tts_name|default": "accessibility.scrollbar.tts.title",
    "tts_name": "$scrollbar_tts_name",
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.scrollbar_skip_track",
        "mapping_type": "pressed"
      }
    ],
    "controls": [
      {
        "bar_indent@$scroll_track_image_control": {
          "visible": "$scroll_box_visible"
        }
      }
    ]
  },

  "scroll_box": {
    "type": "panel",
    "controls": [
      {
        "box": {
          "type": "scrollbar_box",
          "anchor_to": "top_left",
          "anchor_from": "top_left",
          "layer": 1,
          "visible": "$scroll_box_visible",
          "contained": true,
          "draggable": "vertical",

          "$scroll_box_mouse_image_control|default": "common.scrollbar_box_image",
          "$scroll_box_touch_image_control|default": "common.touch_scrollbar_box_image",

          "button_mappings": [
            {
              "from_button_id": "button.menu_select",
              "to_button_id": "button.menu_select",
              "mapping_type": "pressed",
              "button_up_right_of_first_refusal": true
            }
          ],
          "controls": [
            {
              "mouse_box@$scroll_box_mouse_image_control": {
                "ignored": "$touch"
              }
            },
            {
              "touch_box@$scroll_box_touch_image_control": {
                "size": "$scroll_box_size",
                "ignored": "(not $touch)"
              }
            }
          ]
        }
      }
    ]

  },

  "scroll_box_indent": {
    "type": "image",
    "texture": "textures/ui/ScrollRail",
    "layer": 1
  },

  "scrollbar_box_image": {
    "type": "image",
    "texture": "textures/ui/ScrollHandle",
    "size": [ 5, "100%" ],
    "layer": 4
  },

  "anim_scrollbar_box_fadeout": {
    "anim_type": "alpha",
    "play_event": "scrollbar.released",
    "reset_event": "scrollbar.active",
    "easing": "in_sine",
    "duration": 1.5,
    "from": 1,
    "to": 0,
    "next": "@common.anim_scrollbar_box_fadeout"
  },

  "touch_scrollbar_box_image": {
    "type": "image",
    "texture": "textures/ui/touchScrollBox",
    "layer": 3,
    "alpha": "@common.anim_scrollbar_box_fadeout"
  },

  "new_touch_scrollbar_box_image": {
    "type": "image",
    "texture": "textures/ui/newTouchScrollBox",
    "layer": 3,
    "alpha": "@common.anim_scrollbar_box_fadeout"
  },

  "container_touch_scrollbar_box_image": {
    "type": "image",
    "texture": "textures/ui/newTouchScrollBox",
    "layer": 3,
    "offset": [ -3, 0 ],
    "alpha": "@common.anim_scrollbar_box_fadeout"
  },

  "scroll_indent_image": {
    "type": "image",
    "texture": "textures/ui/ScrollRail",
    "size": [ 3, "100%" ],
    "layer": 3
  },

  "scrolling_panel_base": {
    "type": "input_panel",
    "anchor_to": "top_left",
    "anchor_from": "top_left",
    "$scroll_panel_consume_hover_events|default": true,
    "consume_hover_events": "$scroll_panel_consume_hover_events",
    "$scroll_view_name|default": "scroll_view",
    "$allow_scroll_even_when_content_fits|default": true,
    "controls": [
      {
        "$scroll_view_name@common.scroll_view_control": {
          "allow_scroll_even_when_content_fits": "$allow_scroll_even_when_content_fits"
        }
      }
    ],
    "$scrolling_panel_base_button_mappings|default": [],
    "button_mappings": "$scrolling_panel_base_button_mappings",
    "tts_ignore_count": true
  },

  "scrolling_panel": {
    "type": "panel",
    // Size and offset of the area within this control that contains the visible
    // scrolling content area and scroll box/track
    "$scrolling_pane_size|default": [ "100%", "100%" ],
    "$scrolling_pane_size_touch|default": [ "100%", "100%" ],
    "$scrolling_pane_offset|default": [ 0, 0 ],

    "$scroll_view_control_size|default": [ "100%", "100%" ],

    // Sizes and offsets of the background behind the scrolling content, the
    // viewport containing the scrolling content, the scroll track, and the area
    // in which the scroll box is drawn.
    "$background_size|default": [ "100%", "100%" ],
    "$background_offset|default": [ 0, 0 ],
    "$scroll_view_port_size|default": [ "100%", "100%" ],
    "$scroll_view_port_max_size|default": [ "100%", "100%" ],
    "$scroll_view_port_offset|default": [ 0, 0 ],
    "$scroll_bar_left_padding_size|default": [ 2, 0 ],
    "$scroll_bar_right_padding_size|default": [ 2, 0 ],
    "$view_port_size|default": [ "fill", "100%" ],
    "$scroll_bar_contained|default": false,
    "$scroll_size|default": [ 4, "100%" ],
    "$scroll_box_size|default": [ "100%", "100%" ],

    // The touch version of the scroll track and bar are narrower by default,
    // but these overrides can themselves be overridden.
    "$background_size_touch|default": [ "100%", "100%" ],
    "$background_offset_touch|default": [ 0, 0 ],
    "$scroll_view_port_size_touch|default": [ "100%", "100%" ],
    "$scroll_view_port_max_size_touch|default": [ "100%", "100%" ],
    "$scroll_view_port_offset_touch|default": [ 0, 0 ],
    "$scroll_bar_left_padding_size_touch|default": [ 0, 0 ],
    "$scroll_bar_right_padding_size_touch|default": [ 0, 0 ],
    "$view_port_size_touch|default": [ "100%", "100%" ],
    "$scroll_bar_contained_touch|default": true,
    "$scroll_size_touch|default": [ 4, "100%" ],
    "$wider_scroll_area|default": false,

    "$allow_scrolling_even_when_content_fits|default": true,

    // The images used for the background, scroll track, and scroll box (for
    // mouse and for touch) can be overridden by specifying
    // $scroll_background_image_control, $scroll_track_image_control,
    // $scroll_box_mouse_image_control, and $scroll_box_touch_image_control.

    // The content you want inside the scrolling viewport must be specified
    // by defining $scrolling_content.

    "$scroll_box_visible|default": true,
    "$scroll_box_visible_touch|default": false,
    "$use_touch_mode|default": false,
    "$show_background|default": true,
    "controls": [
      {
        "scroll_touch@common.scrolling_panel_base": {
          "ignored": "(not $touch)",
          "variables": [
            {
              "requires": "$wider_scroll_area",
              "$pane_size_touch": "$scrolling_pane_size_touch"
            },
            {
              "requires": "(not $wider_scroll_area)",
              "$pane_size_touch": "$scrolling_pane_size"
            }
          ],
          "size": "$pane_size_touch",
          "offset": "$scrolling_pane_offset",
          "$scroll_bar_contained": "$scroll_bar_contained_touch",
          "$use_touch_mode": true,
          "$scroll_box_visible": "$scroll_box_visible_touch",
          "$background_size": "$background_size_touch",
          "$background_offset": "$background_offset_touch",
          "$scroll_view_port_size": "$scroll_view_port_size_touch",
          "$scroll_view_port_max_size": "$scroll_view_port_max_size_touch",
          "$scroll_view_port_offset": "$scroll_view_port_offset_touch",
          "$scroll_track_image_control": "common.empty_panel",
          "$scroll_bar_left_padding_size": "$scroll_bar_left_padding_size_touch",
          "$scroll_bar_right_padding_size": "$scroll_bar_right_padding_size_touch",
          "$view_port_size": "$view_port_size_touch",
          "$scroll_size": "$scroll_size_touch",
          "$allow_scroll_even_when_content_fits": "$allow_scrolling_even_when_content_fits"
        }
      },
      {
        "scroll_mouse@common.scrolling_panel_base": {
          "ignored": "$touch",
          "size": "$scrolling_pane_size",
          "offset": "$scrolling_pane_offset"
        }
      }
    ]
  },

  "scrolling_panel_with_offset@common.scrolling_panel": {
    "$scroll_view_port_size|default": [ "100% - 8px", "100% -2px" ],
    "$scroll_view_port_offset|default": [ 1, 1 ],
    "$scroll_view_port_size_touch|default": [ "100% - 4px", "100% - 2px" ],
    "$scroll_view_port_offset_touch|default": [ 1, 1 ]
  },

  //---------------------------------------------------------------------------
  // Inventory Item
  //---------------------------------------------------------------------------

  "container_slot_button_prototype": {
    "type": "button",

    "$focus_id|default": "",
    "$focus_override_down|default": "",
    "$focus_override_up|default": "",
    "$focus_override_left|default": "",
    "$focus_override_right|default": "",

    "$focus_id_binding_type|default": "collection",
    "$focus_override_down_binding_type|default": "collection",
    "$focus_override_up_binding_type|default": "collection",
    "$focus_override_left_binding_type|default": "collection",
    "$focus_override_right_binding_type|default": "collection",

    "focus_identifier": "$focus_id",
    "focus_change_down": "$focus_override_down",
    "focus_change_up": "$focus_override_up",
    "focus_change_left": "$focus_override_left",
    "focus_change_right": "$focus_override_right",
    "focus_enabled": true,
    "focus_wrap_enabled": false,
    "focus_magnet_enabled": true,
    "$highlight_control|default": "common.highlight_slot_panel",

    "default_focus_precedence": 1,
    "hover_control": "hover",
    "layer": 1,
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "once"
      },
      {
        "binding_type": "$focus_id_binding_type",
        "binding_name": "#focus_identifier",
        "binding_name_override": "#focus_identifier",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "once"
      },
      {
        "binding_type": "$focus_override_down_binding_type",
        "binding_name": "#focus_change_down",
        "binding_name_override": "#focus_change_down",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "once"
      },
      {
        "binding_type": "$focus_override_up_binding_type",
        "binding_name": "#focus_change_up",
        "binding_name_override": "#focus_change_up",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "once"
      },
      {
        "binding_type": "$focus_override_left_binding_type",
        "binding_name": "#focus_change_left",
        "binding_name_override": "#focus_change_left",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "once"
      },
      {
        "binding_type": "$focus_override_right_binding_type",
        "binding_name": "#focus_change_right",
        "binding_name_override": "#focus_change_right",
        "binding_collection_name": "$item_collection_name",
        "binding_condition": "once"
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.container_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.container_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.container_take_all_place_all",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.container_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.container_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_auto_place",
        "to_button_id": "button.container_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.container_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop",
        "to_button_id": "button.drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop_all",
        "to_button_id": "button.drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.coalesce_stack",
        "mapping_type": "double_pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.coalesce_stack",
        "mapping_type": "double_pressed"
      },
      {
        "to_button_id": "button.shape_drawing",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.container_slot_hovered",
        "mapping_type": "pressed"
      }
    ],
    "controls": [
      {
        "hover@$highlight_control": {}
      }
    ]
  },

  "no_coalesce_container_slot_button@common.container_slot_button_prototype": {
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.container_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.container_take_all_place_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.container_take_all_place_all",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.container_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.container_take_half_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_auto_place",
        "to_button_id": "button.container_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.container_auto_place",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop",
        "to_button_id": "button.drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_inventory_drop_all",
        "to_button_id": "button.drop_all",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.shape_drawing",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.container_slot_hovered",
        "mapping_type": "pressed"
      }
    ]
  },

  "pocket_ui_container_slot": {
    "type": "button",

    "$focus_id|default": "",
    "$focus_override_down|default": "",
    "$focus_override_up|default": "",
    "$focus_override_left|default": "",
    "$focus_override_right|default": "",
    "focus_identifier": "$focus_id",
    "focus_change_down": "$focus_override_down",
    "focus_change_up": "$focus_override_up",
    "focus_change_left": "$focus_override_left",
    "focus_change_right": "$focus_override_right",
    "focus_enabled": true,
    "focus_wrap_enabled": false,
    "focus_magnet_enabled": true,

    "default_focus_precedence": 1,
    "layer": 1,
    "hover_control": "hover",
    "bindings": [
      {
        "binding_type": "collection_details",
        "binding_collection_name": "$item_collection_name"
      }
    ],
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.container_auto_place_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.container_auto_place_one",
        "mapping_type": "pressed"
      },
      {
        "to_button_id": "button.container_slot_hovered",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.container_auto_place",
        "mapping_type": "focused"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.controller_select",
        "mapping_type": "pressed"
      }
    ],
    "controls": [
      {
        "hover": {
          "type": "panel",

          "controls": [
            {
              "highlight_square@common.pocket_ui_highlight_slot": {
                "visible": false,
                "bindings": [
                  {
                    "binding_name": "#show_hovered_selected_inventory_slot",
                    "binding_name_override": "#visible"
                  }
                ]
              }
            }
          ]
        }
      }
    ]
  },

  "slot_selected": {
    "type": "image",
    "texture": "textures/ui/pocket_ui_highlight_selected_slot",
    "size": [ "100% + 5px", "100% + 5px" ],
    "$slot_selected_binding_name|default": "#is_selected_slot",
    "visible": false,
    "layer": 20,
    "bindings": [
      {
        "binding_name": "$slot_selected_binding_name",
        "binding_name_override": "#visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ],
    "controls": [
      {
        "progress_bar_release@common.inventory_hold_icon_release": {
          "layer": 70
        }
      }
    ]
  },

  "container_item": {
    "type": "input_panel",
    "size": [ 18, 18 ],
    "layer": 1,
    "$cell_image_size|default": [ 18, 18 ],
    "$cell_overlay_ref|default": "common.cell_overlay",
    "$button_ref|default": "common.container_slot_button_prototype",
    "$stack_count_required|default": true,
    "$durability_bar_required|default": true,
    "$storage_bar_required|default": true,
    "$item_renderer|default": "common.item_renderer",
    "$item_renderer_panel_size|default": [ 18, 18 ],
    "$item_renderer_size|default": [ 16, 16 ],
    "$item_renderer_offset|default": [ 0, 0 ],
    "$background_images|default": "common.cell_image_panel",
    "$background_image_control_name|default": "bg",

    "$focus_id|default": "",
    "$focus_override_down|default": "",
    "$focus_override_up|default": "",
    "$focus_override_left|default": "",
    "$focus_override_right|default": "",
    "focus_identifier": "$focus_id",
    "focus_change_down": "$focus_override_down",
    "focus_change_up": "$focus_override_up",
    "focus_change_left": "$focus_override_left",
    "focus_change_right": "$focus_override_right",
    "focus_enabled": true,
    "focus_wrap_enabled": false,
    "focus_magnet_enabled": true,
    "tts_ignore_count": true,

    "controls": [
      {
        "item_cell": {
          "type": "panel",
          "size": "$cell_image_size",
          "layer": 0,
          "controls": [
            {
              "$background_image_control_name@$background_images": {
                "layer": 1
              }
            },
            {
              "item": {
                "type": "panel",
                "size": "$item_renderer_panel_size",
                "layer": 0,
                "controls": [
                  {
                    "stack_count_label@common.stack_count_label": {
                      "layer": 27
                    }
                  },
                  {
                    "$item_renderer@$item_renderer": {
                      "size": "$item_renderer_size",
                      "offset": "$item_renderer_offset",
                      "anchor_to": "center",
                      "anchor_from": "center",
                      "layer": 7
                    }
                  }
                ]
              }
            },
            {
              "durability_bar@common.durability_bar": {
                "layer": 20
              }
            },
            {
              "storage_bar@common.storage_bar": {
                "layer": 20
              }
            }
          ]
        }
      },
      {
        "item_cell_overlay_ref@$cell_overlay_ref": {
          "layer": 3
        }
      },
      {
        "item_selected_image@common.slot_selected": {
          "layer": 4
        }
      },
      {
        "item_button_ref@$button_ref": {
          "tts_ignore_count": true,
          "tts_skip_message": true,
          "tts_inherit_siblings": true,
          "layer": 5
        }
      },
      {
        "container_item_lock_overlay@common.container_item_lock_overlay": {
          "size": "$item_renderer_size",
          "offset": [ 1, 1 ],
          "anchor_to": "top_left",
          "anchor_from": "top_left",
          "layer": 6
        }
      },
      {
        "item_lock_cell_image@common.item_lock_cell_image": {
          "layer": 2
        }
      },
      {
        "bundle_slot_panel@gameplay.bundle_slot_panel": {
          "layer": 10
        }
      }
    ]
  },

  "pocket_ui_container_item@common.container_item": {
    "size": [ 28, 28 ],
    "$cell_image_size|default": [ 28, 28 ],
    "$item_renderer_panel_size|default": [ 28, 28 ],
    "$item_renderer_size|default": [ 24, 24 ],
    "$durability_bar_size": [ 18, 1 ],
    "$durability_bar_offset": [ 0, 8 ]
  },

  "pocket_ui_large_container_item@common.pocket_ui_container_item": {
    "size": [ 32, 32 ],
    "$cell_image_size|default": [ 32, 32 ]
  },

  "container_item_lock_yellow": {
    "type": "image",
    "texture": "textures/ui/item_lock_yellow"
  },

  "container_item_lock_red": {
    "type": "image",
    "texture": "textures/ui/item_lock_red"
  },

  "container_item_lock_overlay": {
    "type": "panel",
    "controls": [
      {
        "container_item_lock_yellow@common.container_item_lock_yellow": {
          "bindings": [
            {
              "binding_name": "#item_lock_in_inventory",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "$item_collection_name"
            }
          ]
        }
      },
      {
        "container_item_lock_red@common.container_item_lock_red": {
          "bindings": [
            {
              "binding_name": "#item_lock_in_slot",
              "binding_name_override": "#visible",
              "binding_type": "collection",
              "binding_collection_name": "$item_collection_name"
            }
          ]
        }
      }
    ]
  },

  "item_lock_cell_image": {
    "type": "image",
    "texture": "textures/ui/cell_image_lock",
    "bindings": [
      {
        "binding_name": "#item_lock",
        "binding_name_override": "#visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ]
  },

  //---------------------------------------------------------------------------
  // Container Grid
  //---------------------------------------------------------------------------

  "container_grid": {
    "type": "grid",
    "grid_rescaling_type": "horizontal",

    "size": [ "100%", "default" ],
    "anchor_to": "top_left",
    "anchor_from": "top_left",

    "$item_collection_name|default": "inventory_items",
    "$grid_item_template|default": "common.container_item",

    "collection_name": "$item_collection_name",
    "grid_item_template": "$grid_item_template",

    "bindings": [
      {
        "binding_name": "#collection_total_items",
        "binding_name_override": "#maximum_grid_items",
        "binding_condition": "visible",
        "binding_type": "collection",
        "binding_collection_name": "$item_collection_name"
      }
    ]
  },

  "pocket_container_grid@common.container_grid": {
    "$grid_item_template": "common.pocket_ui_container_item"
  },

  //---------------------------------------------------------------------------
  // Container Scroll Panel
  //---------------------------------------------------------------------------

  "container_scroll_box_image": {
    "type": "image",
    "texture": "textures/ui/ScrollBox"
  },

  "container_scroll_bar_side_rails": {
    "type": "image",
    "layer": 1,
    "anchor_from": "top_left",
    "anchor_to": "top_left",
    "texture": "textures/ui/ScrollGutterWithBG"
  },

  "container_scrollbar_track": {
    "type": "panel",
    "layer": 1,
    "anchor_to": "top_right",
    "anchor_from": "top_right",
    "controls": [
      {
        "rails@common.container_scroll_bar_side_rails": {
          "allow_clipping": false
        }
      }
    ]
  },

  "container_scroll_background_image": {
    "type": "image",
    "layer": 2,
    "texture": "textures/ui/recipe_book_pane_bg"
  },

  "container_scroll_panel@common.scrolling_panel_with_offset": {
    "$scrolling_content|default": "common.container_grid",

    "$scrolling_pane_offset": [ 0, 0 ],
    "$scrolling_pane_size": [ "100%", "100%" ],
    "$scrolling_pane_size_touch": [ "100% + 10px", "100%" ],
    "$scroll_size_touch": [ 18, "100%" ],
    "$scroll_view_port_size": [ "100% - 2px", "100% - 2px" ],
    "$scroll_view_port_size_touch": [ "100% - 18px", "100% - 2px" ],
    "$scroll_view_port_offset": [ 1, 1 ],
    "$scroll_view_port_offset_touch": [ 0, 1 ],
    "$scroll_box_size": [ 4, "100%" ],
    "$wider_scroll_area": true,

    "$scroll_bar_right_padding_size": [ 0, 0 ],
    "$scroll_background_image_control": "common.container_scroll_background_image",
    "$background_size_touch": [ "100% - 10px", "100%" ],
    "$scroll_track_image_control": "common.container_scrollbar_track",
    "$scroll_box_mouse_image_control": "common.container_scroll_box_image",
    "$scroll_box_touch_image_control": "common.container_touch_scrollbar_box_image",
    "$allow_scrolling_even_when_content_fits": false,

    "$scrolling_panel_base_button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      }
    ]
  },

  //---------------------------------------------------------------------------
  // Selectable Slot
  //---------------------------------------------------------------------------

  "pocket_ui_highlight_selected_slot": {
    "type": "image",
    "texture": "textures/ui/pocket_ui_highlight_selected_slot",
    "layer": 2,
    "size": [ "100%+4px", "100%+4px" ],
    "anchor_from": "center",
    "anchor_to": "center"
  },

  //---------------------------------------------------------------------------
  // Pocket Hotbar
  //---------------------------------------------------------------------------

  "pocket_hotbar_panel": {
    "type": "input_panel",
    "size": [ 260, 36 ],
    "controls": [
      {
        "bg@common.common_panel": {
          "$show_close_button": false
        }
      },
      {
        "hotbar_grid@common.container_grid": {
          "size": [ 252, 28 ],
          "anchor_from": "center",
          "anchor_to": "center",
          "layer": 1,

          "$item_collection_name": "hotbar_items",
          "grid_item_template": "common.pocket_ui_container_item"
        }
      }
    ]
  },

  "drop_item_panel": {
    "type": "input_panel",
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.cursor_drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.cursor_drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      }
    ]
  },

  //---------------------------------------------------------------------------
  // Pocket Layout
  //---------------------------------------------------------------------------

  "pocket_hotbar_and_content_panels": {
    "type": "stack_panel",
    "orientation": "vertical",

    "size": [ "100% - 4px", "100% - 2px" ],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",

    "controls": [
      {
        "pocket_content_panels@common.pocket_content_panels": {
          "size": [ "100%", "fill" ]
        }
      },
      {
        "hotbar_drop_item_panel@common.drop_item_panel": {
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "pocket_hotbar_panel@common.pocket_hotbar_panel": {
                "anchor_from": "center",
                "anchor_to": "center",
                "layer": 1
              }
            }
          ]
        }
      }
    ]
  },

  "blank_pocket_content_panel@common.common_panel": {
    "size": [ "fill", "100%" ],
    "$show_close_button": false
  },

  "pocket_content_panels": {
    "type": "stack_panel",
    "size": [ "100%", "100%" ],
    "orientation": "horizontal",

    "$middle_offset_visible|default": true,
    "$left_panel_control|default": "common.blank_pocket_content_panel",
    "$right_panel_control|default": "common.blank_pocket_content_panel",

    "controls": [
      { "left_panel@$left_panel_control": {} },
      {
        "offset_panel@common.root_panel": {
          "size": [ 4, "100%" ],
          "visible": "$middle_offset_visible",
          "controls": [
            {
              "center_bg": {
                "type": "image",
                "texture": "textures/ui/recipe_back_panel",
                "size": [ "100% + 8px", "100% - 4px" ]
              }
            }
          ]
        }
      },
      { "right_panel@$right_panel_control": {} }
    ]
  },

  //---------------------------------------------------------------------------
  // Container panel
  //---------------------------------------------------------------------------

  "inventory_selected_icon@common.item_renderer": {
    "layer": 50,
    "size": [ 21, 21 ],
    "offset": [ -1, -2 ],
    "bindings": [
      {
        "binding_name": "#inventory_selected_item",
        "binding_name_override": "#item_id_aux",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#inventory_selected_item_charged_item",
        "binding_name_override": "#charged_item",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#inventory_selected_item_color",
        "binding_name_override": "#item_custom_color",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#inventory_selected_armor_trim_material",
        "binding_name_override": "#armor_trim_material",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#inventory_selected_banner_patterns",
        "binding_name_override": "#banner_patterns",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#shield_base_color_hovered",
        "binding_name_override": "#shield_base_color",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#inventory_selected_banner_colors",
        "binding_name_override": "#banner_colors",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#inventory_selected_banner_type",
        "binding_name_override": "#banner_type",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#inventory_selected_decorated_pot_sherds",
        "binding_name_override": "#decorated_pot_sherds",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#inventory_selected_serialized_actor_pose",
        "binding_name_override": "#serialized_actor_pose",
        "binding_condition": "always_when_visible"
      }
    ]
  },

  "inventory_selected_stack_size_text": {
    "type": "label",
    "offset": [ -1, 0 ],
    "anchor_to": "bottom_right",
    "anchor_from": "bottom_right",
    "layer": 53,
    "shadow": true,
    "color": "$selected_item_stack_count_color",
    "text": "#inventory_selected_item_stack_count",
    "bindings": [
      {
        "binding_name": "#inventory_selected_item_stack_count",
        "binding_condition": "always_when_visible"
      }
    ]
  },

  "inventory_hold_icon": {
    "type": "custom",
    "renderer": "progress_bar_renderer",
    "variables": [
      {
        "requires": "$desktop_screen",
        "$bar_offset": [ 0, -12 ]
      },
      {
        "requires": "$pocket_screen",
        "$bar_offset": [ 0, -18 ]
      }
    ],
    "layer": 70,
    "offset": "$bar_offset",
    "size": [ 15, 3 ],
    "bindings": [
      {
        "binding_name": "#progress_bar_visible",
        "binding_condition": "always"
      },
      {
        "binding_name": "#progress_bar_total_amount",
        "binding_condition": "always_when_visible"
      },
      {
        "binding_name": "#progress_bar_current_amount",
        "binding_condition": "always_when_visible"
      }
    ]
  },

  "inventory_selected_item_lock_overlay": {
    "type": "panel",
    "size": [ 21, 21 ],
    "offset": [ -1, -2 ],
    "layer": 55,
    "controls": [
      {
        "container_item_lock_yellow@common.container_item_lock_yellow": {
          "bindings": [
            {
              "binding_name": "#inventory_selected_item_lock_in_inventory",
              "binding_name_override": "#visible",
              "binding_condition": "always"
            }
          ]
        }
      },
      {
        "container_item_lock_red@common.container_item_lock_red": {
          "bindings": [
            {
              "binding_name": "#inventory_selected_item_lock_in_slot",
              "binding_name_override": "#visible",
              "binding_condition": "always"
            }
          ]
        }
      }
    ]
  },

  "inventory_icon_panel": {
    "type": "panel",
    "controls": [
      { "selected_item_icon@common.inventory_selected_icon": {} },
      { "selected_stack_size_text@common.inventory_selected_stack_size_text": {} },
      { "selected_item_lock_overlay@common.inventory_selected_item_lock_overlay": {} },
      {
        "hover_text@common.hover_text": {
          "layer": 59,
          "bindings": [
            {
              "binding_name": "#using_touch",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "inventory_selected_icon_button": {
    "type": "button",
    "anchor_from": "center",
    "anchor_to": "center",
    "locked_control": "",
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",
    "layer": -10,
    "size": [ 16, 16 ],
    "follows_cursor": true,
    "sound_name": "random.click",
    "sound_volume": 1.0,
    "sound_pitch": 1.0,
    "always_handle_pointer": true,
    "$durability_bar_required|default": true,
    "$storage_bar_required|default": true,
    "controls": [
      { "default@inventory_icon_panel": {} },
      { "pressed@inventory_icon_panel": {} },
      { "hover@inventory_icon_panel": {} },
      { "durability_bar_grabbed@common.durability_bar_grabbed": {} },
      { "storage_bar_grabbed@common.storage_bar_grabbed": {} }
    ]
  },

  "inventory_take_progress_icon_button": {
    "type": "button",
    "locked_control": "",
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",
    "layer": -10,
    "follows_cursor": true,
    "sound_name": "random.click",
    "sound_volume": 1.0,
    "sound_pitch": 1.0,
    "always_handle_pointer": true,
    "controls": [
      { "default@inventory_hold_icon": {} },
      { "pressed@inventory_hold_icon": {} },
      { "hover@inventory_hold_icon": {} }
    ]
  },

  "gamepad_cursor_image": {
    "type": "image",
    "texture": "textures/ui/pointer",
    "size": [ 14, 14 ],
    "layer": 60,
    "follows_cursor": true,

    "bindings": [
      {
        "binding_name": "#gamepad_cursor_visible",
        "binding_name_override": "#visible",
        "binding_condition": "always"
      }
    ]
  },

  "gamepad_cursor_button": {
    "type": "button",
    "visible": false,
    "anchor_from": "center",
    "anchor_to": "center",
    "locked_control": "",
    "default_control": "default",
    "hover_control": "hover",
    "pressed_control": "pressed",
    "layer": -10,
    "size": [ 16, 16 ],
    "follows_cursor": true,
    "always_handle_pointer": true,
    "controls": [
      { "default@gamepad_cursor_image": {} },
      { "pressed@gamepad_cursor_image": {} },
      { "hover@gamepad_cursor_image": {} }
    ]
  },

  "grid_item_for_inventory@common.container_item": {
    "$item_collection_name": "inventory_items"
  },

  "grid_item_for_hotbar@common.container_item": {
    "$item_collection_name": "hotbar_items"
  },

  "hotbar_grid_template": {
    "type": "grid",
    "size": [ 162, 18 ],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "offset": [ 0, -5 ],
    "grid_dimensions": [ 9, 1 ],
    "grid_item_template": "common.grid_item_for_hotbar",
    "collection_name": "hotbar_items"
  },

  "inventory_panel": {
    "type": "panel",
    "size": [ 88, 83 ],
    "anchor_from": "bottom_middle",
    "anchor_to": "bottom_middle",
    "controls": [
      {
        "inventory_grid": {
          "type": "grid",
          "size": [ 162, 54 ],
          "anchor_from": "bottom_middle",
          "anchor_to": "bottom_middle",
          "offset": [ 0, -26 ],
          "grid_dimensions": [ 9, 3 ],
          "grid_item_template": "common.grid_item_for_inventory",
          "collection_name": "inventory_items"
        }
      }
    ]
  },

  // Bottom half of ui, inventory panel
  "inventory_panel_bottom_half": {
    "type": "panel",
    "size": [ "100%", "50%" ],
    "anchor_from": "left_middle",
    "anchor_to": "top_left",
    "controls": [
      { "inventory_panel@inventory_panel": {} }
    ]
  },

  "inventory_panel_bottom_half_with_label@inventory_panel_bottom_half": {
    "anchor_from": "bottom_left",
    "anchor_to": "bottom_left",
    "size": [ "100%", 93 ],
    "controls": [
      { "inventory_panel@inventory_panel": {} },
      {
        "inventory_label@section_heading_label": {
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": [ 7, 3 ],
          "layer": 2,
          "text": "container.inventory"
        }
      }
    ]
  },

  // Common panel contains the bg image and the close button
  "common_panel": {
    "type": "panel",
    "$dialog_background|default": "common.dialog_background_opaque",
    "$show_close_button|default": true,
    "$close_button_visible_binding_name|default": "#close_button_visible",
    "$close_button_offset|default": [ 0, 0 ],
    "$close_button_layer|default": 2,
    "$use_compact_close_button|default": false,
    "$show_divider|default": false,
    "$divider_offset|default": [ "42.5%", "22px" ],
    "$divider_visible_binding_name|default": "",
    "$divider_visible_binding_type|default": "none",
    "$divider_size|default": [ "5px", "100% - 29px" ],
    "controls": [
      {
        "bg_image@$dialog_background": {
          "layer": 1
        }
      },
      {
        "dialog_divider@common.dialog_divider": {
          "visible": "$show_divider",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "offset": "$divider_offset",
          "size": "$divider_size",
          "bindings": [
            {
              "binding_name": "$divider_visible_binding_name",
              "binding_name_override": "#visible",
              "binding_type": "$divider_visible_binding_type"
            }
          ]
        }
      },
      {
        "close_button_holder": {
          "type": "panel",
          "ignored": "(not $show_close_button)",
          "controls": [
            {
              "close@common.close_button": {
                "layer": "$close_button_layer",
                "offset": "$close_button_offset",
                "ignored": "$use_compact_close_button"
              }
            },
            {
              "compact_close@common.compact_close_button": {
                "layer": "$close_button_layer",
                "offset": "$close_button_offset",
                "ignored": "(not $use_compact_close_button)"
              }
            }
          ],
          "bindings": [
            {
              "binding_name": "$close_button_visible_binding_name",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  // Root panel all others parented to
  "root_panel": {
    "type": "input_panel",
    "size": [ 176, 166 ],
    "layer": 1,
    "anchor_from": "center",
    "anchor_to": "center",
    "button_mappings": [
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.return",
        "to_button_id": "button.return",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.arrow_up",
        "to_button_id": "button.arrow_key",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.arrow_down",
        "to_button_id": "button.arrow_key",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.arrow_left",
        "to_button_id": "button.arrow_key",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.arrow_right",
        "to_button_id": "button.arrow_key",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.container_reset_held",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.turn_up",
        "to_button_id": "button.scroll_up",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.turn_down",
        "to_button_id": "button.scroll_down",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.turn_left",
        "to_button_id": "button.scroll_left",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.turn_right",
        "to_button_id": "button.scroll_right",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.inventory_left",
        "to_button_id": "button.inventory_left",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.inventory_right",
        "to_button_id": "button.inventory_right",
        "mapping_type": "global"
      }
    ]
  },

  // Base Input Panel
  "input_panel": {
    "type": "input_panel"
  },

  //---------------------------------------------------------------------------
  // Screens, survival inventory and crafting
  //---------------------------------------------------------------------------

  "screen_exit_size_animation_push": {
    "anim_type": "size",
    "easing": "out_cubic",
    "duration": "$transition_time_push_size",
    "from": [ "100%", "100%" ],
    "to": [ 0, 0 ],
    "play_event": "screen.exit_push",
    "end_event": "screen.exit_end",
    "reset_event": "screen_animation_reset"
  },

  "screen_exit_size_animation_pop": {
    "anim_type": "size",
    "easing": "out_cubic",
    "duration": "$transition_time_pop_size",
    "from": [ "100%", "100%" ],
    "to": [ 0, 0 ],
    "play_event": "screen.exit_pop",
    "end_event": "screen.exit_end",
    "reset_event": "screen_animation_reset"
  },

  "screen_entrance_size_animation_immediate": {
    "anim_type": "size",
    "easing": "out_back",
    "duration": "$transition_time_push_size",
    "from": [ 0, 0 ],
    "to": [ "100%", "100%" ],
    "resettable": false
  },

  "screen_entrance_size_animation_push@common.screen_entrance_size_animation_immediate": {
    "duration": "$transition_time_push",
    "play_event": "screen.entrance_push",
    "end_event": "screen.entrance_end",
    "resettable": true
  },

  "screen_entrance_size_animation_pop@common.screen_entrance_size_animation_immediate": {
    "duration": "$transition_time_pop",
    "play_event": "screen.entrance_pop",
    "end_event": "screen.entrance_end",
    "resettable": true
  },

  //Fade Animations

  "screen_exit_animation_push_fade": {
    "anim_type": "alpha",
    "easing": "out_cubic",
    "duration": "$transition_time_push",
    "from": 1.0,
    "to": 0.0,
    "play_event": "screen.exit_push",
    "end_event": "screen.exit_end"
  },

  "screen_exit_animation_pop_fade": {
    "anim_type": "alpha",
    "easing": "out_cubic",
    "duration": "$transition_time_pop",
    "from": 1.0,
    "to": 0.0,
    "play_event": "screen.exit_pop",
    "end_event": "screen.exit_end"
  },

  "screen_entrance_animation_push_fade": {
    "anim_type": "alpha",
    "easing": "out_cubic",
    "duration": "$transition_time_push",
    "from": 0.0,
    "to": 1.0,
    "play_event": "screen.entrance_push",
    "end_event": "screen.entrance_end"
  },

  "screen_entrance_animation_pop_fade": {
    "anim_type": "alpha",
    "easing": "out_cubic",
    "duration": "$transition_time_pop",
    "from": 0.0,
    "to": 1.0,
    "play_event": "screen.entrance_pop",
    "end_event": "screen.entrance_end"
  },

  //Wipe Animations

  "screen_exit_animation_push_offset": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": "$transition_time_push",
    "from": [ 0, 0 ],
    "to": [ "-25%", 0 ],
    "play_event": "screen.exit_push",
    "end_event": "screen.exit_end"
  },

  "screen_exit_animation_pop_offset": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": "$transition_time_pop",
    "from": [ 0, 0 ],
    "to": [ "25%", 0 ],
    "play_event": "screen.exit_pop",
    "end_event": "screen.exit_end"
  },

  "screen_entrance_animation_push_offset": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": "$transition_time_push",
    "from": [ "25%", 0 ],
    "to": [ 0, 0 ],
    "play_event": "screen.entrance_push",
    "end_event": "screen.entrance_end"
  },

  "screen_entrance_animation_pop_offset": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": "$transition_time_pop",
    "from": [ "-25%", 0 ],
    "to": [ 0, 0 ],
    "play_event": "screen.entrance_pop",
    "end_event": "screen.entrance_end"
  },

  // This animation does nothing and is used to maintain the previous
  // screen during a transition to a new one to avoid graphical glitches
  // that may occur when no animation is used at all.
  "screen_exit_animation_no_offset": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": "$transition_time_pop",
    "from": [ 0, 0 ],
    "to": [ 0, 0 ],
    "play_event": "screen.exit_pop",
    "end_event": "screen.exit_end"
  },

  //container

  "container_screen_exit_animation_push": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": "$container_transition_time_push",
    "from": [ 0, 0 ],
    "to": [ 0, "50%" ],
    "play_event": "screen.exit_push",
    "end_event": "screen.exit_end"
  },

  "container_screen_exit_animation_pop": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": "$container_transition_time_push",
    "from": [ 0, 0 ],
    "to": [ 0, "50%" ],
    "play_event": "screen.exit_pop",
    "end_event": "screen.exit_end"
  },

  "container_screen_entrance_animation_push": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": "$container_transition_time_push",
    "from": [ 0, "50%" ],
    "to": [ 0, 0 ],
    "play_event": "screen.entrance_push",
    "end_event": "screen.entrance_end"
  },

  "container_screen_entrance_animation_pop": {
    "anim_type": "offset",
    "easing": "out_cubic",
    "duration": "$container_transition_time_push",
    "from": [ 0, "50%" ],
    "to": [ 0, 0 ],
    "play_event": "screen.entrance_pop",
    "end_event": "screen.entrance_end"
  },

  // Alpha

  "screen_exit_animation_push_alpha": {
    "anim_type": "alpha",
    "scale_from_starting_alpha": true,
    "easing": "linear",
    "duration": "$transition_time_push",
    "from": 1.0,
    "to": 0.0,
    "play_event": "screen.exit_push",
    "end_event": "screen.exit_end"
  },

  "screen_exit_animation_pop_alpha": {
    "anim_type": "alpha",
    "scale_from_starting_alpha": true,
    "easing": "linear",
    "duration": "$transition_time_pop",
    "from": 1.0,
    "to": 0.0,
    "play_event": "screen.exit_pop",
    "end_event": "screen.exit_end"
  },

  "screen_entrance_animation_push_alpha": {
    "anim_type": "alpha",
    "scale_from_starting_alpha": true,
    "easing": "linear",
    "duration": "$transition_time_push",
    "from": 0.0,
    "to": 1.0,
    "play_event": "screen.entrance_push",
    "end_event": "screen.entrance_end"
  },

  "screen_entrance_animation_pop_alpha": {
    "anim_type": "alpha",
    "scale_from_starting_alpha": true,
    "easing": "linear",
    "duration": "$transition_time_pop",
    "from": 0.0,
    "to": 1.0,
    "play_event": "screen.entrance_pop",
    "end_event": "screen.entrance_end"
  },

  ////

  "loading_bar_init_animation_push": {
    "anim_type": "alpha",
    "easing": "out_cubic",
    "duration": 0.0,
    "from": 0.0,
    "to": 0.0,
    "play_event": "screen.exit_push",
    "next": "@common.loading_bar_wait_animation"
  },

  "loading_bar_init_animation_pop@common.loading_bar_init_animation_push": {
    "play_event": "screen.exit_pop"
  },

  "loading_bar_wait_animation": {
    "anim_type": "wait",
    "duration": "$loading_bar_transition",
    "next": "@common.loading_bar_fade_animation"
  },

  "loading_bar_fade_animation": {
    "anim_type": "alpha",
    "easing": "out_cubic",
    "duration": 1.0,
    "from": 0.0,
    "to": 1.0
  },

  "bar_animation": {
    "anim_type": "flip_book",
    "initial_uv": [ 0, 0 ],
    "frame_count": 10,
    "frame_step": 64,
    "fps": 10,
    "reversible": true,
    "easing": "linear"
  },

  "base_screen": {
    "type": "screen",
    "$screen_content|default": "common.base_screen_empty_panel",
    "$additional_screen_content|default": "common.base_screen_empty_panel",
    "$screen_bg_content|default": "common.base_screen_empty_panel",
    "$screen_animations|default": [
      "@common.screen_exit_animation_push_offset",
      "@common.screen_exit_animation_pop_offset",
      "@common.screen_entrance_animation_push_offset",
      "@common.screen_entrance_animation_pop_offset",
      "@common.screen_exit_animation_push_fade",
      "@common.screen_exit_animation_pop_fade",
      "@common.screen_entrance_animation_push_fade",
      "@common.screen_entrance_animation_pop_fade"
    ],
    "$background_animations|default": [
      "@common.screen_exit_animation_push_alpha",
      "@common.screen_exit_animation_pop_alpha",
      "@common.screen_entrance_animation_push_alpha",
      "@common.screen_entrance_animation_pop_alpha"
    ],
    "$use_loading_bars|default": true,
    "$is_full_screen_layout|default": false,
    "$safezone_screen_matrix_layer|default": 2,
    "controls": [
      {
        "variables_button_mappings_and_controls": {
          "type": "input_panel",
          "hover_enabled": false,
          "prevent_touch_input": false,
          "ttsSectionContainer": true,
          "variables": [
            // Screen sizes - you should be using one of these unless explicitly told otherwise - in which case that size should be added as a variable here
            // Win10
            {
              //Desktop Texel Size: [376, 250]
              "requires": "$desktop_screen",
              "$narrow_screen_size": [ 280, "100% - 10px" ], // Realms Pending Invitations, Add Players
              "$play_screen_size": [ 282, "100% - 50px" ], // Play Screen
              "$tabbed_upsell_screen_size": [ 310, 173 ], // Trial Tabbed Upsell Screen
              "$realms_create_screen_size": [ 267, 240 ], // Realms Create
              "$large_screen_size": [ 317, "100% - 10px" ], // Multiplayer Invitations
              "$store_screen_size": [ "100% - 4px", "100% - 4px" ], // Store Home
              "$skin_pack_screen_size": [ "100% - 4px", "100% - 50px" ], // Skin Pack
              "$resource_pack_screen_size": [ "100% - 50px", "45%x + 65px" ], // Texture Pack
              "$upsell_screen_size": [ "177%y - 208.5px", "100% - 4px" ], // Skin Pack Upsell
              "$create_world_upsell_screen_size": [ 360, 183 ],
              "$create_realm_upsell_screen_size": [ 360, 183 ],
              "$create_realm_upsell_play_screen_size": [ 360, 213 ],
              "$max_create_world_upsell_screen_size": [ 360, "100% - 4px" ],
              "$min_resource_pack_screen_size": [ 372, 232.4 ],
              "$max_resource_pack_screen_size": [ 400, 246 ],
              "$max_upsell_screen_size": [ 250, 259.125 ],
              "$rating_prompt_screen_size": [ 250, 87 ],
              "$max_skin_pack_screen_size": [ 310, "56.25%x - 65.25px + 118.5px" ],
              "$extra_large_screen_size": [ "100% - 4px", "100% - 4px" ], // Skin Picker, Command Block screen
              "$extra_large_max_screen_size": [ 370, "100% - 50px" ],
              "$xbl_immediate_signin_screen_size": [ 317, 158 ], // XBL Immediate Signin Popup
              "$xbl_optional_signin_screen_size": [ 317, 158 ], // XBL Optional Signin Popup
              "$xbl_console_signin_screen_size": [ 316, 161 ], // XBL Console Signin Popup
              "$xbl_console_qr_signin_screen_size": [ 364, 182 ], // XBL Console QR Signin Popup
              "$xbl_console_signin_succeeded_screen_size": [ 230, "100% - 50px" ], // XBL Console Signin Succeeded Popup
              "$xbl_first_launch_screen_size": [ 317, 146 ], // Trial Upsell
              "$xbl_gamer_profile_screen_size": [ 260, "100% - 50px" ], // XBL Console Signin Succeeded Popup
              "$modal_screen_size": [ 204, 140 ], // Pop-up dialogue boxes and modal progress screens
              "$tall_modal_screen_size": [ 204, 172 ],
              "$patch_notes_screen_size": [ 300, "100% - 4px" ], // Patch Notes Screen
              "$mob_effect_screen_size": [ "90%", "90%" ], // Mob Effect Screen
              "$purchase_coin_screen_size": [ "90%", "17%x + 82px" ], //Coin Purchase Screen
              "$purchase_coin_screen_size_extended": [ "90%", "17%x + 117px" ], //Coin Purchase Screen, with FAQ
              "$purchase_coin_screen_size_not_enough": [ "90%", "17%x + 97px" ], //Coin Purchase Screen, when not enough coins for current purchase
              "$purchase_coin_screen_size_extended_not_enough": [ "90%", "17%x + 132px" ], //Coin Purchase Screen, when not enough coins for current purchase, with FAQ
              "$choose_realm_screen_size": [ "70%", "85%" ], //Choose Realm Screen
              "$custom_templates_screen_size": [ "70%", "85%" ], //Custom Templates Screen
              "$world_modal_screen_size": [ 290, 100 ], // world convert and world loading modal progress screens
              "$day_one_experience_intro_screen_size": [ "60%", "85%" ], // Day One Experience intro popup
              "$day_one_experience_import_progress_screen_size": [ "80%", "90%" ], // Day One Experience import progress modal screen
              "$world_conversion_complete_screen_size": [ 290, 160 ], // World Conversion complete modal screen
              "$gamepad_disconnect_screen_size": [ 300, 100 ], //custom gamepad disconnected modal size, to contain all languages in title
              "$storage_migration_progress_size": [ 290, 100 ],
              "$store_modal_screen_size": [ "80%", "80%" ],
              "$csb_upsell_screen_size": [ "90%", "60%x" ]
            },
            // PE edition
            {
              //Pocket Texel Size:  [320, 210]
              "requires": "($pocket_screen)",
              "$narrow_screen_size": [ "90.3225%", "100% - 4px" ], // Realms Pending Invitations, Add Players
              "$play_screen_size": [ "83.4375%", "100% - 4px" ], // Play Screen
              "$tabbed_upsell_screen_size": [ 310, 173 ], // Trial Tabbed Upsell Screen
              "$realms_create_screen_size": [ "71.2766%", "100% - 4px" ], // Realms Create
              "$large_screen_size": [ "70.3215%", "100% - 4px" ], // Multiplayer Invitations
              "$store_screen_size": [ "100% - 4px", "100% - 4px" ], // Store Home, purchase Skin Pack
              "$skin_pack_screen_size": [ "100% - 4px", "100% - 4px" ], // Skin Pack
              "$resource_pack_screen_size": [ "100% - 50px", "45%x + 65px" ], // Texture Pack
              "$upsell_screen_size": [ "100% - 76px", "100% - 4px" ], // Skin Pack Upsell
              "$create_world_upsell_screen_size": [ "100% - 4px", 223 ],
              "$create_realm_upsell_screen_size": [ "100% - 4px", 223 ],
              "$create_realm_upsell_play_screen_size": [ "100% - 4px", 219 ],
              "$max_create_world_upsell_screen_size": [ "100% - 4px", "100% - 4px" ],
              "$min_resource_pack_screen_size": [ 306, 202.7 ],
              "$max_resource_pack_screen_size": [ 313.3, 206 ],
              "$max_upsell_screen_size": [ "100% - 76px", "56.25%x + 118.5px" ],
              "$max_skin_pack_screen_size": [ "100% - 4px", "56.25%x - 65.25px + 118.5px" ],
              "$extra_large_screen_size": [ "100% - 4px", "100% - 4px" ], // Skin Picker, Command Block screen
              "$extra_large_max_screen_size": [ 370, "100% - 50px" ],
              "$xbl_immediate_signin_screen_size": [ 316, 153 ], // XBL Immediate Signin Popup
              "$xbl_optional_signin_screen_size": [ 316, 153 ], // XBL Optional Signin Popup
              "$xbl_console_signin_screen_size": [ 316, 161 ], // XBL Console Signin Popup
              "$xbl_console_qr_signin_screen_size": [ 364, 182 ], // XBL Console QR Signin Popup
              "$xbl_console_signin_succeeded_screen_size": [ 230, "100% - 4px" ], // XBL Console Signin Succeeded Popup
              "$xbl_first_launch_screen_size": [ 316, 146 ], // Trial Upsell
              "$xbl_gamer_profile_screen_size": [ 316, "100% - 4px" ], // XBL Console Signin Succeeded Popup
              "$modal_screen_size": [ 204, 140 ], // Pop-up dialogue boxes and modal progress screens
              "$rating_prompt_screen_size": [ 250, 87 ],
              "$tall_modal_screen_size": [ 204, 172 ],
              "$patch_notes_screen_size": [ 300, "100% - 4px" ], // Patch Notes Screen
              "$mob_effect_screen_size": [ "90%", "90%" ], // Mob Effect Screen
              "$purchase_coin_screen_size": [ "90%", "17%x + 82px" ], //Coin Purchase Screen
              "$purchase_coin_screen_size_extended": [ "90%", "17%x + 117px" ], //Coin Purchase Screen, with FAQ
              "$purchase_coin_screen_size_not_enough": [ "90%", "17%x + 97px" ], //Coin Purchase Screen, when not enough coins for current purchase
              "$purchase_coin_screen_size_extended_not_enough": [ "90%", "17%x + 132px" ], //Coin Purchase Screen, when not enough coins for current purchase, with FAQ
              "$choose_realm_screen_size": [ "70%", "85%" ], //Choose Realm Screen
              "$custom_templates_screen_size": [ "70%", "85%" ], //Custom Templates Screen
              "$world_modal_screen_size": [ 290, 100 ], // world convert and world loading modal progress screens
              "$day_one_experience_intro_screen_size": [ "60%", "85%" ], // Day One Experience intro popup
              "$day_one_experience_import_progress_screen_size": [ "80%", "90%" ], // Day One Experience import progress modal screen
              "$world_conversion_complete_screen_size": [ 290, 160 ], // World Conversion complete modal screen
              "$gamepad_disconnect_screen_size": [ 300, 100 ], //custom gamepad disconnected modal size, to contain all languages in title
              "$storage_migration_progress_size": [ 290, 100 ],
              "$store_modal_screen_size": [ "100% - 20px", "100% - 20px" ],
              "$csb_upsell_screen_size": [ "100%-4px", "100%-4px" ]
            }
          ],
          "button_mappings": [
            {
              "from_button_id": "button.menu_up",
              "to_button_id": "button.menu_up",
              "mapping_type": "global",
              "scope": "view"
            },
            {
              "from_button_id": "button.menu_down",
              "to_button_id": "button.menu_down",
              "mapping_type": "global",
              "scope": "view"
            },
            {
              "from_button_id": "button.menu_left",
              "to_button_id": "button.menu_left",
              "mapping_type": "global",
              "scope": "view"
            },
            {
              "from_button_id": "button.menu_right",
              "to_button_id": "button.menu_right",
              "mapping_type": "global",
              "scope": "view"
            }
          ],
          "controls": [
            {
              "bg_no_safezone_screen_panel@$screen_bg_content": {
                "anims": "$background_animations",
                "animation_reset_name": "screen_animation_reset",
                "propagate_alpha": true,
                "disable_anim_fast_forward": true,
                "layer": 2
              }
            },
            {
              "safezone_screen_matrix@common.safezone_outer_matrix": {
                "anims": "$screen_animations",
                "animation_reset_name": "screen_animation_reset",
                "propagate_alpha": true,
                "disable_anim_fast_forward": true,
                "layer": "$safezone_screen_matrix_layer"
              }
            },
            {
              "screen_background@common_dialogs.full_screen_background": {
                "anims": "$screen_animations",
                "animation_reset_name": "screen_animation_reset",
                "propagate_alpha": true,
                "disable_anim_fast_forward": true,
                "layer": -1
              }
            }
          ]
        }
      },
      {
        "loading_bars_background": {
          "type": "image",
          "visible": "$use_loading_bars",
          "texture": "textures/ui/effect_background",
          "size": [ "33%", "100%c + 16px" ],
          "alpha": 0.0,
          "propagate_alpha": true,
          "animation_reset_name": "screen_animation_reset",
          "disable_anim_fast_forward": true,

          "controls": [
            {
              "loading_bars@common_store.progress_loading_bars": {
                "size": [ "100%", "8%x" ],
                "max_size": []
              }
            }
          ],

          "anims": [
            "@common.loading_bar_init_animation_push",
            "@common.loading_bar_init_animation_pop"
          ]
        }
      }
    ]
  },

  "render_below_base_screen@common.base_screen": {
    "force_render_below": true
  },

  "safezone_buffer": {
    "type": "panel",
    "bindings": [
      {
        "binding_name": "$safezone_binding_name",
        "binding_name_override": "#visible"
      }
    ]
  },

  "top_safezone_vertical_buffer@common.safezone_buffer": {
    "size": "$top_vertical_safezone_size"
  },

  "bottom_safezone_vertical_buffer@common.safezone_buffer": {
    "size": "$bottom_vertical_safezone_size"
  },

  "left_safezone_horizontal_buffer@common.safezone_buffer": {
    "size": "$left_horizontal_safezone_size"
  },

  "right_safezone_horizontal_buffer@common.safezone_buffer": {
    "size": "$right_horizontal_safezone_size"
  },

  "safe_zone_stack": {
    "type": "stack_panel",
    "size": [ "100%", "100%" ],
    "$header_bar_control|default": "common.empty_panel",
    "$header_safezone_control|default": "common.empty_panel",
    "controls": [
      {
        "top_outer_control@$header_safezone_control": {
          "size": "$top_vertical_safezone_size",
          "bindings": [
            {
              "binding_name": "#safezone_outer_top",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "top_inner_control@$header_safezone_control": {
          "size": "$top_vertical_safezone_size",
          "bindings": [
            {
              "binding_name": "#safezone_inner_top",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "header_bar@$header_bar_control": {}
      }
    ]
  },

  "safezone_inner_matrix": {
    "type": "stack_panel",
    "size": [ "fill", "100%" ],
    "orientation": "vertical",
    "$header_safezone_control|default": "common.empty_panel",
    "controls": [
      {
        "outer_top@common.top_safezone_vertical_buffer": {
          "$safezone_binding_name": "#safezone_outer_top",
          "controls": [
            {
              "top_side_control@$header_safezone_control": {
                "size": [ "100%", "100%" ],
                "anchor_from": "top_left",
                "anchor_to": "top_left"
              }
            }
          ]
        }
      },
      {
        "inner_top@common.top_safezone_vertical_buffer": {
          "$safezone_binding_name": "#safezone_inner_top",
          "controls": [
            {
              "top_side_control@$header_safezone_control": {
                "size": [ "100%", "100%" ],
                "anchor_from": "top_left",
                "anchor_to": "top_left"
              }
            }
          ]
        }
      },
      { "safezone_screen_panel@common.screen_panel": {} },
      {
        "inner_bottom@common.bottom_safezone_vertical_buffer": {
          "$safezone_binding_name": "#safezone_inner_bottom"
        }
      },
      {
        "outer_bottom@common.bottom_safezone_vertical_buffer": {
          "$safezone_binding_name": "#safezone_outer_bottom"
        }
      }
    ]
  },

  "safezone_outer_matrix": {
    "type": "stack_panel",
    "orientation": "horizontal",
    "size": [ "100%", "100%" ],
    "controls": [
      {
        "outer_left@common.left_safezone_horizontal_buffer": {
          "$safezone_binding_name": "#safezone_outer_left",
          "controls": [
            {
              "outer_left_safe_zone_stack@common.safe_zone_stack": {}
            }
          ]
        }
      },
      {
        "inner_left@common.left_safezone_horizontal_buffer": {
          "$safezone_binding_name": "#safezone_inner_left",
          "anchor_from": "top_left",
          "anchor_to": "top_left",
          "controls": [
            {
              "inner_left_safe_zone_stack@common.safe_zone_stack": {}
            }
          ]
        }
      },
      { "inner_matrix@common.safezone_inner_matrix": {} },
      {
        "inner_right@common.right_safezone_horizontal_buffer": {
          "$safezone_binding_name": "#safezone_inner_right",
          "controls": [
            {
              "inner_right_safe_zone_stack@common.safe_zone_stack": {}
            }
          ]
        }
      },
      {
        "outer_right@common.right_safezone_horizontal_buffer": {
          "$safezone_binding_name": "#safezone_outer_right",
          "controls": [
            {
              "outer_right_safe_zone_stack@common.safe_zone_stack": {}
            }
          ]
        }
      }
    ]
  },

  "bundle_tooltip_wrapper": {
    "type": "panel",
    "size": [ "100%", "100%" ],
    "controls": [
      { "bundle_tooltip_factory_wrapper@gameplay.bundle_tooltip_factory_wrapper": {} },
      { "bundle_touch_tooltip@gameplay.bundle_touch_tooltip": {} }
    ],
    "bindings": [
      {
        "binding_name": "#is_container_screen",
        "binding_name_override": "#visible"
      }
    ]
  },

  "screen_panel": {
    "type": "panel",
    "size": [ "100%", "fill" ],
    "controls": [
      { "root_screen_panel@$screen_content": {} },
      { "additional_screen_content@$additional_screen_content": {} },
      {
        "popup_dialog_factory": {
          "type": "factory",
          "control_ids": {
            "modal_dialog_popup": "@popup_dialog.modal_dialog_popup",
            "storage_dependency_popup": "@storage_management_popup.storage_dependency_modal",
            "storage_sharing_popup": "@storage_management_popup.sharing_popup_content"
          }
        }
      },
      { "bundle_hover_tooltip@common.bundle_tooltip_wrapper": {} }
    ]
  },

  "base_screen_empty_panel": {
    "type": "panel"
  },

  "modal_screen@common.base_screen": {
    // necessary to have this screen as long as
    // ScreenChooser::isModalScreen() is hard coded to this name
  },

  "realms_error_modal_screen@common.modal_screen": {
    "force_render_below": true
  },

  "modal_area_panel_base": {
    "type": "input_panel",
    "layer": 1,
    "$menu_cancel_button_id|default": "button.menu_exit",
    "$modal_binding_name|default": "",
    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "$menu_cancel_button_id",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_up",
        "to_button_id": "button.menu_up",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_down",
        "to_button_id": "button.menu_down",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_left",
        "to_button_id": "button.menu_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_right",
        "to_button_id": "button.menu_right",
        "mapping_type": "global",
        "scope": "view"
      }
    ],
    "bindings": [
      {
        "binding_name": "$modal_binding_name",
        "binding_name_override": "#modal"
      }
    ]
  },

  "inactive_modal_pane_fade": {
    "type": "image",
    "size": [ "100%", "100%" ],
    "texture": "textures/ui/White",
    "color": [ 0.5, 0.5, 0.5 ],
    "alpha": 0.5,
    "layer": 25,
    "bindings": [
      {
        "binding_name": "$modal_binding_name",
        "binding_name_override": "#visible"
      }
    ]
  },

  "inventory_screen_common@base_screen": {
    "cache_screen": true,
    "$additional_screen_content": "common.stack_splitting_overlay",
    "$gamepad_cursor|default": true,
    "gamepad_cursor": "$gamepad_cursor",

    "$screen_animations|default": [
      "@common.container_screen_exit_animation_push",
      "@common.container_screen_exit_animation_pop",
      "@common.container_screen_entrance_animation_push",
      "@common.container_screen_entrance_animation_pop",
      "@common.screen_exit_animation_push_fade",
      "@common.screen_exit_animation_pop_fade",
      "@common.screen_entrance_animation_push_fade",
      "@common.screen_entrance_animation_pop_fade"
    ],

    "button_mappings": [
      {
        "from_button_id": "button.menu_cancel",
        "to_button_id": "button.menu_exit",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_inventory_cancel",
        "to_button_id": "button.menu_exit",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.menu_up",
        "to_button_id": "button.menu_up",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_down",
        "to_button_id": "button.menu_down",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_left",
        "to_button_id": "button.menu_left",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_right",
        "to_button_id": "button.menu_right",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_select",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_secondary_select",
        "to_button_id": "button.cursor_drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.menu_ok",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_back",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed",
        "ignored": "(not $is_ps4)"
      },
      {
        "from_button_id": "button.controller_select",
        "to_button_id": "button.cursor_drop_one",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select",
        "to_button_id": "button.cursor_drop_all",
        "mapping_type": "pressed"
      },
      {
        "from_button_id": "button.controller_secondary_select_left",
        "to_button_id": "button.focus_left",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.controller_secondary_select_right",
        "to_button_id": "button.focus_right",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.chat",
        "to_button_id": "button.chat",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot0",
        "to_button_id": "button.slot_0",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot1",
        "to_button_id": "button.slot_1",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot2",
        "to_button_id": "button.slot_2",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot3",
        "to_button_id": "button.slot_3",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot4",
        "to_button_id": "button.slot_4",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot5",
        "to_button_id": "button.slot_5",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot6",
        "to_button_id": "button.slot_6",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot7",
        "to_button_id": "button.slot_7",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot8",
        "to_button_id": "button.slot_8",
        "mapping_type": "global"
      },
      {
        "from_button_id": "button.slot9",
        "to_button_id": "button.slot_9",
        "mapping_type": "global"
      }
    ]
  },

  // Making screens full screen //

  "fullscreen_header": {
    "type": "stack_panel",
    "size": [ "100%", "100%" ],
    "$child_control|default": "common.empty_panel",
    "controls": [
      {
        "top_bar@common.top_bar": {
          "size": [ "100%", 23 ],
          "controls": [
            {
              "title_stack_panel": {
                "type": "stack_panel",
                "size": [ "100%", 19 ],
                "orientation": "horizontal",
                "controls": [
                  {
                    "padding1": {
                      "type": "panel",
                      "size": [ 2, "100%" ]
                    }
                  },
                  { "back_button_content_panel@common.back_content_panel": {} },
                  {
                    "padding2": {
                      "type": "panel",
                      "size": [ 2, "100%" ]
                    }
                  }
                ]
              }
            }
          ]
        }
      },
      {
        "child_control@$child_control": {
          "size": [ "100%", "fill" ],
          "layer": 2
        }
      }
    ]
  },

  "back_content_panel": {
    "type": "panel",
    "size": [ "100%c", "100%" ],
    "anchor_from": "left_middle",
    "anchor_to": "left_middle",
    "controls": [
      {
        "back_button@common.back_title_button": {
          "offset": [ 0, -1 ],
          "layer": 200 //This should always be on top, let's ensure that
        }
      }
    ]
  },

  "top_bar": {
    "type": "image",
    "texture": "textures/ui/StoreTopBar",
    "size": [ "100%", 23 ]
  },


  //////////  Common Tool Tip Objects  //////////

  "tooltip_background": {
    "type": "image",
    "$tooltip_background_texture|default": "textures/ui/tooltip_default_background",
    "texture": "$tooltip_background_texture",
    "$tooltip_background_color|default": "$f_color_format",
    "color": "$tooltip_background_color"
  },

  "tooltip_button_content@common.tooltip_background": {
    "size": "$tooltip_button_content_size",
    "$tooltip_panel_content_background_alpha|default": 1.0,
    "alpha": "$tooltip_panel_content_background_alpha",
    "controls": [
      {
        "tooltip_panel_content@$tooltip_panel_content": {}
      }
    ]
  },

  "static_tooltip_popup_with_image_and_text@common.tooltip_background": {
    "$override_tooltip_popup_image|default": false,
    "$tooltip_popup_image|default": "",
    "$ignore_tooltip_popup_image|default": false,
    "$ignore_tooltip_popup_chevron|default": false,
    "$tooltip_popup_visible_binding|default": "",
    "$tooltip_panel_offset|default": [ 0, "-100%c - 2px" ],
    "$tooltip_panel_size|default": [ "100%", "100%cm + 8px" ],

    "size": "$tooltip_panel_size",
    "offset": "$tooltip_panel_offset",
    "layer": 200, // always on top
    "anchor_to": "top_middle",
    "anchor_from": "top_middle",
    "controls": [
      {
        "image_and_text_stack_panel": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100% - 10px", "100%cm" ],
          "$tooltip_image_text_panel_offset|default": [ 0, 0 ],
          "offset": "$tooltip_image_text_panel_offset",
          "layer": 2,
          "controls": [
            {
              "tooltip_text_image_panel": {
                "ignored": "$ignore_tooltip_popup_image",
                "type": "panel",
                "size": [ "100%y", "100%sm" ],
                "min_size": [ 8, 8 ],
                // The max y is 200 due to the fact that we have no way to say use inherited max sibling height
                //   - 200 was used in thoughts that whatever text was used would not need more that 200px
                //     allowing the image to grow and string with the height of the text object
                "max_size": [ 12, 200 ],
                "controls": [
                  {
                    "tooltip_image_panel": {
                      "type": "panel",
                      "size": [ "100%", "100%x" ],
                      "$tooltip_popup_image_control_array|default": [
                        {
                          "tooltip_popup_image_panel": {
                            "type": "image",
                            "bilinear": true,
                            "texture": "$tooltip_popup_image"
                          }
                        }
                      ],
                      "variables": [
                        {
                          "requires": "$override_tooltip_popup_image",
                          "$tooltip_popup_image_control_array": [
                            {
                              "tooltip_popup_override_image_panel@$tooltip_popup_override_image_panel": {
                                "size": [ "100%", "100%" ]
                              }
                            }
                          ]
                        }
                      ],
                      "controls": "$tooltip_popup_image_control_array"
                    }
                  }
                ]
              }
            },
            {
              "padding": {
                "ignored": "$ignore_tooltip_popup_image",
                "type": "panel",
                "size": [ 3, 0 ]
              }
            },
            {
              "tooltip_text": {
                "type": "label",
                "size": [ "fill", "default" ],
                "$tool_tip_text_max_size|default": [ "default", "default" ],
                "max_size": "$tool_tip_text_max_size",
                "$tooltip_text_binding_name|default": "#tooltip_text",
                "text": "$tooltip_text_binding_name",
                "$tooltip_text_color|default": "$f_color_format",
                "color": "$tooltip_text_color",
                "$tooltip_text_font_type|default": "default",
                "$tooltip_text_font_size|default": "normal",
                "$tooltip_text_line_padding|default": 1,
                "font_type": "$tooltip_text_font_type",
                "font_size": "$tooltip_text_font_size",
                "line_padding": "$tooltip_text_line_padding",
                "$tooltip_text_binding_type|default": "$tooltip_button_binding_type",
                "$tooltip_text_bindings|default": [
                  {
                    "binding_name": "$tooltip_text_binding_name",
                    "binding_collection_name": "$tooltip_button_collection_name",
                    "binding_type": "$tooltip_text_binding_type",
                    "binding_condition": "visibility_changed"
                  }
                ],
                "bindings": "$tooltip_text_bindings"
              }
            }
          ]
        }
      },
      {
        "tooltip_chevron": {
          "ignored": "$ignore_tooltip_popup_chevron",
          "type": "image",
          "layer": 2,
          "bilinear": true,
          "$tooltip_popup_chevron_size|default": [ 19, 13 ],
          "size": "$tooltip_popup_chevron_size",
          "$tooltip_popup_chevron_offset|default": [ "30%x", "100%y - 3px" ],
          "offset": "$tooltip_popup_chevron_offset",
          "$tooltip_chevron_anchor|default": "bottom_left",
          "anchor_to": "$tooltip_chevron_anchor",
          "anchor_from": "$tooltip_chevron_anchor",
          "$tooltip_popup_chevron_texture|default": "textures/ui/tooltip_default_chevron",
          "texture": "$tooltip_popup_chevron_texture"
        }
      }
    ],
    "bindings": [
      {
        "binding_name": "$tooltip_popup_visible_binding",
        "binding_name_override": "#visible",
        "binding_collection_name": "$tooltip_button_collection_name",
        "binding_type": "$tooltip_button_binding_type"
      }
    ]
  },

  "dynamic_tooltip_popup_with_custom_content@common.tooltip_background": {
    "$ignore_tooltip_popup_chevron|default": false,
    "$tooltip_popup_visible_binding|default": "",
    "$tooltip_panel_offset|default": [ 0, -2 ],
    "$tooltip_content|default": "common.empty_panel",

    "min_size": [ 25, "default" ],
    "size": [ "100%c - 6px", "100%cm + 8px" ],
    "offset": "$tooltip_panel_offset",
    "layer": 200, // always on top
    "anchor_from": "top_middle",
    "anchor_to": "bottom_middle",
    "$dynamic_tooltip_popup_with_custom_content_bindings|default": [
      {
        "binding_name": "$tooltip_popup_visible_binding",
        "binding_name_override": "#visible",
        "binding_collection_name": "$tooltip_button_collection_name",
        "binding_type": "$tooltip_button_binding_type"
      }
    ],
    "bindings": "$dynamic_tooltip_popup_with_custom_content_bindings",
    "controls": [
      {
        "tooltip_content@$tooltip_content": {}
      },
      {
        "tooltip_chevron": {
          "ignored": "$ignore_tooltip_popup_chevron",
          "type": "image",
          "layer": 2,
          "$tooltip_popup_chevron_size|default": [ 19, 13 ],
          "size": "$tooltip_popup_chevron_size",
          "$tooltip_popup_chevron_offset|default": [ 0, "100%y - 3px" ],
          "offset": "$tooltip_popup_chevron_offset",
          "$tooltip_chevron_anchor|default": "bottom_middle",
          "anchor_to": "$tooltip_chevron_anchor",
          "anchor_from": "$tooltip_chevron_anchor",
          "$tooltip_popup_chevron_texture|default": "textures/ui/tooltip_default_chevron",
          "texture": "$tooltip_popup_chevron_texture"
        }
      }
    ]
  },

  // Tool tip with centered chevron
  // $tool_tip_text_max_size defines how text wraps (x wraps with a '-' and y will cut off with '...')
  "dynamic_tooltip_popup_with_image_and_text@common.tooltip_background": {
    "$override_tooltip_popup_image|default": false,
    "$tooltip_popup_image|default": "",
    "$ignore_tooltip_popup_image|default": false,
    "$ignore_tooltip_popup_chevron|default": false,
    "$tooltip_popup_visible_binding|default": "",
    "$tooltip_panel_offset|default": [ 0, -2 ],

    "min_size": [ 25, "default" ],
    "size": [ "100%c - 6px", "100%cm + 8px" ],
    "offset": "$tooltip_panel_offset",
    "layer": 200, // always on top
    "anchor_from": "top_middle",
    "anchor_to": "bottom_middle",
    "$dynamic_tooltip_popup_with_image_and_text_bindings|default": [
      {
        "binding_name": "$tooltip_popup_visible_binding",
        "binding_name_override": "#visible",
        "binding_collection_name": "$tooltip_button_collection_name",
        "binding_type": "$tooltip_button_binding_type"
      }
    ],
    "bindings": "$dynamic_tooltip_popup_with_image_and_text_bindings",
    "controls": [
      {
        "image_and_text_stack_panel": {
          "type": "stack_panel",
          "orientation": "horizontal",
          "size": [ "100%c", "100%cm" ],
          "offset": [ 0.5, 0 ],
          "layer": 2,
          "controls": [
            {
              "tooltip_text_image_panel": {
                "ignored": "$ignore_tooltip_popup_image",
                "type": "panel",
                "size": [ "100%y", "100%sm" ],
                "min_size": [ 8, 8 ],
                // The max y is 200 due to the fact that we have no way to say use inherited max sibling height
                //   - 200 was used in thoughts that whatever text was used would not need more that 200px
                //     allowing the image to grow and string with the height of the text object
                "max_size": [ 15, 200 ],
                "controls": [
                  {
                    "tooltip_image_panel": {
                      "type": "panel",
                      "size": [ "100%", "100%x" ],
                      "$tooltip_popup_image_control_array|default": [
                        {
                          "tooltip_popup_image_panel": {
                            "type": "image",
                            "texture": "$tooltip_popup_image"
                          }
                        }
                      ],
                      "variables": [
                        {
                          "requires": "$override_tooltip_popup_image",
                          "$tooltip_popup_image_control_array": [
                            {
                              "tooltip_popup_override_image_panel@$tooltip_popup_override_image_panel": {
                                "size": [ "100%", "100%" ]
                              }
                            }
                          ]
                        }
                      ],
                      "controls": "$tooltip_popup_image_control_array"
                    }
                  }
                ]
              }
            },
            {
              "padding": {
                "ignored": "$ignore_tooltip_popup_image",
                "type": "panel",
                "size": [ 3, 0 ]
              }
            },
            {
              "tooltip_text": {
                "type": "label",
                "$tool_tip_text_max_size|default": [ "default", "default" ],
                "max_size": "$tool_tip_text_max_size",
                "size": [ "default", "default" ],
                "$tooltip_text_binding_name|default": "#tooltip_text",
                "$tooltip_text_binding_type|default": "$tooltip_button_binding_type",
                "$tts_override_control_value|default": "$tooltip_text_binding_name",
                "text": "$tooltip_text_binding_name",
                "tts_override_control_value": "$tts_override_control_value",
                "$tooltip_text_font_type|default": "default",
                "font_type": "$tooltip_text_font_type",
                "$tooltip_text_font_scale|default": 1,
                "font_scale_factor": "$tooltip_text_font_scale",
                "$tooltip_text_color|default": "$f_color_format",
                "color": "$tooltip_text_color",
                "$tooltip_text_bindings|default": [
                  {
                    "binding_name": "$tooltip_text_binding_name",
                    "binding_collection_name": "$tooltip_button_collection_name",
                    "binding_type": "$tooltip_text_binding_type"
                  }
                ],
                "bindings": "$tooltip_text_bindings"
              }
            }
          ]
        }
      },
      {
        "tooltip_chevron": {
          "ignored": "$ignore_tooltip_popup_chevron",
          "type": "image",
          "layer": 2,
          "$tooltip_popup_chevron_size|default": [ 19, 13 ],
          "size": "$tooltip_popup_chevron_size",
          "$tooltip_popup_chevron_offset|default": [ 0, "100%y - 3px" ],
          "offset": "$tooltip_popup_chevron_offset",
          "$tooltip_chevron_anchor|default": "bottom_middle",
          "anchor_to": "$tooltip_chevron_anchor",
          "anchor_from": "$tooltip_chevron_anchor",
          "$tooltip_popup_chevron_texture|default": "textures/ui/tooltip_default_chevron",
          "texture": "$tooltip_popup_chevron_texture"
        }
      }
    ]
  },

  // Helper for tooltips intended to be left of the control
  "dynamic_tooltip_left@dynamic_tooltip_popup_with_image_and_text": {
    "$tooltip_panel_offset": [ 0, 0 ],
    "$tooltip_chevron_anchor": "right_middle",
    "$tooltip_popup_chevron_offset": [ 9, 0 ],
    "$tooltip_popup_chevron_texture": "textures/ui/tooltip_default_chevron_right",
    "$tooltip_popup_chevron_size": [ 13, 19 ],
    "anchor_to": "right_middle",
    "anchor_from": "left_middle"
  },

  // Helper for tooltips intended to be below control
  "dynamic_tooltip_below@dynamic_tooltip_popup_with_image_and_text": {
    "$tooltip_panel_offset": [ 0, 2 ],
    "anchor_to": "top_middle",
    "anchor_from": "bottom_middle",
    "$tooltip_chevron_anchor": "top_middle",
    "$tooltip_popup_chevron_offset": [ 0, "-100%y + 3px" ],
    "$tooltip_popup_chevron_texture": "textures/ui/tooltip_inverted_chevron"
  },

  // Helper for tooltips intended to be below control
  "dynamic_custom_tooltip_below@dynamic_tooltip_popup_with_custom_content": {
    "$tooltip_panel_offset": [ 0, 2 ],
    "anchor_to": "top_middle",
    "anchor_from": "bottom_middle",
    "$tooltip_chevron_anchor": "top_middle",
    "$tooltip_popup_chevron_offset": [ 0, "-100%y + 3px" ],
    "$tooltip_popup_chevron_texture": "textures/ui/tooltip_inverted_chevron"
  },

  // Helper for tooltips with dynamic positioning
  "dynamic_tooltip": {
    "type": "panel",
    "$tooltip_above_binding_name|default": "",
    "$tooltip_above_binding_collection_name|default": "",
    "$tooltip_above_binding_type|default": "none",
    "controls": [
      {
        "above@common.empty_panel": {
          "controls": [ { "content@dynamic_tooltip_popup_with_image_and_text": {} } ],
          "bindings": [
            {
              "binding_name": "$tooltip_above_binding_name",
              "binding_name_override": "#visible",
              "binding_collection_name": "$tooltip_above_binding_collection_name",
              "binding_type": "$tooltip_above_binding_type"
            }
          ]
        }
      },
      {
        "below@common.empty_panel": {
          "controls": [ { "content@dynamic_tooltip_below": {} } ],
          "bindings": [
            {
              "binding_name": "(not $tooltip_above_binding_name)",
              "binding_name_override": "#visible",
              "binding_collection_name": "$tooltip_above_binding_collection_name",
              "binding_type": "$tooltip_above_binding_type"
            }
          ]
        }
      }
    ]
  },

  ///////////////////////////////////////////////////////////////////////////


  // Legacy In Game Close Button //

  "legacy_pocket_close_button_default": {
    "type": "image",
    "texture": "textures/ui/legacy_pocket_close_button_default"
  },
  "legacy_pocket_close_button_pressed@common.legacy_pocket_close_button_default": {
    "texture": "textures/ui/legacy_pocket_close_button_pressed"
  },
  "legacy_pocket_close_button@common.button": {
    "$pressed_button_name": "button.menu_exit",
    "size": [ 18, 18 ],
    "offset": [ 0, 1 ],
    "focus_enabled": false,
    "anchor_from": "top_right",
    "anchor_to": "top_right",
    "controls": [
      { "default@common.legacy_pocket_close_button_default": {} },
      { "hover@common.legacy_pocket_close_button_default": {} },
      { "pressed@common.legacy_pocket_close_button_pressed": {} }
    ],
    "bindings": [
      {
        "binding_name": "#close_button_visible",
        "binding_name_override": "#visible"
      }
    ]
  },


  ///////////////////////////////////////////////////////////////////////////
  // Common Icons //
  ///////////////////////////////////////////////////////////////////////////

  "info_icon": {
    "type": "image",
    "texture": "textures/ui/infobulb"
  },

  "error_glyph": {
    "type": "image",
    "texture": "textures/ui/ErrorGlyph"
  },

  "service_repo_image_panel": {
    "type": "panel",
    "controls": [
      {
        "service_repo_image": {
          "type": "image",
          "$repo_image_texture|default": "",
          "$repo_image_tiled|default": "false",
          "tiled": "$repo_image_tiled",
          "property_bag": {
            "#image_name": "$repo_image_texture"
          },
          "bindings": [
            {
              "binding_name": "#service_image_texture_filename",
              "binding_name_override": "#texture"
            },
            {
              "binding_name": "#service_image_texture_location",
              "binding_name_override": "#texture_file_system"
            },
            {
              "binding_name": "#service_image_repo_ready",
              "binding_name_override": "#visible"
            }
          ]
        }
      },
      {
        "progress_loading@common_store.progress_loading": {
          "size": [ "100%", 0 ],
          "min_size": [ "100%", 10 ],
          "inherit_max_sibling_height": true,
          "layer": 3,
          "$hide_failure_text": true,
          "$hide_progress_loading_outline": true,
          "bindings": [
            {
              "binding_name": "(not #service_image_repo_ready)",
              "binding_name_override": "#visible"
            }
          ]
        }
      }
    ]
  },

  "common_cycler": {
    "$next_page_button_event|default": "button.cast_subpage_right",
    "$prev_page_button_event|default": "button.cast_subpage_left",
    "next_sub_page_button_name": "$next_page_button_event",
    "prev_sub_page_button_name": "$prev_page_button_event",

    "button_mappings": [
      {
        "from_button_id": "$prev_page_button_event",
        "to_button_id": "$prev_page_button_event",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "$next_page_button_event",
        "to_button_id": "$next_page_button_event",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_tab_left",
        "to_button_id": "$prev_page_button_event",
        "mapping_type": "global",
        "scope": "view"
      },
      {
        "from_button_id": "button.menu_tab_right",
        "to_button_id": "$next_page_button_event",
        "mapping_type": "global",
        "scope": "view"
      }
    ]
  },

  "image_cycler@common.common_cycler": {
    "type": "image_cycler",
    "images": "$image_cycler_images"
  },

  "text_cycler@common.common_cycler": {
    "type": "label_cycler",
    "text_labels": "$text_cycler_labels"
  },

  // create square panel based off and constrained to parent's dimensions
  //   - shrink x to max y, then shrink y to max x if needed
  "squaring_panel": {
    "type": "panel",
    "max_size": [ "100%y", "100%" ],
    "controls": [
      {
        "squaring_panel": {
          "type": "panel",
          "max_size": [ "100%", "100%x" ],
          "controls": [
            { "squaring_panel_content@$squaring_panel_content": {} }
          ]
        }
      }
    ]
  }

}
